!function(global,factory){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=global.document?factory(global,!0):function(w){if(w.document)return factory(w);throw new Error("jQuery requires a window with a document")}:factory(global)}("undefined"!=typeof window?window:this,function(window,noGlobal){"use strict";function isFunction(obj){return"function"==typeof obj&&"number"!=typeof obj.nodeType&&"function"!=typeof obj.item}function isWindow(obj){return null!=obj&&obj===obj.window}var arr=[],getProto=Object.getPrototypeOf,slice=arr.slice,flat=arr.flat?function(array){return arr.flat.call(array)}:function(array){return arr.concat.apply([],array)},push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,fnToString=hasOwn.toString,ObjectFunctionString=fnToString.call(Object),support={},document=window.document,preservedScriptAttributes={type:!0,src:!0,nonce:!0,noModule:!0};function DOMEval(code,node,doc){var i,val,script=(doc=doc||document).createElement("script");if(script.text=code,node)for(i in preservedScriptAttributes)(val=node[i]||node.getAttribute&&node.getAttribute(i))&&script.setAttribute(i,val);doc.head.appendChild(script).parentNode.removeChild(script)}function toType(obj){return null==obj?obj+"":"object"==typeof obj||"function"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj}var rhtmlSuffix=/HTML$/i,jQuery=function(selector,context){return new jQuery.fn.init(selector,context)};function isArrayLike(obj){var length=!!obj&&"length"in obj&&obj.length,type=toType(obj);return!isFunction(obj)&&!isWindow(obj)&&("array"===type||0===length||"number"==typeof length&&0<length&&length-1 in obj)}function nodeName(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()}jQuery.fn=jQuery.prototype={jquery:"3.7.1",constructor:jQuery,length:0,toArray:function(){return slice.call(this)},get:function(num){return null==num?slice.call(this):num<0?this[num+this.length]:this[num]},pushStack:function(elems){elems=jQuery.merge(this.constructor(),elems);return elems.prevObject=this,elems},each:function(callback){return jQuery.each(this,callback)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(jQuery.grep(this,function(_elem,i){return(i+1)%2}))},odd:function(){return this.pushStack(jQuery.grep(this,function(_elem,i){return i%2}))},eq:function(i){var len=this.length,i=+i+(i<0?len:0);return this.pushStack(0<=i&&i<len?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var options,name,copy,copyIsArray,src,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"==typeof target||isFunction(target)||(target={}),i===length&&(target=this,i--);i<length;i++)if(null!=(options=arguments[i]))for(name in options)copy=options[name],"__proto__"!==name&&target!==copy&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=Array.isArray(copy)))?(src=target[name],src=copyIsArray&&!Array.isArray(src)?[]:copyIsArray||jQuery.isPlainObject(src)?src:{},copyIsArray=!1,target[name]=jQuery.extend(deep,src,copy)):void 0!==copy&&(target[name]=copy));return target},jQuery.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(msg){throw new Error(msg)},noop:function(){},isPlainObject:function(obj){return!(!obj||"[object Object]"!==toString.call(obj)||(obj=getProto(obj))&&("function"!=typeof(obj=hasOwn.call(obj,"constructor")&&obj.constructor)||fnToString.call(obj)!==ObjectFunctionString))},isEmptyObject:function(obj){for(var name in obj)return!1;return!0},globalEval:function(code,options,doc){DOMEval(code,{nonce:options&&options.nonce},doc)},each:function(obj,callback){var length,i=0;if(isArrayLike(obj))for(length=obj.length;i<length&&!1!==callback.call(obj[i],i,obj[i]);i++);else for(i in obj)if(!1===callback.call(obj[i],i,obj[i]))break;return obj},text:function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(!nodeType)for(;node=elem[i++];)ret+=jQuery.text(node);return 1===nodeType||11===nodeType?elem.textContent:9===nodeType?elem.documentElement.textContent:3===nodeType||4===nodeType?elem.nodeValue:ret},makeArray:function(arr,results){results=results||[];return null!=arr&&(isArrayLike(Object(arr))?jQuery.merge(results,"string"==typeof arr?[arr]:arr):push.call(results,arr)),results},inArray:function(elem,arr,i){return null==arr?-1:indexOf.call(arr,elem,i)},isXMLDoc:function(elem){var namespace=elem&&elem.namespaceURI,elem=elem&&(elem.ownerDocument||elem).documentElement;return!rhtmlSuffix.test(namespace||elem&&elem.nodeName||"HTML")},merge:function(first,second){for(var len=+second.length,j=0,i=first.length;j<len;j++)first[i++]=second[j];return first.length=i,first},grep:function(elems,callback,invert){for(var matches=[],i=0,length=elems.length,callbackExpect=!invert;i<length;i++)!callback(elems[i],i)!=callbackExpect&&matches.push(elems[i]);return matches},map:function(elems,callback,arg){var length,value,i=0,ret=[];if(isArrayLike(elems))for(length=elems.length;i<length;i++)null!=(value=callback(elems[i],i,arg))&&ret.push(value);else for(i in elems)null!=(value=callback(elems[i],i,arg))&&ret.push(value);return flat(ret)},guid:1,support:support}),"function"==typeof Symbol&&(jQuery.fn[Symbol.iterator]=arr[Symbol.iterator]),jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(_i,name){class2type["[object "+name+"]"]=name.toLowerCase()});var pop=arr.pop,sort=arr.sort,splice=arr.splice,whitespace="[\\x20\\t\\r\\n\\f]",rtrimCSS=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcssescape=(jQuery.contains=function(a,b){b=b&&b.parentNode;return a===b||!(!b||1!==b.nodeType||!(a.contains?a.contains(b):a.compareDocumentPosition&&16&a.compareDocumentPosition(b)))},/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g);function fcssescape(ch,asCodePoint){return asCodePoint?"\0"===ch?"ï¿½":ch.slice(0,-1)+"\\"+ch.charCodeAt(ch.length-1).toString(16)+" ":"\\"+ch}jQuery.escapeSelector=function(sel){return(sel+"").replace(rcssescape,fcssescape)};function dir(elem,dir,until){for(var matched=[],truncate=void 0!==until;(elem=elem[dir])&&9!==elem.nodeType;)if(1===elem.nodeType){if(truncate&&jQuery(elem).is(until))break;matched.push(elem)}return matched}function siblings(n,elem){for(var matched=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&matched.push(n);return matched}var preferredDoc=document,pushNative=push,rneedsContext=(!function(){var i,Expr,outermostContext,sortInput,hasDuplicate,document,documentElement,documentIsHTML,rbuggyQSA,matches,push=pushNative,expando=jQuery.expando,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),nonnativeSelectorCache=createCache(),sortOrder=function(a,b){return a===b&&(hasDuplicate=!0),0},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",identifier="(?:\\\\[\\da-fA-F]{1,6}"+whitespace+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",attributes="\\["+whitespace+"*("+identifier+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+identifier+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|.*)\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rleadingCombinator=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rdescend=new RegExp(whitespace+"|>"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+identifier+")"),CLASS:new RegExp("^\\.("+identifier+")"),TAG:new RegExp("^("+identifier+"|[*])"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,runescape=new RegExp("\\\\[\\da-fA-F]{1,6}"+whitespace+"?|\\\\([^\\r\\n\\f])","g"),funescape=function(escape,nonHex){escape="0x"+escape.slice(1)-65536;return nonHex||(escape<0?String.fromCharCode(65536+escape):String.fromCharCode(escape>>10|55296,1023&escape|56320))},unloadHandler=function(){setDocument()},inDisabledFieldset=addCombinator(function(elem){return!0===elem.disabled&&nodeName(elem,"fieldset")},{dir:"parentNode",next:"legend"});try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:function(target,els){pushNative.apply(target,slice.call(els))},call:function(target){pushNative.apply(target,slice.call(arguments,1))}}}function find(selector,context,results,seed){var m,i,nid,match,groups,elem,newContext=context&&context.ownerDocument,nodeType=context?context.nodeType:9;if(results=results||[],"string"!=typeof selector||!selector||1!==nodeType&&9!==nodeType&&11!==nodeType)return results;if(!seed&&(setDocument(context),context=context||document,documentIsHTML)){if(11!==nodeType&&(match=rquickExpr.exec(selector)))if(m=match[1]){if(9===nodeType){if(!(elem=context.getElementById(m)))return results;if(elem.id===m)return push.call(results,elem),results}else if(newContext&&(elem=newContext.getElementById(m))&&find.contains(context,elem)&&elem.id===m)return push.call(results,elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&context.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),results}if(!(nonnativeSelectorCache[selector+" "]||rbuggyQSA&&rbuggyQSA.test(selector))){if(elem=selector,newContext=context,1===nodeType&&(rdescend.test(selector)||rleadingCombinator.test(selector))){for((newContext=rsibling.test(selector)&&testContext(context.parentNode)||context)==context&&support.scope||((nid=context.getAttribute("id"))?nid=jQuery.escapeSelector(nid):context.setAttribute("id",nid=expando)),i=(groups=tokenize(selector)).length;i--;)groups[i]=(nid?"#"+nid:":scope")+" "+toSelector(groups[i]);elem=groups.join(",")}try{return push.apply(results,newContext.querySelectorAll(elem)),results}catch(qsaError){nonnativeSelectorCache(selector,!0)}finally{nid===expando&&context.removeAttribute("id")}}}return select(selector.replace(rtrimCSS,"$1"),context,results,seed)}function createCache(){var keys=[];function cache(key,value){return keys.push(key+" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key+" "]=value}return cache}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var el=document.createElement("fieldset");try{return!!fn(el)}catch(e){return!1}finally{el.parentNode&&el.parentNode.removeChild(el)}}function createDisabledPseudo(disabled){return function(elem){return"form"in elem?elem.parentNode&&!1===elem.disabled?"label"in elem?"label"in elem.parentNode?elem.parentNode.disabled===disabled:elem.disabled===disabled:elem.isDisabled===disabled||elem.isDisabled!==!disabled&&inDisabledFieldset(elem)===disabled:elem.disabled===disabled:"label"in elem&&elem.disabled===disabled}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function testContext(context){return context&&void 0!==context.getElementsByTagName&&context}function setDocument(node){var node=node?node.ownerDocument||node:preferredDoc;return node!=document&&9===node.nodeType&&node.documentElement&&(documentElement=(document=node).documentElement,documentIsHTML=!jQuery.isXMLDoc(document),matches=documentElement.matches||documentElement.webkitMatchesSelector||documentElement.msMatchesSelector,documentElement.msMatchesSelector&&preferredDoc!=document&&(node=document.defaultView)&&node.top!==node&&node.addEventListener("unload",unloadHandler),support.getById=assert(function(el){return documentElement.appendChild(el).id=jQuery.expando,!document.getElementsByName||!document.getElementsByName(jQuery.expando).length}),support.disconnectedMatch=assert(function(el){return matches.call(el,"*")}),support.scope=assert(function(){return document.querySelectorAll(":scope")}),support.cssHas=assert(function(){try{document.querySelector(":has(*,:jqfake)")}catch(e){return 1}}),support.getById?(Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}},Expr.find.ID=function(id,context){if(void 0!==context.getElementById&&documentIsHTML)return(context=context.getElementById(id))?[context]:[]}):(Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){elem=void 0!==elem.getAttributeNode&&elem.getAttributeNode("id");return elem&&elem.value===attrId}},Expr.find.ID=function(id,context){if(void 0!==context.getElementById&&documentIsHTML){var node,i,elems,elem=context.getElementById(id);if(elem){if((node=elem.getAttributeNode("id"))&&node.value===id)return[elem];for(elems=context.getElementsByName(id),i=0;elem=elems[i++];)if((node=elem.getAttributeNode("id"))&&node.value===id)return[elem]}return[]}}),Expr.find.TAG=function(tag,context){return void 0!==context.getElementsByTagName?context.getElementsByTagName(tag):context.querySelectorAll(tag)},Expr.find.CLASS=function(className,context){if(void 0!==context.getElementsByClassName&&documentIsHTML)return context.getElementsByClassName(className)},rbuggyQSA=[],assert(function(el){var input;documentElement.appendChild(el).innerHTML="<a id='"+expando+"' href='' disabled='disabled'></a><select id='"+expando+"-\r\\' disabled='disabled'><option selected=''></option></select>",el.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")"),el.querySelectorAll("[id~="+expando+"-]").length||rbuggyQSA.push("~="),el.querySelectorAll("a#"+expando+"+*").length||rbuggyQSA.push(".#.+[+~]"),el.querySelectorAll(":checked").length||rbuggyQSA.push(":checked"),(input=document.createElement("input")).setAttribute("type","hidden"),el.appendChild(input).setAttribute("name","D"),documentElement.appendChild(el).disabled=!0,2!==el.querySelectorAll(":disabled").length&&rbuggyQSA.push(":enabled",":disabled"),(input=document.createElement("input")).setAttribute("name",""),el.appendChild(input),el.querySelectorAll("[name='']").length||rbuggyQSA.push("\\["+whitespace+"*name"+whitespace+"*="+whitespace+"*(?:''|\"\")")}),support.cssHas||rbuggyQSA.push(":has"),rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|")),sortOrder=function(a,b){var compare;return a===b?(hasDuplicate=!0,0):(compare=!a.compareDocumentPosition-!b.compareDocumentPosition)||(1&(compare=(a.ownerDocument||a)==(b.ownerDocument||b)?a.compareDocumentPosition(b):1)||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a===document||a.ownerDocument==preferredDoc&&find.contains(preferredDoc,a)?-1:b===document||b.ownerDocument==preferredDoc&&find.contains(preferredDoc,b)?1:sortInput?indexOf.call(sortInput,a)-indexOf.call(sortInput,b):0:4&compare?-1:1)}),document}for(i in find.matches=function(expr,elements){return find(expr,null,null,elements)},find.matchesSelector=function(elem,expr){if(setDocument(elem),documentIsHTML&&!nonnativeSelectorCache[expr+" "]&&(!rbuggyQSA||!rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){nonnativeSelectorCache(expr,!0)}return 0<find(expr,document,null,[elem]).length},find.contains=function(context,elem){return(context.ownerDocument||context)!=document&&setDocument(context),jQuery.contains(context,elem)},find.attr=function(elem,name){(elem.ownerDocument||elem)!=document&&setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],fn=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):void 0;return void 0!==fn?fn:elem.getAttribute(name)},find.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},jQuery.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.sortStable,sortInput=!support.sortStable&&slice.call(results,0),sort.call(results,sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)splice.call(results,duplicates[j],1)}return sortInput=null,results},jQuery.fn.uniqueSort=function(){return this.pushStack(jQuery.uniqueSort(slice.apply(this)))},(Expr=jQuery.expr={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1].slice(0,3)?(match[3]||find.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3])),match[5]=+(match[7]+match[8]||"odd"===match[3])):match[3]&&find.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]?match[2]=match[4]||match[5]||"":unquoted&&rpseudo.test(unquoted)&&(excess=(excess=tokenize(unquoted,!0))&&unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var expectedNodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return"*"===nodeNameSelector?function(){return!0}:function(elem){return nodeName(elem,expectedNodeName)}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test("string"==typeof elem.className&&elem.className||void 0!==elem.getAttribute&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){elem=find.attr(elem,name);return null==elem?"!="===operator:!operator||(elem+="","="===operator?elem===check:"!="===operator?elem!==check:"^="===operator?check&&0===elem.indexOf(check):"*="===operator?check&&-1<elem.indexOf(check):"$="===operator?check&&elem.slice(-check.length)===check:"~="===operator?-1<(" "+elem.replace(rwhitespace," ")+" ").indexOf(check):"|="===operator&&(elem===check||elem.slice(0,check.length+1)===check+"-"))}},CHILD:function(type,what,_argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,_context,xml){var cache,outerCache,node,nodeIndex,start,dir=simple!=forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType,diff=!1;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?nodeName(node,name):1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&&useCache){for(diff=(nodeIndex=(cache=(outerCache=parent[expando]||(parent[expando]={}))[type]||[])[0]===dirruns&&cache[1])&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0,start.pop());)if(1===node.nodeType&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break}}else if(!1===(diff=useCache?nodeIndex=(cache=(outerCache=elem[expando]||(elem[expando]={}))[type]||[])[0]===dirruns&&cache[1]:diff))for(;(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0,start.pop()))&&((ofType?!nodeName(node,name):1!==node.nodeType)||!++diff||(useCache&&((outerCache=node[expando]||(node[expando]={}))[type]=[dirruns,diff]),node!==elem)););return(diff-=last)===first||diff%first==0&&0<=diff/first}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||find.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):1<fn.length?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)seed[idx=indexOf.call(seed,matched[i])]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrimCSS,"$1"));return matcher[expando]?markFunction(function(seed,matches,_context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,_context,xml){return input[0]=elem,matcher(input,null,xml,results),input[0]=null,!results.pop()}}),has:markFunction(function(selector){return function(elem){return 0<find(selector,elem).length}}),contains:markFunction(function(text){return text=text.replace(runescape,funescape),function(elem){return-1<(elem.textContent||jQuery.text(elem)).indexOf(text)}}),lang:markFunction(function(lang){return ridentifier.test(lang||"")||find.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do{if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return(elemLang=elemLang.toLowerCase())===lang||0===elemLang.indexOf(lang+"-")}while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===documentElement},focus:function(elem){return elem===function(){try{return document.activeElement}catch(err){}}()&&document.hasFocus()&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:createDisabledPseudo(!1),disabled:createDisabledPseudo(!0),checked:function(elem){return nodeName(elem,"input")&&!!elem.checked||nodeName(elem,"option")&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,!0===elem.selected},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeType<6)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){return nodeName(elem,"input")&&"button"===elem.type||nodeName(elem,"button")},text:function(elem){return nodeName(elem,"input")&&"text"===elem.type&&(null==(elem=elem.getAttribute("type"))||"text"===elem.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(_matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(_matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:length<argument?length:argument;0<=--i;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes})}}).pseudos.nth=Expr.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=function(type){return function(elem){return nodeName(elem,"input")&&elem.type===type}}(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=function(type){return function(elem){return(nodeName(elem,"input")||nodeName(elem,"button"))&&elem.type===type}}(i);function setFilters(){}function tokenize(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){for(type in matched&&!(match=rcomma.exec(soFar))||(match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rleadingCombinator.exec(soFar))&&(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrimCSS," ")}),soFar=soFar.slice(matched.length)),Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?find.error(selector):tokenCache(selector,groups).slice(0)}function toSelector(tokens){for(var i=0,len=tokens.length,selector="";i<len;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,skip=combinator.next,key=skip||dir,checkNonElements=base&&"parentNode"===key,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml);return!1}:function(elem,context,xml){var oldCache,outerCache,newCache=[dirruns,doneName];if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)if(outerCache=elem[expando]||(elem[expando]={}),skip&&nodeName(elem,skip))elem=elem[dir]||elem;else{if((oldCache=outerCache[key])&&oldCache[0]===dirruns&&oldCache[1]===doneName)return newCache[2]=oldCache[2];if((outerCache[key]=newCache)[2]=matcher(elem,context,xml))return!0}return!1}}function elementMatcher(matchers){return 1<matchers.length?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;i<len;i++)!(elem=unmatched[i])||filter&&!filter(elem,context,xml)||(newUnmatched.push(elem),mapped&&map.push(i));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,matcherOut,preMap=[],postMap=[],preexisting=results.length,elems=seed||function(selector,contexts,results){for(var i=0,len=contexts.length;i<len;i++)find(selector,contexts[i],results);return results}(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml);if(matcher?matcher(matcherIn,matcherOut=postFinder||(seed?preFilter:preexisting||postFilter)?[]:results,context,xml):matcherOut=matcherIn,postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&&-1<(temp=postFinder?indexOf.call(seed,elem):preMap[i])&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)})}function matcherFromGroupMatchers(elementMatchers,setMatchers){function superMatcher(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1,len=elems.length;for(outermost&&(outermostContext=context==document||context||outermost);i!==len&&null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0,context||elem.ownerDocument==document||(setDocument(elem),xml=!documentIsHTML);matcher=elementMatchers[j++];)if(matcher(elem,context||document,xml)){push.call(results,elem);break}outermost&&(dirruns=dirrunsUnique)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed)&&unmatched.push(elem)}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(0<matchedCount)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&0<setMatched.length&&1<matchedCount+setMatchers.length&&jQuery.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched}var bySet=0<setMatchers.length,byElement=0<elementMatchers.length;return bySet?markFunction(superMatcher):superMatcher}function compile(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(i=(match=match||tokenize(selector)).length;i--;)((cached=function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return-1<indexOf.call(checkContext,elem)},implicitRelative,!0),matchers=[function(elem,context,xml){return elem=!leadingRelative&&(xml||context!=outermostContext)||((checkContext=context).nodeType?matchContext:matchAnyContext)(elem,context,xml),checkContext=null,elem}];i<len;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if((matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches))[expando]){for(j=++i;j<len&&!Expr.relative[tokens[j].type];j++);return setMatcher(1<i&&elementMatcher(matchers),1<i&&toSelector(tokens.slice(0,i-1).concat({value:" "===tokens[i-2].type?"*":""})).replace(rtrimCSS,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}(match[i]))[expando]?setMatchers:elementMatchers).push(cached);(cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers))).selector=selector}return cached}function select(selector,context,results,seed){var i,tokens,token,type,find,compiled="function"==typeof selector&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);if(results=results||[],1===match.length){if(2<(tokens=match[0]=match[0].slice(0)).length&&"ID"===(token=tokens[0]).type&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){if(!(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0]))return results;compiled&&(context=context.parentNode),selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&&(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){if(tokens.splice(i,1),selector=seed.length&&toSelector(tokens))break;return push.apply(results,seed),results}}return(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,!context||rsibling.test(selector)&&testContext(context.parentNode)||context),results}setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,support.sortStable=expando.split("").sort(sortOrder).join("")===expando,setDocument(),support.sortDetached=assert(function(el){return 1&el.compareDocumentPosition(document.createElement("fieldset"))}),jQuery.find=find,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=jQuery.uniqueSort,find.compile=compile,find.select=select,find.setDocument=setDocument,find.tokenize=tokenize,find.escape=jQuery.escapeSelector,find.getText=jQuery.text,find.isXML=jQuery.isXMLDoc,find.selectors=jQuery.expr,find.support=jQuery.support,find.uniqueSort=jQuery.uniqueSort}(),jQuery.expr.match.needsContext),rsingleTag=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function winnow(elements,qualifier,not){return isFunction(qualifier)?jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not}):qualifier.nodeType?jQuery.grep(elements,function(elem){return elem===qualifier!==not}):"string"!=typeof qualifier?jQuery.grep(elements,function(elem){return-1<indexOf.call(qualifier,elem)!==not}):jQuery.filter(qualifier,elements,not)}jQuery.filter=function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))},jQuery.fn.extend({find:function(selector){var i,ret,len=this.length,self=this;if("string"!=typeof selector)return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++)if(jQuery.contains(self[i],this))return!0}));for(ret=this.pushStack([]),i=0;i<len;i++)jQuery.find(selector,self[i],ret);return 1<len?jQuery.uniqueSort(ret):ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function(selector){return!!winnow(this,"string"==typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,rparentsprev=((jQuery.fn.init=function(selector,context,root){if(selector){if(root=root||rootjQuery,"string"!=typeof selector)return selector.nodeType?(this[0]=selector,this.length=1,this):isFunction(selector)?void 0!==root.ready?root.ready(selector):selector(jQuery):jQuery.makeArray(selector,this);if(!(match="<"===selector[0]&&">"===selector[selector.length-1]&&3<=selector.length?[null,selector,null]:rquickExpr.exec(selector))||!match[1]&&context)return(!context||context.jquery?context||root:this.constructor(context)).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0)),rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(var match in context)isFunction(this[match])?this[match](context[match]):this.attr(match,context[match])}else(root=document.getElementById(match[2]))&&(this[0]=root,this.length=1)}return this}).prototype=jQuery.fn,rootjQuery=jQuery(document),/^(?:parents|prev(?:Until|All))/),guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};function sibling(cur,dir){for(;(cur=cur[dir])&&1!==cur.nodeType;);return cur}jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){for(var i=0;i<l;i++)if(jQuery.contains(this,targets[i]))return!0})},closest:function(selectors,context){var cur,i=0,l=this.length,matched=[],targets="string"!=typeof selectors&&jQuery(selectors);if(!rneedsContext.test(selectors))for(;i<l;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(targets?-1<targets.index(cur):1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}return this.pushStack(1<matched.length?jQuery.uniqueSort(matched):matched)},index:function(elem){return elem?"string"==typeof elem?indexOf.call(jQuery(elem),this[0]):indexOf.call(this,elem.jquery?elem[0]:elem):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function(elem){elem=elem.parentNode;return elem&&11!==elem.nodeType?elem:null},parents:function(elem){return dir(elem,"parentNode")},parentsUntil:function(elem,_i,until){return dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return dir(elem,"nextSibling")},prevAll:function(elem){return dir(elem,"previousSibling")},nextUntil:function(elem,_i,until){return dir(elem,"nextSibling",until)},prevUntil:function(elem,_i,until){return dir(elem,"previousSibling",until)},siblings:function(elem){return siblings((elem.parentNode||{}).firstChild,elem)},children:function(elem){return siblings(elem.firstChild)},contents:function(elem){return null!=elem.contentDocument&&getProto(elem.contentDocument)?elem.contentDocument:(nodeName(elem,"template")&&(elem=elem.content||elem),jQuery.merge([],elem.childNodes))}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);return(selector="Until"!==name.slice(-5)?until:selector)&&"string"==typeof selector&&(matched=jQuery.filter(selector,matched)),1<this.length&&(guaranteedUnique[name]||jQuery.uniqueSort(matched),rparentsprev.test(name))&&matched.reverse(),this.pushStack(matched)}});var rnothtmlwhite=/[^\x20\t\r\n\f]+/g;function Identity(v){return v}function Thrower(ex){throw ex}function adoptValue(value,resolve,reject,noValue){var method;try{value&&isFunction(method=value.promise)?method.call(value).done(resolve).fail(reject):value&&isFunction(method=value.then)?method.call(value,resolve,reject):resolve.apply(void 0,[value].slice(noValue))}catch(value){reject.apply(void 0,[value])}}jQuery.Callbacks=function(options){options="string"==typeof options?function(options){var object={};return jQuery.each(options.match(rnothtmlwhite)||[],function(_,flag){object[flag]=!0}),object}(options):jQuery.extend({},options);function fire(){for(locked=locked||options.once,fired=firing=!0;queue.length;firingIndex=-1)for(memory=queue.shift();++firingIndex<list.length;)!1===list[firingIndex].apply(memory[0],memory[1])&&options.stopOnFalse&&(firingIndex=list.length,memory=!1);options.memory||(memory=!1),firing=!1,locked&&(list=memory?[]:"")}var firing,memory,fired,locked,list=[],queue=[],firingIndex=-1,self={add:function(){return list&&(memory&&!firing&&(firingIndex=list.length-1,queue.push(memory)),function add(args){jQuery.each(args,function(_,arg){isFunction(arg)?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==toType(arg)&&add(arg)})}(arguments),memory)&&!firing&&fire(),this},remove:function(){return jQuery.each(arguments,function(_,arg){for(var index;-1<(index=jQuery.inArray(arg,list,index));)list.splice(index,1),index<=firingIndex&&firingIndex--}),this},has:function(fn){return fn?-1<jQuery.inArray(fn,list):0<list.length},empty:function(){return list=list&&[],this},disable:function(){return locked=queue=[],list=memory="",this},disabled:function(){return!list},lock:function(){return locked=queue=[],memory||firing||(list=memory=""),this},locked:function(){return!!locked},fireWith:function(context,args){return locked||(args=[context,(args=args||[]).slice?args.slice():args],queue.push(args),firing)||fire(),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["notify","progress",jQuery.Callbacks("memory"),jQuery.Callbacks("memory"),2],["resolve","done",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),0,"resolved"],["reject","fail",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),1,"rejected"]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},catch:function(fn){return promise.then(null,fn)},pipe:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(_i,tuple){var fn=isFunction(fns[tuple[4]])&&fns[tuple[4]];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&isFunction(returned.promise)?returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject):newDefer[tuple[0]+"With"](this,fn?[returned]:arguments)})}),fns=null}).promise()},then:function(onFulfilled,onRejected,onProgress){var maxDepth=0;function resolve(depth,deferred,handler,special){return function(){function mightThrow(){var returned,then;if(!(depth<maxDepth)){if((returned=handler.apply(that,args))===deferred.promise())throw new TypeError("Thenable self-resolution");then=returned&&("object"==typeof returned||"function"==typeof returned)&&returned.then,isFunction(then)?special?then.call(returned,resolve(maxDepth,deferred,Identity,special),resolve(maxDepth,deferred,Thrower,special)):(maxDepth++,then.call(returned,resolve(maxDepth,deferred,Identity,special),resolve(maxDepth,deferred,Thrower,special),resolve(maxDepth,deferred,Identity,deferred.notifyWith))):(handler!==Identity&&(that=void 0,args=[returned]),(special||deferred.resolveWith)(that,args))}}var that=this,args=arguments,process=special?mightThrow:function(){try{mightThrow()}catch(e){jQuery.Deferred.exceptionHook&&jQuery.Deferred.exceptionHook(e,process.error),maxDepth<=depth+1&&(handler!==Thrower&&(that=void 0,args=[e]),deferred.rejectWith(that,args))}};depth?process():(jQuery.Deferred.getErrorHook?process.error=jQuery.Deferred.getErrorHook():jQuery.Deferred.getStackHook&&(process.error=jQuery.Deferred.getStackHook()),window.setTimeout(process))}}return jQuery.Deferred(function(newDefer){tuples[0][3].add(resolve(0,newDefer,isFunction(onProgress)?onProgress:Identity,newDefer.notifyWith)),tuples[1][3].add(resolve(0,newDefer,isFunction(onFulfilled)?onFulfilled:Identity)),tuples[2][3].add(resolve(0,newDefer,isFunction(onRejected)?onRejected:Thrower))}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};return jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[5];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[3-i][2].disable,tuples[3-i][3].disable,tuples[0][2].lock,tuples[0][3].lock),list.add(tuple[3].fire),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?void 0:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(singleValue){function updateFunc(i){return function(value){resolveContexts[i]=this,resolveValues[i]=1<arguments.length?slice.call(arguments):value,--remaining||primary.resolveWith(resolveContexts,resolveValues)}}var remaining=arguments.length,i=remaining,resolveContexts=Array(i),resolveValues=slice.call(arguments),primary=jQuery.Deferred();if(remaining<=1&&(adoptValue(singleValue,primary.done(updateFunc(i)).resolve,primary.reject,!remaining),"pending"===primary.state()||isFunction(resolveValues[i]&&resolveValues[i].then)))return primary.then();for(;i--;)adoptValue(resolveValues[i],updateFunc(i),primary.reject);return primary.promise()}});var rerrorNames=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,readyList=(jQuery.Deferred.exceptionHook=function(error,asyncError){window.console&&window.console.warn&&error&&rerrorNames.test(error.name)&&window.console.warn("jQuery.Deferred exception: "+error.message,error.stack,asyncError)},jQuery.readyException=function(error){window.setTimeout(function(){throw error})},jQuery.Deferred());function completed(){document.removeEventListener("DOMContentLoaded",completed),window.removeEventListener("load",completed),jQuery.ready()}jQuery.fn.ready=function(fn){return readyList.then(fn).catch(function(error){jQuery.readyException(error)}),this},jQuery.extend({isReady:!1,readyWait:1,ready:function(wait){(!0===wait?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0)!==wait&&0<--jQuery.readyWait||readyList.resolveWith(document,[jQuery])}}),jQuery.ready.then=readyList.then,"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed),window.addEventListener("load",completed));function access(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=null==key;if("object"===toType(key))for(i in chainable=!0,key)access(elems,fn,i,key[i],!0,emptyGet,raw);else if(void 0!==value&&(chainable=!0,isFunction(value)||(raw=!0),fn=bulk?raw?(fn.call(elems,value),null):(bulk=fn,function(elem,_key,value){return bulk.call(jQuery(elem),value)}):fn))for(;i<len;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet}var rmsPrefix=/^-ms-/,rdashAlpha=/-([a-z])/g;function fcamelCase(_all,letter){return letter.toUpperCase()}function camelCase(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)}function acceptData(owner){return 1===owner.nodeType||9===owner.nodeType||!+owner.nodeType}function Data(){this.expando=jQuery.expando+Data.uid++}Data.uid=1,Data.prototype={cache:function(owner){var value=owner[this.expando];return value||(value={},acceptData(owner)&&(owner.nodeType?owner[this.expando]=value:Object.defineProperty(owner,this.expando,{value:value,configurable:!0}))),value},set:function(owner,data,value){var prop,cache=this.cache(owner);if("string"==typeof data)cache[camelCase(data)]=value;else for(prop in data)cache[camelCase(prop)]=data[prop];return cache},get:function(owner,key){return void 0===key?this.cache(owner):owner[this.expando]&&owner[this.expando][camelCase(key)]},access:function(owner,key,value){return void 0===key||key&&"string"==typeof key&&void 0===value?this.get(owner,key):(this.set(owner,key,value),void 0!==value?value:key)},remove:function(owner,key){var i,cache=owner[this.expando];if(void 0!==cache){if(void 0!==key){i=(key=Array.isArray(key)?key.map(camelCase):(key=camelCase(key))in cache?[key]:key.match(rnothtmlwhite)||[]).length;for(;i--;)delete cache[key[i]]}void 0!==key&&!jQuery.isEmptyObject(cache)||(owner.nodeType?owner[this.expando]=void 0:delete owner[this.expando])}},hasData:function(owner){owner=owner[this.expando];return void 0!==owner&&!jQuery.isEmptyObject(owner)}};var dataPriv=new Data,dataUser=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/[A-Z]/g;function dataAttr(elem,key,data){var name;if(void 0===data&&1===elem.nodeType)if(name="data-"+key.replace(rmultiDash,"-$&").toLowerCase(),"string"==typeof(data=elem.getAttribute(name))){try{data=function(data){return"true"===data||"false"!==data&&("null"===data?null:data===+data+""?+data:rbrace.test(data)?JSON.parse(data):data)}(data)}catch(e){}dataUser.set(elem,key,data)}else data=void 0;return data}jQuery.extend({hasData:function(elem){return dataUser.hasData(elem)||dataPriv.hasData(elem)},data:function(elem,name,data){return dataUser.access(elem,name,data)},removeData:function(elem,name){dataUser.remove(elem,name)},_data:function(elem,name,data){return dataPriv.access(elem,name,data)},_removeData:function(elem,name){dataPriv.remove(elem,name)}}),jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(void 0!==key)return"object"==typeof key?this.each(function(){dataUser.set(this,key)}):access(this,function(value){var data;if(elem&&void 0===value)return void 0!==(data=dataUser.get(elem,key))||void 0!==(data=dataAttr(elem,key))?data:void 0;this.each(function(){dataUser.set(this,key,value)})},null,value,1<arguments.length,null,!0);if(this.length&&(data=dataUser.get(elem),1===elem.nodeType)&&!dataPriv.get(elem,"hasDataAttrs")){for(i=attrs.length;i--;)attrs[i]&&0===(name=attrs[i].name).indexOf("data-")&&(name=camelCase(name.slice(5)),dataAttr(elem,name,data[name]));dataPriv.set(elem,"hasDataAttrs",!0)}return data},removeData:function(key){return this.each(function(){dataUser.remove(this,key)})}}),jQuery.extend({queue:function(elem,type,data){var queue;if(elem)return queue=dataPriv.get(elem,type=(type||"fx")+"queue"),data&&(!queue||Array.isArray(data)?queue=dataPriv.access(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type);"inprogress"===fn&&(fn=queue.shift(),startLength--),fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,function(){jQuery.dequeue(elem,type)},hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return dataPriv.get(elem,key)||dataPriv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){dataPriv.remove(elem,[type+"queue",key])})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):void 0===data?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){function resolve(){--count||defer.resolveWith(elements,[elements])}var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length;for("string"!=typeof type&&(obj=type,type=void 0),type=type||"fx";i--;)(tmp=dataPriv.get(elements[i],type+"queueHooks"))&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});function isHiddenWithinTree(elem,el){return"none"===(elem=el||elem).style.display||""===elem.style.display&&isAttached(elem)&&"none"===jQuery.css(elem,"display")}var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rcssNum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),cssExpand=["Top","Right","Bottom","Left"],documentElement=document.documentElement,isAttached=function(elem){return jQuery.contains(elem.ownerDocument,elem)},composed={composed:!0};documentElement.getRootNode&&(isAttached=function(elem){return jQuery.contains(elem.ownerDocument,elem)||elem.getRootNode(composed)===elem.ownerDocument});function adjustCSS(elem,prop,valueParts,tween){var adjusted,scale,maxIterations=20,currentValue=tween?function(){return tween.cur()}:function(){return jQuery.css(elem,prop,"")},initial=currentValue(),unit=valueParts&&valueParts[3]||(jQuery.cssNumber[prop]?"":"px"),initialInUnit=elem.nodeType&&(jQuery.cssNumber[prop]||"px"!==unit&&+initial)&&rcssNum.exec(jQuery.css(elem,prop));if(initialInUnit&&initialInUnit[3]!==unit){for(unit=unit||initialInUnit[3],initialInUnit=+(initial/=2)||1;maxIterations--;)jQuery.style(elem,prop,initialInUnit+unit),(1-scale)*(1-(scale=currentValue()/initial||.5))<=0&&(maxIterations=0),initialInUnit/=scale;jQuery.style(elem,prop,(initialInUnit*=2)+unit),valueParts=valueParts||[]}return valueParts&&(initialInUnit=+initialInUnit||+initial||0,adjusted=valueParts[1]?initialInUnit+(valueParts[1]+1)*valueParts[2]:+valueParts[2],tween)&&(tween.unit=unit,tween.start=initialInUnit,tween.end=adjusted),adjusted}var defaultDisplayMap={};function showHide(elements,show){for(var display,elem,values=[],index=0,length=elements.length;index<length;index++)(elem=elements[index]).style&&(display=elem.style.display,show?("none"===display&&(values[index]=dataPriv.get(elem,"display")||null,values[index]||(elem.style.display="")),""===elem.style.display&&isHiddenWithinTree(elem)&&(values[index]=function(elem){var doc=elem.ownerDocument,elem=elem.nodeName,display=defaultDisplayMap[elem];return display||(doc=doc.body.appendChild(doc.createElement(elem)),display=jQuery.css(doc,"display"),doc.parentNode.removeChild(doc),defaultDisplayMap[elem]=display="none"===display?"block":display),display}(elem))):"none"!==display&&(values[index]="none",dataPriv.set(elem,"display",display)));for(index=0;index<length;index++)null!=values[index]&&(elements[index].style.display=values[index]);return elements}jQuery.fn.extend({show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){return"boolean"==typeof state?state?this.show():this.hide():this.each(function(){isHiddenWithinTree(this)?jQuery(this).show():jQuery(this).hide()})}});var div,rcheckableType=/^(?:checkbox|radio)$/i,rtagName=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,rscriptType=/^$|^module$|\/(?:java|ecma)script/i,wrapMap=(div=document.createDocumentFragment().appendChild(document.createElement("div")),(input=document.createElement("input")).setAttribute("type","radio"),input.setAttribute("checked","checked"),input.setAttribute("name","t"),div.appendChild(input),support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked,div.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue,div.innerHTML="<option></option>",support.option=!!div.lastChild,{thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]});function getAll(context,tag){var ret=void 0!==context.getElementsByTagName?context.getElementsByTagName(tag||"*"):void 0!==context.querySelectorAll?context.querySelectorAll(tag||"*"):[];return void 0===tag||tag&&nodeName(context,tag)?jQuery.merge([context],ret):ret}function setGlobalEval(elems,refElements){for(var i=0,l=elems.length;i<l;i++)dataPriv.set(elems[i],"globalEval",!refElements||dataPriv.get(refElements[i],"globalEval"))}wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,support.option||(wrapMap.optgroup=wrapMap.option=[1,"<select multiple='multiple'>","</select>"]);var rhtml=/<|&#?\w+;/;function buildFragment(elems,context,scripts,selection,ignored){for(var elem,tmp,tag,attached,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;i<l;i++)if((elem=elems[i])||0===elem)if("object"===toType(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),tag=wrapMap[tag]||wrapMap._default,tmp.innerHTML=tag[1]+jQuery.htmlPrefilter(elem)+tag[2],j=tag[0];j--;)tmp=tmp.lastChild;jQuery.merge(nodes,tmp.childNodes),(tmp=fragment.firstChild).textContent=""}else nodes.push(context.createTextNode(elem));for(fragment.textContent="",i=0;elem=nodes[i++];)if(selection&&-1<jQuery.inArray(elem,selection))ignored&&ignored.push(elem);else if(attached=isAttached(elem),tmp=getAll(fragment.appendChild(elem),"script"),attached&&setGlobalEval(tmp),scripts)for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem);return fragment}var rtypenamespace=/^([^.]*)(?:\.(.+)|)/;function returnTrue(){return!0}function returnFalse(){return!1}function on(elem,types,selector,data,fn,one){var origFn,type;if("object"==typeof types){for(type in"string"!=typeof selector&&(data=data||selector,selector=void 0),types)on(elem,type,selector,data,types[type],one);return elem}if(null==data&&null==fn?(fn=selector,data=selector=void 0):null==fn&&("string"==typeof selector?(fn=data,data=void 0):(fn=data,data=selector,selector=void 0)),!1===fn)fn=returnFalse;else if(!fn)return elem;return 1===one&&(origFn=fn,(fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)}).guid=origFn.guid||(origFn.guid=jQuery.guid++)),elem.each(function(){jQuery.event.add(this,types,fn,data,selector)})}function leverageNative(el,type,isSetup){isSetup?(dataPriv.set(el,type,!1),jQuery.event.add(el,type,{namespace:!1,handler:function(event){var result,saved=dataPriv.get(this,type);if(1&event.isTrigger&&this[type]){if(saved)(jQuery.event.special[type]||{}).delegateType&&event.stopPropagation();else if(saved=slice.call(arguments),dataPriv.set(this,type,saved),this[type](),result=dataPriv.get(this,type),dataPriv.set(this,type,!1),saved!==result)return event.stopImmediatePropagation(),event.preventDefault(),result}else saved&&(dataPriv.set(this,type,jQuery.event.trigger(saved[0],saved.slice(1),this)),event.stopPropagation(),event.isImmediatePropagationStopped=returnTrue)}})):void 0===dataPriv.get(el,type)&&jQuery.event.add(el,type,returnTrue)}jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,events,t,special,handlers,type,tmp,origType,elemData=dataPriv.get(elem);if(acceptData(elem))for(handler.handler&&(handler=(handleObjIn=handler).handler,selector=handleObjIn.selector),selector&&jQuery.find.matchesSelector(documentElement,selector),handler.guid||(handler.guid=jQuery.guid++),events=(events=elemData.events)||(elemData.events=Object.create(null)),eventHandle=(eventHandle=elemData.handle)||(elemData.handle=function(e){return void 0!==jQuery&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):void 0}),t=(types=(types||"").match(rnothtmlwhite)||[""]).length;t--;)type=origType=(tmp=rtypenamespace.exec(types[t])||[])[1],tmp=(tmp[2]||"").split(".").sort(),type&&(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},origType=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:tmp.join(".")},handleObjIn),(handlers=events[type])||((handlers=events[type]=[]).delegateCount=0,special.setup&&!1!==special.setup.call(elem,data,tmp,eventHandle))||elem.addEventListener&&elem.addEventListener(type,eventHandle),special.add&&(special.add.call(elem,origType),origType.handler.guid||(origType.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,origType):handlers.push(origType),jQuery.event.global[type]=!0)},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.hasData(elem)&&dataPriv.get(elem);if(elemData&&(events=elemData.events)){for(t=(types=(types||"").match(rnothtmlwhite)||[""]).length;t--;)if(type=origType=(tmp=rtypenamespace.exec(types[t])||[])[1],namespaces=(tmp[2]||"").split(".").sort(),type){for(special=jQuery.event.special[type]||{},handlers=events[type=(selector?special.delegateType:special.bindType)||type]||[],tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||tmp&&!tmp.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&(special.teardown&&!1!==special.teardown.call(elem,namespaces,elemData.handle)||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&dataPriv.remove(elem,"handle events")}},dispatch:function(nativeEvent){var i,j,matched,handleObj,handlerQueue,args=new Array(arguments.length),event=jQuery.event.fix(nativeEvent),nativeEvent=(dataPriv.get(this,"events")||Object.create(null))[event.type]||[],special=jQuery.event.special[event.type]||{};for(args[0]=event,i=1;i<arguments.length;i++)args[i]=arguments[i];if(event.delegateTarget=this,!special.preDispatch||!1!==special.preDispatch.call(this,event)){for(handlerQueue=jQuery.event.handlers.call(this,event,nativeEvent),i=0;(matched=handlerQueue[i++])&&!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)event.rnamespace&&!1!==handleObj.namespace&&!event.rnamespace.test(handleObj.namespace)||(event.handleObj=handleObj,event.data=handleObj.data,void 0!==(handleObj=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args))&&!1===(event.result=handleObj)&&(event.preventDefault(),event.stopPropagation()));return special.postDispatch&&special.postDispatch.call(this,event),event.result}},handlers:function(event,handlers){var i,handleObj,sel,matchedHandlers,matchedSelectors,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&!("click"===event.type&&1<=event.button))for(;cur!==this;cur=cur.parentNode||this)if(1===cur.nodeType&&("click"!==event.type||!0!==cur.disabled)){for(matchedHandlers=[],matchedSelectors={},i=0;i<delegateCount;i++)void 0===matchedSelectors[sel=(handleObj=handlers[i]).selector+" "]&&(matchedSelectors[sel]=handleObj.needsContext?-1<jQuery(sel,this).index(cur):jQuery.find(sel,this,null,[cur]).length),matchedSelectors[sel]&&matchedHandlers.push(handleObj);matchedHandlers.length&&handlerQueue.push({elem:cur,handlers:matchedHandlers})}return cur=this,delegateCount<handlers.length&&handlerQueue.push({elem:cur,handlers:handlers.slice(delegateCount)}),handlerQueue},addProp:function(name,hook){Object.defineProperty(jQuery.Event.prototype,name,{enumerable:!0,configurable:!0,get:isFunction(hook)?function(){if(this.originalEvent)return hook(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[name]},set:function(value){Object.defineProperty(this,name,{enumerable:!0,configurable:!0,writable:!0,value:value})}})},fix:function(originalEvent){return originalEvent[jQuery.expando]?originalEvent:new jQuery.Event(originalEvent)},special:{load:{noBubble:!0},click:{setup:function(data){data=this||data;return rcheckableType.test(data.type)&&data.click&&nodeName(data,"input")&&leverageNative(data,"click",!0),!1},trigger:function(data){data=this||data;return rcheckableType.test(data.type)&&data.click&&nodeName(data,"input")&&leverageNative(data,"click"),!0},_default:function(event){event=event.target;return rcheckableType.test(event.type)&&event.click&&nodeName(event,"input")&&dataPriv.get(event,"click")||nodeName(event,"a")}},beforeunload:{postDispatch:function(event){void 0!==event.result&&event.originalEvent&&(event.originalEvent.returnValue=event.result)}}}},jQuery.removeEvent=function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle)},jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event))return new jQuery.Event(src,props);src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||void 0===src.defaultPrevented&&!1===src.returnValue?returnTrue:returnFalse,this.target=src.target&&3===src.target.nodeType?src.target.parentNode:src.target,this.currentTarget=src.currentTarget,this.relatedTarget=src.relatedTarget):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||Date.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},jQuery.event.addProp),jQuery.each({focus:"focusin",blur:"focusout"},function(type,delegateType){function focusMappedHandler(nativeEvent){var handle,event;document.documentMode?(handle=dataPriv.get(this,"handle"),(event=jQuery.event.fix(nativeEvent)).type="focusin"===nativeEvent.type?"focus":"blur",event.isSimulated=!0,handle(nativeEvent),event.target===event.currentTarget&&handle(event)):jQuery.event.simulate(delegateType,nativeEvent.target,jQuery.event.fix(nativeEvent))}jQuery.event.special[type]={setup:function(){var attaches;if(leverageNative(this,type,!0),!document.documentMode)return!1;(attaches=dataPriv.get(this,delegateType))||this.addEventListener(delegateType,focusMappedHandler),dataPriv.set(this,delegateType,(attaches||0)+1)},trigger:function(){return leverageNative(this,type),!0},teardown:function(){var attaches;if(!document.documentMode)return!1;(attaches=dataPriv.get(this,delegateType)-1)?dataPriv.set(this,delegateType,attaches):(this.removeEventListener(delegateType,focusMappedHandler),dataPriv.remove(this,delegateType))},_default:function(event){return dataPriv.get(event.target,type)},delegateType:delegateType},jQuery.event.special[delegateType]={setup:function(){var doc=this.ownerDocument||this.document||this,dataHolder=document.documentMode?this:doc,attaches=dataPriv.get(dataHolder,delegateType);attaches||(document.documentMode?this.addEventListener(delegateType,focusMappedHandler):doc.addEventListener(type,focusMappedHandler,!0)),dataPriv.set(dataHolder,delegateType,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this.document||this,dataHolder=document.documentMode?this:doc,attaches=dataPriv.get(dataHolder,delegateType)-1;attaches?dataPriv.set(dataHolder,delegateType,attaches):(document.documentMode?this.removeEventListener(delegateType,focusMappedHandler):doc.removeEventListener(type,focusMappedHandler,!0),dataPriv.remove(dataHolder,delegateType))}}}),jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,related=event.relatedTarget,handleObj=event.handleObj;return related&&(related===this||jQuery.contains(this,related))||(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),jQuery.fn.extend({on:function(types,selector,data,fn){return on(this,types,selector,data,fn)},one:function(types,selector,data,fn){return on(this,types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);else{if("object"!=typeof types)return!1!==selector&&"function"!=typeof selector||(fn=selector,selector=void 0),!1===fn&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)});for(type in types)this.off(type,selector,types[type])}return this}});var rnoInnerhtml=/<script|<style|<link/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rcleanScript=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function manipulationTarget(elem,content){return nodeName(elem,"table")&&nodeName(11!==content.nodeType?content:content.firstChild,"tr")&&jQuery(elem).children("tbody")[0]||elem}function disableScript(elem){return elem.type=(null!==elem.getAttribute("type"))+"/"+elem.type,elem}function restoreScript(elem){return"true/"===(elem.type||"").slice(0,5)?elem.type=elem.type.slice(5):elem.removeAttribute("type"),elem}function cloneCopyEvent(src,dest){var i,l,type,events;if(1===dest.nodeType){if(dataPriv.hasData(src)&&(events=dataPriv.get(src).events))for(type in dataPriv.remove(dest,"handle events"),events)for(i=0,l=events[type].length;i<l;i++)jQuery.event.add(dest,type,events[type][i]);dataUser.hasData(src)&&(src=dataUser.access(src),src=jQuery.extend({},src),dataUser.set(dest,src))}}function domManip(collection,args,callback,ignored){args=flat(args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=collection.length,iNoClone=l-1,value=args[0],valueIsFunction=isFunction(value);if(valueIsFunction||1<l&&"string"==typeof value&&!support.checkClone&&rchecked.test(value))return collection.each(function(index){var self=collection.eq(index);valueIsFunction&&(args[0]=value.call(this,index,self.html())),domManip(self,args,callback,ignored)});if(l&&(first=(fragment=buildFragment(args,collection[0].ownerDocument,!1,collection,ignored)).firstChild,1===fragment.childNodes.length&&(fragment=first),first||ignored)){for(hasScripts=(scripts=jQuery.map(getAll(fragment,"script"),disableScript)).length;i<l;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts)&&jQuery.merge(scripts,getAll(node,"script")),callback.call(collection[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;i<hasScripts;i++)node=scripts[i],rscriptType.test(node.type||"")&&!dataPriv.access(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src&&"module"!==(node.type||"").toLowerCase()?jQuery._evalUrl&&!node.noModule&&jQuery._evalUrl(node.src,{nonce:node.nonce||node.getAttribute("nonce")},doc):DOMEval(node.textContent.replace(rcleanScript,""),node,doc))}return collection}function remove(elem,selector,keepData){for(var node,nodes=selector?jQuery.filter(selector,elem):elem,i=0;null!=(node=nodes[i]);i++)keepData||1!==node.nodeType||jQuery.cleanData(getAll(node)),node.parentNode&&(keepData&&isAttached(node)&&setGlobalEval(getAll(node,"script")),node.parentNode.removeChild(node));return elem}jQuery.extend({htmlPrefilter:function(html){return html},clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,src,dest,nodeName,clone=elem.cloneNode(!0),inPage=isAttached(elem);if(!(support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),i=0,l=(srcElements=getAll(elem)).length;i<l;i++)src=srcElements[i],dest=destElements[i],nodeName=void 0,"input"===(nodeName=dest.nodeName.toLowerCase())&&rcheckableType.test(src.type)?dest.checked=src.checked:"input"!==nodeName&&"textarea"!==nodeName||(dest.defaultValue=src.defaultValue);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0,l=srcElements.length;i<l;i++)cloneCopyEvent(srcElements[i],destElements[i]);else cloneCopyEvent(elem,clone);return 0<(destElements=getAll(clone,"script")).length&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),clone},cleanData:function(elems){for(var data,elem,type,special=jQuery.event.special,i=0;void 0!==(elem=elems[i]);i++)if(acceptData(elem)){if(data=elem[dataPriv.expando]){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);elem[dataPriv.expando]=void 0}elem[dataUser.expando]&&(elem[dataUser.expando]=void 0)}}}),jQuery.fn.extend({detach:function(selector){return remove(this,selector,!0)},remove:function(selector){return remove(this,selector)},text:function(value){return access(this,function(value){return void 0===value?jQuery.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=value)})},null,value,arguments.length)},append:function(){return domManip(this,arguments,function(elem){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||manipulationTarget(this,elem).appendChild(elem)})},prepend:function(){return domManip(this,arguments,function(elem){var target;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(target=manipulationTarget(this,elem)).insertBefore(elem,target.firstChild)})},before:function(){return domManip(this,arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},after:function(){return domManip(this,arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++)1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.textContent="");return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null!=dataAndEvents&&dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(void 0===value&&1===elem.nodeType)return elem.innerHTML;if("string"==typeof value&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=jQuery.htmlPrefilter(value);try{for(;i<l;i++)1===(elem=this[i]||{}).nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(){var ignored=[];return domManip(this,arguments,function(elem){var parent=this.parentNode;jQuery.inArray(this,ignored)<0&&(jQuery.cleanData(getAll(this)),parent)&&parent.replaceChild(elem,this)},ignored)}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){for(var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;i<=last;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),push.apply(ret,elems.get());return this.pushStack(ret)}});function getStyles(elem){var view=elem.ownerDocument.defaultView;return(view=view&&view.opener?view:window).getComputedStyle(elem)}function swap(elem,options,callback){var name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];for(name in callback=callback.call(elem),options)elem.style[name]=old[name];return callback}var rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),rcustomProp=/^--/,rboxStyle=new RegExp(cssExpand.join("|"),"i");function curCSS(elem,name,computed){var ret,isCustomProp=rcustomProp.test(name),style=elem.style;return(computed=computed||getStyles(elem))&&(ret=computed.getPropertyValue(name)||computed[name],""!==(ret=isCustomProp?ret&&(ret.replace(rtrimCSS,"$1")||void 0):ret)||isAttached(elem)||(ret=jQuery.style(elem,name)),!support.pixelBoxStyles())&&rnumnonpx.test(ret)&&rboxStyle.test(name)&&(isCustomProp=style.width,elem=style.minWidth,name=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=isCustomProp,style.minWidth=elem,style.maxWidth=name),void 0!==ret?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){if(!conditionFn())return(this.get=hookFn).apply(this,arguments);delete this.get}}}!function(){function computeStyleTests(){var divStyle;div&&(container.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",div.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",documentElement.appendChild(container).appendChild(div),divStyle=window.getComputedStyle(div),pixelPositionVal="1%"!==divStyle.top,reliableMarginLeftVal=12===roundPixelMeasures(divStyle.marginLeft),div.style.right="60%",pixelBoxStylesVal=36===roundPixelMeasures(divStyle.right),boxSizingReliableVal=36===roundPixelMeasures(divStyle.width),div.style.position="absolute",scrollboxSizeVal=12===roundPixelMeasures(div.offsetWidth/3),documentElement.removeChild(container),div=null)}function roundPixelMeasures(measure){return Math.round(parseFloat(measure))}var pixelPositionVal,boxSizingReliableVal,scrollboxSizeVal,pixelBoxStylesVal,reliableTrDimensionsVal,reliableMarginLeftVal,container=document.createElement("div"),div=document.createElement("div");div.style&&(div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,jQuery.extend(support,{boxSizingReliable:function(){return computeStyleTests(),boxSizingReliableVal},pixelBoxStyles:function(){return computeStyleTests(),pixelBoxStylesVal},pixelPosition:function(){return computeStyleTests(),pixelPositionVal},reliableMarginLeft:function(){return computeStyleTests(),reliableMarginLeftVal},scrollboxSize:function(){return computeStyleTests(),scrollboxSizeVal},reliableTrDimensions:function(){var table,tr,trChild;return null==reliableTrDimensionsVal&&(table=document.createElement("table"),tr=document.createElement("tr"),trChild=document.createElement("div"),table.style.cssText="position:absolute;left:-11111px;border-collapse:separate",tr.style.cssText="box-sizing:content-box;border:1px solid",tr.style.height="1px",trChild.style.height="9px",trChild.style.display="block",documentElement.appendChild(table).appendChild(tr).appendChild(trChild),trChild=window.getComputedStyle(tr),reliableTrDimensionsVal=parseInt(trChild.height,10)+parseInt(trChild.borderTopWidth,10)+parseInt(trChild.borderBottomWidth,10)===tr.offsetHeight,documentElement.removeChild(table)),reliableTrDimensionsVal}}))}();var cssPrefixes=["Webkit","Moz","ms"],emptyStyle=document.createElement("div").style,vendorProps={};function finalPropName(name){var final=jQuery.cssProps[name]||vendorProps[name];return final||(name in emptyStyle?name:vendorProps[name]=function(name){for(var capName=name[0].toUpperCase()+name.slice(1),i=cssPrefixes.length;i--;)if((name=cssPrefixes[i]+capName)in emptyStyle)return name}(name)||name)}var rdisplayswap=/^(none|table(?!-c[ea]).+)/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"};function setPositiveNumber(_elem,value,subtract){var matches=rcssNum.exec(value);return matches?Math.max(0,matches[2]-(subtract||0))+(matches[3]||"px"):value}function boxModelAdjustment(elem,dimension,box,isBorderBox,styles,computedVal){var i="width"===dimension?1:0,extra=0,delta=0,marginDelta=0;if(box===(isBorderBox?"border":"content"))return 0;for(;i<4;i+=2)"margin"===box&&(marginDelta+=jQuery.css(elem,box+cssExpand[i],!0,styles)),isBorderBox?("content"===box&&(delta-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),"margin"!==box&&(delta-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(delta+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),"padding"!==box?delta+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles):extra+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles));return!isBorderBox&&0<=computedVal&&(delta+=Math.max(0,Math.ceil(elem["offset"+dimension[0].toUpperCase()+dimension.slice(1)]-computedVal-delta-extra-.5))||0),delta+marginDelta}function getWidthOrHeight(elem,dimension,extra){var styles=getStyles(elem),isBorderBox=(!support.boxSizingReliable()||extra)&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles),valueIsBorderBox=isBorderBox,val=curCSS(elem,dimension,styles),offsetProp="offset"+dimension[0].toUpperCase()+dimension.slice(1);if(rnumnonpx.test(val)){if(!extra)return val;val="auto"}return(!support.boxSizingReliable()&&isBorderBox||!support.reliableTrDimensions()&&nodeName(elem,"tr")||"auto"===val||!parseFloat(val)&&"inline"===jQuery.css(elem,"display",!1,styles))&&elem.getClientRects().length&&(isBorderBox="border-box"===jQuery.css(elem,"boxSizing",!1,styles),valueIsBorderBox=offsetProp in elem)&&(val=elem[offsetProp]),(val=parseFloat(val)||0)+boxModelAdjustment(elem,dimension,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles,val)+"px"}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed)return""===(computed=curCSS(elem,"opacity"))?"1":computed}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=camelCase(name),isCustomProp=rcustomProp.test(name),style=elem.style;if(isCustomProp||(name=finalPropName(origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],void 0===value)return hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,!1,extra))?ret:style[name];"string"===(type=typeof value)&&(ret=rcssNum.exec(value))&&ret[1]&&(value=adjustCSS(elem,name,ret),type="number"),null==value||value!=value||("number"!==type||isCustomProp||(value+=ret&&ret[3]||(jQuery.cssNumber[origName]?"":"px")),support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit"),hooks&&"set"in hooks&&void 0===(value=hooks.set(elem,value,extra)))||(isCustomProp?style.setProperty(name,value):style[name]=value)}},css:function(elem,name,extra,styles){var val,origName=camelCase(name);return rcustomProp.test(name)||(name=finalPropName(origName)),"normal"===(val=void 0===(val=(origName=jQuery.cssHooks[name]||jQuery.cssHooks[origName])&&"get"in origName?origName.get(elem,!0,extra):val)?curCSS(elem,name,styles):val)&&name in cssNormalTransform&&(val=cssNormalTransform[name]),(""===extra||extra)&&(origName=parseFloat(val),!0===extra||isFinite(origName))?origName||0:val}}),jQuery.each(["height","width"],function(_i,dimension){jQuery.cssHooks[dimension]={get:function(elem,computed,extra){if(computed)return!rdisplayswap.test(jQuery.css(elem,"display"))||elem.getClientRects().length&&elem.getBoundingClientRect().width?getWidthOrHeight(elem,dimension,extra):swap(elem,cssShow,function(){return getWidthOrHeight(elem,dimension,extra)})},set:function(elem,value,extra){var styles=getStyles(elem),scrollboxSizeBuggy=!support.scrollboxSize()&&"absolute"===styles.position,isBorderBox=(scrollboxSizeBuggy||extra)&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles),extra=extra?boxModelAdjustment(elem,dimension,extra,isBorderBox,styles):0;return isBorderBox&&scrollboxSizeBuggy&&(extra-=Math.ceil(elem["offset"+dimension[0].toUpperCase()+dimension.slice(1)]-parseFloat(styles[dimension])-boxModelAdjustment(elem,dimension,"border",!1,styles)-.5)),extra&&(isBorderBox=rcssNum.exec(value))&&"px"!==(isBorderBox[3]||"px")&&(elem.style[dimension]=value,value=jQuery.css(elem,dimension)),setPositiveNumber(0,value,extra)}}}),jQuery.cssHooks.marginLeft=addGetHookIf(support.reliableMarginLeft,function(elem,computed){if(computed)return(parseFloat(curCSS(elem,"marginLeft"))||elem.getBoundingClientRect().left-swap(elem,{marginLeft:0},function(){return elem.getBoundingClientRect().left}))+"px"}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];i<4;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},"margin"!==prefix&&(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)}),jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(Array.isArray(name)){for(styles=getStyles(elem),len=name.length;i<len;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return void 0!==value?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,1<arguments.length)}}),((jQuery.Tween=Tween).prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||jQuery.easing._default,this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return(hooks&&hooks.get?hooks:Tween.propHooks._default).get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.options.duration?this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):this.pos=eased=percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(hooks&&hooks.set?hooks:Tween.propHooks._default).set(this),this}}).init.prototype=Tween.prototype,(Tween.propHooks={_default:{get:function(tween){return 1!==tween.elem.nodeType||null!=tween.elem[tween.prop]&&null==tween.elem.style[tween.prop]?tween.elem[tween.prop]:(tween=jQuery.css(tween.elem,tween.prop,""))&&"auto"!==tween?tween:0},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):1!==tween.elem.nodeType||!jQuery.cssHooks[tween.prop]&&null==tween.elem.style[finalPropName(tween.prop)]?tween.elem[tween.prop]=tween.now:jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}}}).scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},_default:"swing"},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,inProgress,rfxtypes=/^(?:toggle|show|hide)$/,rrun=/queueHooks$/;function schedule(){inProgress&&(!1===document.hidden&&window.requestAnimationFrame?window.requestAnimationFrame(schedule):window.setTimeout(schedule,jQuery.fx.interval),jQuery.fx.tick())}function createFxNow(){return window.setTimeout(function(){fxNow=void 0}),fxNow=Date.now()}function genFx(type,includeWidth){var which,i=0,attrs={height:type};for(includeWidth=includeWidth?1:0;i<4;i+=2-includeWidth)attrs["margin"+(which=cssExpand[i])]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}function createTween(value,prop,animation){for(var tween,collection=(Animation.tweeners[prop]||[]).concat(Animation.tweeners["*"]),index=0,length=collection.length;index<length;index++)if(tween=collection[index].call(animation,prop,value))return tween}function Animation(elem,properties,options){var result,stopped,index=0,length=Animation.prefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(!stopped){for(var currentTime=fxNow||createFxNow(),currentTime=Math.max(0,animation.startTime+animation.duration-currentTime),percent=1-(currentTime/animation.duration||0),index=0,length=animation.tweens.length;index<length;index++)animation.tweens[index].run(percent);if(deferred.notifyWith(elem,[animation,percent,currentTime]),percent<1&&length)return currentTime;length||deferred.notifyWith(elem,[animation,1,0]),deferred.resolveWith(elem,[animation])}return!1},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{},easing:jQuery.easing._default},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){end=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(end),end},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(!stopped){for(stopped=!0;index<length;index++)animation.tweens[index].run(1);gotoEnd?(deferred.notifyWith(elem,[animation,1,0]),deferred.resolveWith(elem,[animation,gotoEnd])):deferred.rejectWith(elem,[animation,gotoEnd])}return this}}),props=animation.props;for(!function(props,specialEasing){var index,name,easing,value,hooks;for(index in props)if(easing=specialEasing[name=camelCase(index)],value=props[index],Array.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),(hooks=jQuery.cssHooks[name])&&"expand"in hooks)for(index in value=hooks.expand(value),delete props[name],value)index in props||(props[index]=value[index],specialEasing[index]=easing);else specialEasing[name]=easing}(props,animation.opts.specialEasing);index<length;index++)if(result=Animation.prefilters[index].call(animation,elem,props,animation.opts))return isFunction(result.stop)&&(jQuery._queueHooks(animation.elem,animation.opts.queue).stop=result.stop.bind(result)),result;return jQuery.map(props,createTween,animation),isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation}jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(prop,value){var tween=this.createTween(prop,value);return adjustCSS(tween.elem,prop,rcssNum.exec(value),tween),tween}]},tweener:function(props,callback){for(var prop,index=0,length=(props=isFunction(props)?(callback=props,["*"]):props.match(rnothtmlwhite)).length;index<length;index++)prop=props[index],Animation.tweeners[prop]=Animation.tweeners[prop]||[],Animation.tweeners[prop].unshift(callback)},prefilters:[function(elem,props,opts){var prop,value,toggle,hooks,oldfire,propTween,restoreDisplay,isBox="width"in props||"height"in props,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHiddenWithinTree(elem),dataShow=dataPriv.get(elem,"fxshow");for(prop in opts.queue||(null==(hooks=jQuery._queueHooks(elem,"fx")).unqueued&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()})})),props)if(value=props[prop],rfxtypes.test(value)){if(delete props[prop],toggle=toggle||"toggle"===value,value===(hidden?"hide":"show")){if("show"!==value||!dataShow||void 0===dataShow[prop])continue;hidden=!0}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}if((propTween=!jQuery.isEmptyObject(props))||!jQuery.isEmptyObject(orig))for(prop in isBox&&1===elem.nodeType&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],null==(restoreDisplay=dataShow&&dataShow.display)&&(restoreDisplay=dataPriv.get(elem,"display")),"none"===(isBox=jQuery.css(elem,"display"))&&(restoreDisplay?isBox=restoreDisplay:(showHide([elem],!0),restoreDisplay=elem.style.display||restoreDisplay,isBox=jQuery.css(elem,"display"),showHide([elem]))),"inline"===isBox||"inline-block"===isBox&&null!=restoreDisplay)&&"none"===jQuery.css(elem,"float")&&(propTween||(anim.done(function(){style.display=restoreDisplay}),null==restoreDisplay&&(isBox=style.display,restoreDisplay="none"===isBox?"":isBox)),style.display="inline-block"),opts.overflow&&(style.overflow="hidden",anim.always(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]})),propTween=!1,orig)propTween||(dataShow?"hidden"in dataShow&&(hidden=dataShow.hidden):dataShow=dataPriv.access(elem,"fxshow",{display:restoreDisplay}),toggle&&(dataShow.hidden=!hidden),hidden&&showHide([elem],!0),anim.done(function(){for(prop in hidden||showHide([elem]),dataPriv.remove(elem,"fxshow"),orig)jQuery.style(elem,prop,orig[prop])})),propTween=createTween(hidden?dataShow[prop]:0,prop,anim),prop in dataShow||(dataShow[prop]=propTween.start,hidden&&(propTween.end=propTween.start,propTween.start=0))}],prefilter:function(callback,prepend){prepend?Animation.prefilters.unshift(callback):Animation.prefilters.push(callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!isFunction(easing)&&easing};return jQuery.fx.off?opt.duration=0:"number"!=typeof opt.duration&&(opt.duration in jQuery.fx.speeds?opt.duration=jQuery.fx.speeds[opt.duration]:opt.duration=jQuery.fx.speeds._default),null!=opt.queue&&!0!==opt.queue||(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(){isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)},opt},jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHiddenWithinTree).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){function doAnimation(){var anim=Animation(this,jQuery.extend({},prop),optall);(empty||dataPriv.get(this,"finish"))&&anim.stop(!0)}var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback);return doAnimation.finish=doAnimation,empty||!1===optall.queue?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){function stopQueue(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)}return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=void 0),clearQueue&&this.queue(type||"fx",[]),this.each(function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=dataPriv.get(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&&timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));!dequeue&&gotoEnd||jQuery.dequeue(this,type)})},finish:function(type){return!1!==type&&(type=type||"fx"),this.each(function(){var index,data=dataPriv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;for(data.finish=!0,jQuery.queue(this,type,[]),hooks&&hooks.stop&&hooks.stop.call(this,!0),index=timers.length;index--;)timers[index].elem===this&&timers[index].queue===type&&(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;index<length;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish})}}),jQuery.each(["toggle","show","hide"],function(_i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.timers=[],jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;for(fxNow=Date.now();i<timers.length;i++)(timer=timers[i])()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop(),fxNow=void 0},jQuery.fx.timer=function(timer){jQuery.timers.push(timer),jQuery.fx.start()},jQuery.fx.interval=13,jQuery.fx.start=function(){inProgress||(inProgress=!0,schedule())},jQuery.fx.stop=function(){inProgress=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(time,type){return time=jQuery.fx&&jQuery.fx.speeds[time]||time,this.queue(type=type||"fx",function(next,hooks){var timeout=window.setTimeout(next,time);hooks.stop=function(){window.clearTimeout(timeout)}})},function(){var input=document.createElement("input"),opt=document.createElement("select").appendChild(document.createElement("option"));input.type="checkbox",support.checkOn=""!==input.value,support.optSelected=opt.selected,(input=document.createElement("input")).value="t",input.type="radio",support.radioValue="t"===input.value}();var boolHook,attrHandle=jQuery.expr.attrHandle,rfocusable=(jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,1<arguments.length)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}}),jQuery.extend({attr:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&&8!==nType&&2!==nType)return void 0===elem.getAttribute?jQuery.prop(elem,name,value):(1===nType&&jQuery.isXMLDoc(elem)||(hooks=jQuery.attrHooks[name.toLowerCase()]||(jQuery.expr.match.bool.test(name)?boolHook:void 0)),void 0!==value?null===value?void jQuery.removeAttr(elem,name):hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:(elem.setAttribute(name,value+""),value):!(hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name)))&&null==(ret=jQuery.find.attr(elem,name))?void 0:ret)},attrHooks:{type:{set:function(elem,value){var val;if(!support.radioValue&&"radio"===value&&nodeName(elem,"input"))return val=elem.value,elem.setAttribute("type",value),val&&(elem.value=val),value}}},removeAttr:function(elem,value){var name,i=0,attrNames=value&&value.match(rnothtmlwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];)elem.removeAttribute(name)}}),boolHook={set:function(elem,value,name){return!1===value?jQuery.removeAttr(elem,name):elem.setAttribute(name,name),name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(_i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle,lowercaseName=name.toLowerCase();return isXML||(handle=attrHandle[lowercaseName],attrHandle[lowercaseName]=ret,ret=null!=getter(elem,name,isXML)?lowercaseName:null,attrHandle[lowercaseName]=handle),ret}}),/^(?:input|select|textarea|button)$/i),rclickable=/^(?:a|area)$/i;function stripAndCollapse(value){return(value.match(rnothtmlwhite)||[]).join(" ")}function getClass(elem){return elem.getAttribute&&elem.getAttribute("class")||""}function classesToArray(value){return Array.isArray(value)?value:"string"==typeof value&&value.match(rnothtmlwhite)||[]}jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,1<arguments.length)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}}),jQuery.extend({prop:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&&8!==nType&&2!==nType)return 1===nType&&jQuery.isXMLDoc(elem)||(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),void 0!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),support.optSelected||(jQuery.propHooks.selected={get:function(elem){elem=elem.parentNode;return elem&&elem.parentNode&&elem.parentNode.selectedIndex,null},set:function(elem){elem=elem.parentNode;elem&&(elem.selectedIndex,elem.parentNode)&&elem.parentNode.selectedIndex}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this}),jQuery.fn.extend({addClass:function(value){var classNames,cur,curValue,className,i,finalValue;return isFunction(value)?this.each(function(j){jQuery(this).addClass(value.call(this,j,getClass(this)))}):(classNames=classesToArray(value)).length?this.each(function(){if(curValue=getClass(this),cur=1===this.nodeType&&" "+stripAndCollapse(curValue)+" "){for(i=0;i<classNames.length;i++)className=classNames[i],cur.indexOf(" "+className+" ")<0&&(cur+=className+" ");finalValue=stripAndCollapse(cur),curValue!==finalValue&&this.setAttribute("class",finalValue)}}):this},removeClass:function(value){var classNames,cur,curValue,className,i,finalValue;return isFunction(value)?this.each(function(j){jQuery(this).removeClass(value.call(this,j,getClass(this)))}):arguments.length?(classNames=classesToArray(value)).length?this.each(function(){if(curValue=getClass(this),cur=1===this.nodeType&&" "+stripAndCollapse(curValue)+" "){for(i=0;i<classNames.length;i++)for(className=classNames[i];-1<cur.indexOf(" "+className+" ");)cur=cur.replace(" "+className+" "," ");finalValue=stripAndCollapse(cur),curValue!==finalValue&&this.setAttribute("class",finalValue)}}):this:this.attr("class","")},toggleClass:function(value,stateVal){var classNames,className,i,self,type=typeof value,isValidValue="string"==type||Array.isArray(value);return isFunction(value)?this.each(function(i){jQuery(this).toggleClass(value.call(this,i,getClass(this),stateVal),stateVal)}):"boolean"==typeof stateVal&&isValidValue?stateVal?this.addClass(value):this.removeClass(value):(classNames=classesToArray(value),this.each(function(){if(isValidValue)for(self=jQuery(this),i=0;i<classNames.length;i++)className=classNames[i],self.hasClass(className)?self.removeClass(className):self.addClass(className);else void 0!==value&&"boolean"!=type||((className=getClass(this))&&dataPriv.set(this,"__className__",className),this.setAttribute&&this.setAttribute("class",!className&&!1!==value&&dataPriv.get(this,"__className__")||""))}))},hasClass:function(selector){for(var elem,i=0,className=" "+selector+" ";elem=this[i++];)if(1===elem.nodeType&&-1<(" "+stripAndCollapse(getClass(elem))+" ").indexOf(className))return!0;return!1}});function stopPropagationCallback(e){e.stopPropagation()}var rreturn=/\r/g,location=(jQuery.fn.extend({val:function(value){var hooks,ret,valueIsFunction,elem=this[0];return arguments.length?(valueIsFunction=isFunction(value),this.each(function(i){1!==this.nodeType||(null==(i=valueIsFunction?value.call(this,i,jQuery(this).val()):value)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=jQuery.map(i,function(value){return null==value?"":value+""})),(hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()])&&"set"in hooks&&void 0!==hooks.set(this,i,"value"))||(this.value=i)})):elem?(hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()])&&"get"in hooks&&void 0!==(ret=hooks.get(elem,"value"))?ret:"string"==typeof(ret=elem.value)?ret.replace(rreturn,""):null==ret?"":ret:void 0}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return null!=val?val:stripAndCollapse(jQuery.text(elem))}},select:{get:function(elem){for(var option,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;i<max;i++)if(((option=options[i]).selected||i===index)&&!option.disabled&&(!option.parentNode.disabled||!nodeName(option.parentNode,"optgroup"))){if(option=jQuery(option).val(),one)return option;values.push(option)}return values},set:function(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)((option=options[i]).selected=-1<jQuery.inArray(jQuery.valHooks.option.get(option),values))&&(optionSet=!0);return optionSet||(elem.selectedIndex=-1),values}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(Array.isArray(value))return elem.checked=-1<jQuery.inArray(jQuery(elem).val(),value)}},support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute("value")?"on":elem.value})}),window.location),nonce={guid:Date.now()},rquery=/\?/,rfocusMorph=(jQuery.parseXML=function(data){var xml,parserErrorElem;if(!data||"string"!=typeof data)return null;try{xml=(new window.DOMParser).parseFromString(data,"text/xml")}catch(e){}return parserErrorElem=xml&&xml.getElementsByTagName("parsererror")[0],xml&&!parserErrorElem||jQuery.error("Invalid XML: "+(parserErrorElem?jQuery.map(parserErrorElem.childNodes,function(el){return el.textContent}).join("\n"):data)),xml},/^(?:focusinfocus|focusoutblur)$/),rbracket=(jQuery.extend(jQuery.event,{trigger:function(event,data,elem,onlyHandlers){var i,tmp,bubbleType,ontype,handle,special,lastElement,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[],cur=lastElement=tmp=elem=elem||document;if(3!==elem.nodeType&&8!==elem.nodeType&&!rfocusMorph.test(type+jQuery.event.triggered)&&(-1<type.indexOf(".")&&(type=(namespaces=type.split(".")).shift(),namespaces.sort()),ontype=type.indexOf(":")<0&&"on"+type,(event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event)).isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.rnamespace=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=void 0,event.target||(event.target=elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||!1!==special.trigger.apply(elem,data))){if(!onlyHandlers&&!special.noBubble&&!isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&&!event.isPropagationStopped();)lastElement=cur,event.type=1<i?bubbleType:special.bindType||type,(handle=(dataPriv.get(cur,"events")||Object.create(null))[event.type]&&dataPriv.get(cur,"handle"))&&handle.apply(cur,data),(handle=ontype&&cur[ontype])&&handle.apply&&acceptData(cur)&&(event.result=handle.apply(cur,data),!1===event.result)&&event.preventDefault();return event.type=type,onlyHandlers||event.isDefaultPrevented()||special._default&&!1!==special._default.apply(eventPath.pop(),data)||!acceptData(elem)||ontype&&isFunction(elem[type])&&!isWindow(elem)&&((tmp=elem[ontype])&&(elem[ontype]=null),jQuery.event.triggered=type,event.isPropagationStopped()&&lastElement.addEventListener(type,stopPropagationCallback),elem[type](),event.isPropagationStopped()&&lastElement.removeEventListener(type,stopPropagationCallback),jQuery.event.triggered=void 0,tmp)&&(elem[ontype]=tmp),event.result}},simulate:function(type,elem,event){event=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0});jQuery.event.trigger(event,null,elem)}}),jQuery.fn.extend({trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];if(elem)return jQuery.event.trigger(type,data,elem,!0)}}),/\[\]$/),rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(a,traditional){function add(key,valueOrFunction){valueOrFunction=isFunction(valueOrFunction)?valueOrFunction():valueOrFunction,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(null==valueOrFunction?"":valueOrFunction)}var prefix,s=[];if(null==a)return"";if(Array.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)!function buildParams(prefix,obj,traditional,add){if(Array.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v&&null!=v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==toType(obj))add(prefix,obj);else for(var name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}(prefix,a[prefix],traditional,add);return s.join("&")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(_i,elem){var val=jQuery(this).val();return null==val?null:Array.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}});var r20=/%20/g,rhash=/#.*$/,rantiCache=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/gm,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,prefilters={},transports={},allTypes="*/".concat("*"),originAnchor=document.createElement("a");function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){"string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnothtmlwhite)||[];if(isFunction(func))for(;dataType=dataTypes[i++];)"+"===dataType[0]?(dataType=dataType.slice(1)||"*",(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=structure===transports;function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){prefilterOrFactory=prefilterOrFactory(options,originalOptions,jqXHR);return"string"!=typeof prefilterOrFactory||seekingTransport||inspected[prefilterOrFactory]?seekingTransport?!(selected=prefilterOrFactory):void 0:(options.dataTypes.unshift(prefilterOrFactory),inspect(prefilterOrFactory),!1)}),selected}return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)void 0!==src[key]&&((flatOptions[key]?target:deep=deep||{})[key]=src[key]);return deep&&jQuery.extend(!0,target,deep),target}originAnchor.href=location.href,jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:location.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(location.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){"object"==typeof url&&(options=url,url=void 0);var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,completed,fireGlobals,i,s=jQuery.ajaxSetup({},options=options||{}),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(completed){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()+" "]=(responseHeaders[match[1].toLowerCase()+" "]||[]).concat(match[2]);match=responseHeaders[key.toLowerCase()+" "]}return null==match?null:match.join(", ")},getAllResponseHeaders:function(){return completed?responseHeadersString:null},setRequestHeader:function(name,value){return null==completed&&(name=requestHeadersNames[name.toLowerCase()]=requestHeadersNames[name.toLowerCase()]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return null==completed&&(s.mimeType=type),this},statusCode:function(map){if(map)if(completed)jqXHR.always(map[jqXHR.status]);else for(var code in map)statusCode[code]=[statusCode[code],map[code]];return this},abort:function(statusText){statusText=statusText||strAbort;return transport&&transport.abort(statusText),done(0,statusText),this}};if(deferred.promise(jqXHR),s.url=((url||s.url||location.href)+"").replace(rprotocol,location.protocol+"//"),s.type=options.method||options.type||s.method||s.type,s.dataTypes=(s.dataType||"*").toLowerCase().match(rnothtmlwhite)||[""],null==s.crossDomain){url=document.createElement("a");try{url.href=s.url,url.href=url.href,s.crossDomain=originAnchor.protocol+"//"+originAnchor.host!=url.protocol+"//"+url.host}catch(e){s.crossDomain=!0}}if(s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),!completed){for(i in(fireGlobals=jQuery.event&&s.global)&&0==jQuery.active++&&jQuery.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url.replace(rhash,""),s.hasContent?s.data&&s.processData&&0===(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&(s.data=s.data.replace(r20,"+")):(url=s.url.slice(cacheURL.length),s.data&&(s.processData||"string"==typeof s.data)&&(cacheURL+=(rquery.test(cacheURL)?"&":"?")+s.data,delete s.data),!1===s.cache&&(cacheURL=cacheURL.replace(rantiCache,"$1"),url=(rquery.test(cacheURL)?"&":"?")+"_="+nonce.guid+++url),s.url=cacheURL+url),s.ifModified&&(jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL])&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL]),(s.data&&s.hasContent&&!1!==s.contentType||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]),s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(!1===s.beforeSend.call(callbackContext,jqXHR,s)||completed))return jqXHR.abort();if(strAbort="abort",completeDeferred.add(s.complete),jqXHR.done(s.success),jqXHR.fail(s.error),transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){if(jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),completed)return jqXHR;s.async&&0<s.timeout&&(timeoutTimer=window.setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{completed=!1,transport.send(requestHeaders,done)}catch(e){if(completed)throw e;done(-1,e)}}else done(-1,"No Transport")}return jqXHR;function done(status,nativeStatusText,responses,headers){var success,error,response,statusText=nativeStatusText;completed||(completed=!0,timeoutTimer&&window.clearTimeout(timeoutTimer),transport=void 0,responseHeadersString=headers||"",jqXHR.readyState=0<status?4:0,headers=200<=status&&status<300||304===status,responses&&(response=function(s,jqXHR,responses){for(var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;"*"===dataTypes[0];)dataTypes.shift(),void 0===ct&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType=firstDataType||type}finalDataType=finalDataType||firstDataType}if(finalDataType)return finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]}(s,jqXHR,responses)),!headers&&-1<jQuery.inArray("script",s.dataTypes)&&jQuery.inArray("json",s.dataTypes)<0&&(s.converters["text script"]=function(){}),response=function(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(current=dataTypes.shift();current;)if(s.responseFields[current]&&(jqXHR[s.responseFields[current]]=response),!prev&&isSuccess&&s.dataFilter&&(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift())if("*"===current)current=prev;else if("*"!==prev&&prev!==current){if(!(conv=converters[prev+" "+current]||converters["* "+current]))for(conv2 in converters)if((tmp=conv2.split(" "))[1]===current&&(conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]])){!0===conv?conv=converters[conv2]:!0!==converters[conv2]&&(current=tmp[0],dataTypes.unshift(tmp[1]));break}if(!0!==conv)if(conv&&s.throws)response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}return{state:"success",data:response}}(s,response,jqXHR,headers),headers?(s.ifModified&&((responses=jqXHR.getResponseHeader("Last-Modified"))&&(jQuery.lastModified[cacheURL]=responses),responses=jqXHR.getResponseHeader("etag"))&&(jQuery.etag[cacheURL]=responses),204===status||"HEAD"===s.type?statusText="nocontent":304===status?statusText="notmodified":(statusText=response.state,success=response.data,headers=!(error=response.error))):(error=statusText,!status&&statusText||(statusText="error",status<0&&(status=0))),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",headers?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=void 0,fireGlobals&&globalEventContext.trigger(headers?"ajaxSuccess":"ajaxError",[jqXHR,s,headers?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,void 0,callback,"script")}}),jQuery.each(["get","post"],function(_i,method){jQuery[method]=function(url,data,callback,type){return isFunction(data)&&(type=type||callback,callback=data,data=void 0),jQuery.ajax(jQuery.extend({url:url,type:method,dataType:type,data:data,success:callback},jQuery.isPlainObject(url)&&url))}}),jQuery.ajaxPrefilter(function(s){for(var i in s.headers)"content-type"===i.toLowerCase()&&(s.contentType=s.headers[i]||"")}),jQuery._evalUrl=function(url,options,doc){return jQuery.ajax({url:url,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(response){jQuery.globalEval(response,options,doc)}})},jQuery.fn.extend({wrapAll:function(html){return this[0]&&(isFunction(html)&&(html=html.call(this[0])),html=jQuery(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&html.insertBefore(this[0]),html.map(function(){for(var elem=this;elem.firstElementChild;)elem=elem.firstElementChild;return elem}).append(this)),this},wrapInner:function(html){return isFunction(html)?this.each(function(i){jQuery(this).wrapInner(html.call(this,i))}):this.each(function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var htmlIsFunction=isFunction(html);return this.each(function(i){jQuery(this).wrapAll(htmlIsFunction?html.call(this,i):html)})},unwrap:function(selector){return this.parent(selector).not("body").each(function(){jQuery(this).replaceWith(this.childNodes)}),this}}),jQuery.expr.pseudos.hidden=function(elem){return!jQuery.expr.pseudos.visible(elem)},jQuery.expr.pseudos.visible=function(elem){return!!(elem.offsetWidth||elem.offsetHeight||elem.getClientRects().length)},jQuery.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest}catch(e){}};var input,xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr(),oldCallbacks=(support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(options){var callback,errorCallback;if(support.cors||xhrSupported&&!options.crossDomain)return{send:function(headers,complete){var i,xhr=options.xhr();if(xhr.open(options.type,options.url,options.async,options.username,options.password),options.xhrFields)for(i in options.xhrFields)xhr[i]=options.xhrFields[i];for(i in options.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(options.mimeType),options.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest"),headers)xhr.setRequestHeader(i,headers[i]);callback=function(type){return function(){callback&&(callback=errorCallback=xhr.onload=xhr.onerror=xhr.onabort=xhr.ontimeout=xhr.onreadystatechange=null,"abort"===type?xhr.abort():"error"===type?"number"!=typeof xhr.status?complete(0,"error"):complete(xhr.status,xhr.statusText):complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,"text"!==(xhr.responseType||"text")||"string"!=typeof xhr.responseText?{binary:xhr.response}:{text:xhr.responseText},xhr.getAllResponseHeaders()))}},xhr.onload=callback(),errorCallback=xhr.onerror=xhr.ontimeout=callback("error"),void 0!==xhr.onabort?xhr.onabort=errorCallback:xhr.onreadystatechange=function(){4===xhr.readyState&&window.setTimeout(function(){callback&&errorCallback()})},callback=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback)throw e}},abort:function(){callback&&callback()}}}),jQuery.ajaxPrefilter(function(s){s.crossDomain&&(s.contents.script=!1)}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){void 0===s.cache&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),jQuery.ajaxTransport("script",function(s){var script,callback;if(s.crossDomain||s.scriptAttrs)return{send:function(_,complete){script=jQuery("<script>").attr(s.scriptAttrs||{}).prop({charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove(),callback=null,evt&&complete("error"===evt.type?404:200,evt.type)}),document.head.appendChild(script[0])},abort:function(){callback&&callback()}}}),[]),rjsonp=/(=)\?(?=&|$)|\?\?/,rtrim=(jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce.guid++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=!1!==s.jsonp&&(rjsonp.test(s.url)?"url":"string"==typeof s.data&&0===(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");if(jsonProp||"jsonp"===s.dataTypes[0])return callbackName=s.jsonpCallback=isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):!1!==s.jsonp&&(s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){void 0===overwritten?jQuery(window).removeProp(callbackName):window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=void 0}),"script"}),support.createHTMLDocument=((input=document.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===input.childNodes.length),jQuery.parseHTML=function(data,context,keepScripts){var base;return"string"!=typeof data?[]:("boolean"==typeof context&&(keepScripts=context,context=!1),context||(support.createHTMLDocument?((base=(context=document.implementation.createHTMLDocument("")).createElement("base")).href=document.location.href,context.head.appendChild(base)):context=document),base=!keepScripts&&[],(keepScripts=rsingleTag.exec(data))?[context.createElement(keepScripts[1])]:(keepScripts=buildFragment([data],context,base),base&&base.length&&jQuery(base).remove(),jQuery.merge([],keepScripts.childNodes)))},jQuery.fn.load=function(url,params,callback){var selector,type,response,self=this,off=url.indexOf(" ");return-1<off&&(selector=stripAndCollapse(url.slice(off)),url=url.slice(0,off)),isFunction(params)?(callback=params,params=void 0):params&&"object"==typeof params&&(type="POST"),0<self.length&&jQuery.ajax({url:url,type:type||"GET",dataType:"html",data:params}).done(function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).always(callback&&function(jqXHR,status){self.each(function(){callback.apply(this,response||[jqXHR.responseText,status,jqXHR])})}),this},jQuery.expr.pseudos.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length},jQuery.offset={setOffset:function(elem,options,i){var curCSSTop,curTop,curOffset,curCSSLeft,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};"static"===position&&(elem.style.position="relative"),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),position=("absolute"===position||"fixed"===position)&&-1<(curCSSTop+curCSSLeft).indexOf("auto")?(curTop=(position=curElem.position()).top,position.left):(curTop=parseFloat(curCSSTop)||0,parseFloat(curCSSLeft)||0),null!=(options=isFunction(options)?options.call(elem,i,jQuery.extend({},curOffset)):options).top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+position),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({offset:function(options){var rect,elem;return arguments.length?void 0===options?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)}):(elem=this[0])?elem.getClientRects().length?(rect=elem.getBoundingClientRect(),elem=elem.ownerDocument.defaultView,{top:rect.top+elem.pageYOffset,left:rect.left+elem.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var offsetParent,offset,doc,elem=this[0],parentOffset={top:0,left:0};if("fixed"===jQuery.css(elem,"position"))offset=elem.getBoundingClientRect();else{for(offset=this.offset(),doc=elem.ownerDocument,offsetParent=elem.offsetParent||doc.documentElement;offsetParent&&(offsetParent===doc.body||offsetParent===doc.documentElement)&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.parentNode;offsetParent&&offsetParent!==elem&&1===offsetParent.nodeType&&((parentOffset=jQuery(offsetParent).offset()).top+=jQuery.css(offsetParent,"borderTopWidth",!0),parentOffset.left+=jQuery.css(offsetParent,"borderLeftWidth",!0))}return{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent;offsetParent&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||documentElement})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win;if(isWindow(elem)?win=elem:9===elem.nodeType&&(win=elem.defaultView),void 0===val)return win?win[prop]:elem[method];win?win.scrollTo(top?win.pageXOffset:val,top?val:win.pageYOffset):elem[method]=val},method,val,arguments.length)}}),jQuery.each(["top","left"],function(_i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed)return computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed})}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(!0===margin||!0===value?"margin":"border");return access(this,function(elem,type,value){var doc;return isWindow(elem)?0===funcName.indexOf("outer")?elem["inner"+name]:elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):void 0===value?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:void 0,chainable)}})}),jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(_i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}}),jQuery.fn.extend({bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)},hover:function(fnOver,fnOut){return this.on("mouseenter",fnOver).on("mouseleave",fnOut||fnOver)}}),jQuery.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(_i,name){jQuery.fn[name]=function(data,fn){return 0<arguments.length?this.on(name,null,data,fn):this.trigger(name)}}),/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g),_jQuery=(jQuery.proxy=function(fn,context){var args,tmp;if("string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),isFunction(fn))return args=slice.call(arguments,2),(tmp=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))}).guid=fn.guid=fn.guid||jQuery.guid++,tmp},jQuery.holdReady=function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},jQuery.isArray=Array.isArray,jQuery.parseJSON=JSON.parse,jQuery.nodeName=nodeName,jQuery.isFunction=isFunction,jQuery.isWindow=isWindow,jQuery.camelCase=camelCase,jQuery.type=toType,jQuery.now=Date.now,jQuery.isNumeric=function(obj){var type=jQuery.type(obj);return("number"===type||"string"===type)&&!isNaN(obj-parseFloat(obj))},jQuery.trim=function(text){return null==text?"":(text+"").replace(rtrim,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return jQuery}),window.jQuery),_$=window.$;return jQuery.noConflict=function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},void 0===noGlobal&&(window.jQuery=window.$=jQuery),jQuery}),!function(jQuery,window){jQuery.migrateVersion="1.4.1";var warnedAbout={};function migrateWarn(msg){var console=window.console;warnedAbout[msg]||(warnedAbout[msg]=!0,jQuery.migrateWarnings.push(msg),console&&console.warn&&!jQuery.migrateMute&&(console.warn("JQMIGRATE: "+msg),jQuery.migrateTrace)&&console.trace&&console.trace())}function migrateWarnProp(obj,prop,value,msg){if(Object.defineProperty)try{return void Object.defineProperty(obj,prop,{configurable:!0,enumerable:!0,get:function(){return migrateWarn(msg),value},set:function(newValue){migrateWarn(msg),value=newValue}})}catch(err){}jQuery._definePropertyBroken=!0,obj[prop]=value}jQuery.migrateWarnings=[],window.console&&window.console.log&&window.console.log("JQMIGRATE: Migrate is installed"+(jQuery.migrateMute?"":" with logging active")+", version "+jQuery.migrateVersion),void 0===jQuery.migrateTrace&&(jQuery.migrateTrace=!0),jQuery.migrateReset=function(){warnedAbout={},jQuery.migrateWarnings.length=0},"BackCompat"===document.compatMode&&migrateWarn("jQuery is not compatible with Quirks Mode");var attrFn=jQuery("<input/>",{size:1}).attr("size")&&jQuery.attrFn,oldAttr=jQuery.attr,valueAttrGet=jQuery.attrHooks.value&&jQuery.attrHooks.value.get||function(){return null},valueAttrSet=jQuery.attrHooks.value&&jQuery.attrHooks.value.set||function(){},rnoType=/^(?:input|button)$/i,rnoAttrNodeType=/^[238]$/,rboolean=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ruseDefault=/^(?:checked|selected)$/i;migrateWarnProp(jQuery,"attrFn",attrFn||{},"jQuery.attrFn is deprecated"),jQuery.attr=function(elem,name,value,pass){var lowerName=name.toLowerCase(),nType=elem&&elem.nodeType;return pass&&(oldAttr.length<4&&migrateWarn("jQuery.fn.attr( props, pass ) is deprecated"),elem)&&!rnoAttrNodeType.test(nType)&&(attrFn?name in attrFn:jQuery.isFunction(jQuery.fn[name]))?jQuery(elem)[name](value):("type"===name&&void 0!==value&&rnoType.test(elem.nodeName)&&elem.parentNode&&migrateWarn("Can't change the 'type' of an input or button in IE 6/7/8"),!jQuery.attrHooks[lowerName]&&rboolean.test(lowerName)&&(jQuery.attrHooks[lowerName]={get:function(elem,name){var property=jQuery.prop(elem,name);return!0===property||"boolean"!=typeof property&&(property=elem.getAttributeNode(name))&&!1!==property.nodeValue?name.toLowerCase():void 0},set:function(elem,value,name){return!1===value?jQuery.removeAttr(elem,name):((value=jQuery.propFix[name]||name)in elem&&(elem[value]=!0),elem.setAttribute(name,name.toLowerCase())),name}},ruseDefault.test(lowerName))&&migrateWarn("jQuery.fn.attr('"+lowerName+"') might use property instead of attribute"),oldAttr.call(jQuery,elem,name,value))},jQuery.attrHooks.value={get:function(elem,name){var nodeName=(elem.nodeName||"").toLowerCase();return"button"===nodeName?valueAttrGet.apply(this,arguments):("input"!==nodeName&&"option"!==nodeName&&migrateWarn("jQuery.fn.attr('value') no longer gets properties"),name in elem?elem.value:null)},set:function(elem,value){var nodeName=(elem.nodeName||"").toLowerCase();if("button"===nodeName)return valueAttrSet.apply(this,arguments);"input"!==nodeName&&"option"!==nodeName&&migrateWarn("jQuery.fn.attr('value', val) no longer sets properties"),elem.value=value}};var browser,findProp,oldInit=jQuery.fn.init,oldFind=jQuery.find,oldParseJSON=jQuery.parseJSON,rspaceAngle=/^\s*</,rattrHashTest=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,rattrHashGlob=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,rquickExpr=/^([^<]*)(<[\w\W]+>)([^>]*)$/;for(findProp in jQuery.fn.init=function(selector,context,rootjQuery){var match;return selector&&"string"==typeof selector&&!jQuery.isPlainObject(context)&&(match=rquickExpr.exec(jQuery.trim(selector)))&&match[0]&&(rspaceAngle.test(selector)||migrateWarn("$(html) HTML strings must start with '<' character"),match[3]&&migrateWarn("$(html) HTML text after last tag is ignored"),"#"===match[0].charAt(0)&&(migrateWarn("HTML string cannot start with a '#' character"),jQuery.error("JQMIGRATE: Invalid selector string (XSS)")),context&&context.context&&context.context.nodeType&&(context=context.context),jQuery.parseHTML)?oldInit.call(this,jQuery.parseHTML(match[2],context&&context.ownerDocument||context||document,!0),context,rootjQuery):(match=oldInit.apply(this,arguments),selector&&void 0!==selector.selector?(match.selector=selector.selector,match.context=selector.context):(match.selector="string"==typeof selector?selector:"",selector&&(match.context=selector.nodeType?selector:context||document)),match)},jQuery.fn.init.prototype=jQuery.fn,jQuery.find=function(selector){var args=Array.prototype.slice.call(arguments);if("string"==typeof selector&&rattrHashTest.test(selector))try{document.querySelector(selector)}catch(err1){selector=selector.replace(rattrHashGlob,function(_,attr,op,value){return"["+attr+op+'"'+value+'"]'});try{document.querySelector(selector),migrateWarn("Attribute selector with '#' must be quoted: "+args[0]),args[0]=selector}catch(err2){migrateWarn("Attribute selector with '#' was not fixed: "+args[0])}}return oldFind.apply(this,args)},oldFind)Object.prototype.hasOwnProperty.call(oldFind,findProp)&&(jQuery.find[findProp]=oldFind[findProp]);jQuery.parseJSON=function(json){return json?oldParseJSON.apply(this,arguments):(migrateWarn("jQuery.parseJSON requires a valid JSON string"),null)},jQuery.uaMatch=function(ua){ua=ua.toLowerCase();ua=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:ua[1]||"",version:ua[2]||"0"}},jQuery.browser||(browser={},(matched=jQuery.uaMatch(navigator.userAgent)).browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),jQuery.browser=browser),migrateWarnProp(jQuery,"browser",jQuery.browser,"jQuery.browser is deprecated"),jQuery.boxModel=jQuery.support.boxModel="CSS1Compat"===document.compatMode,migrateWarnProp(jQuery,"boxModel",jQuery.boxModel,"jQuery.boxModel is deprecated"),migrateWarnProp(jQuery.support,"boxModel",jQuery.support.boxModel,"jQuery.support.boxModel is deprecated"),jQuery.sub=function(){function jQuerySub(selector,context){return new jQuerySub.fn.init(selector,context)}jQuery.extend(!0,jQuerySub,this),jQuerySub.superclass=this,((jQuerySub.fn=jQuerySub.prototype=this()).constructor=jQuerySub).sub=this.sub,jQuerySub.fn.init=function(selector,context){selector=jQuery.fn.init.call(this,selector,context,rootjQuerySub);return selector instanceof jQuerySub?selector:jQuerySub(selector)},jQuerySub.fn.init.prototype=jQuerySub.fn;var rootjQuerySub=jQuerySub(document);return migrateWarn("jQuery.sub() is deprecated"),jQuerySub};function hoverHack(events){return"string"!=typeof events||jQuery.event.special.hover?events:(rhoverHack.test(events)&&migrateWarn("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),events&&events.replace(rhoverHack,"mouseenter$1 mouseleave$1"))}var oldDeferred,tuples,internalSwapCall=!(jQuery.fn.size=function(){return migrateWarn("jQuery.fn.size() is deprecated; use the .length property"),this.length}),oldFnData=(jQuery.swap&&jQuery.each(["height","width","reliableMarginRight"],function(_,name){var oldHook=jQuery.cssHooks[name]&&jQuery.cssHooks[name].get;oldHook&&(jQuery.cssHooks[name].get=function(){var ret;return internalSwapCall=!0,ret=oldHook.apply(this,arguments),internalSwapCall=!1,ret})}),jQuery.swap=function(elem,options,callback,args){var name,old={};for(name in internalSwapCall||migrateWarn("jQuery.swap() is undocumented and deprecated"),options)old[name]=elem.style[name],elem.style[name]=options[name];for(name in callback=callback.apply(elem,args||[]),options)elem.style[name]=old[name];return callback},jQuery.ajaxSetup({converters:{"text json":jQuery.parseJSON}}),jQuery.fn.data),rscriptType=(jQuery.fn.data=function(name){var ret,elem=this[0];return elem&&"events"===name&&1===arguments.length&&(ret=jQuery.data(elem,name),elem=jQuery._data(elem,name),void 0===ret||ret===elem)&&void 0!==elem?(migrateWarn("Use of jQuery.fn.data('events') is deprecated"),elem):oldFnData.apply(this,arguments)},/\/(java|ecma)script/i),eventAdd=(jQuery.clean||(jQuery.clean=function(elems,context,fragment,scripts){context=(context=!(context=context||document).nodeType&&context[0]||context).ownerDocument||context,migrateWarn("jQuery.clean() is deprecated");var i,handleScript,elem,ret=[];if(jQuery.merge(ret,jQuery.buildFragment(elems,context).childNodes),fragment)for(handleScript=function(elem){if(!elem.type||rscriptType.test(elem.type))return scripts?scripts.push(elem.parentNode?elem.parentNode.removeChild(elem):elem):fragment.appendChild(elem)},i=0;null!=(elem=ret[i]);i++)jQuery.nodeName(elem,"script")&&handleScript(elem)||(fragment.appendChild(elem),void 0!==elem.getElementsByTagName&&(elem=jQuery.grep(jQuery.merge([],elem.getElementsByTagName("script")),handleScript),ret.splice.apply(ret,[i+1,0].concat(elem)),i+=elem.length));return ret}),jQuery.event.add),eventRemove=jQuery.event.remove,eventTrigger=jQuery.event.trigger,oldToggle=jQuery.fn.toggle,oldLive=jQuery.fn.live,oldDie=jQuery.fn.die,oldLoad=jQuery.fn.load,matched="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",rajaxEvent=new RegExp("\\b(?:"+matched+")\\b"),rhoverHack=/(?:^|\s)hover(\.\S+|)\b/,oldSelf=(jQuery.event.props&&"attrChange"!==jQuery.event.props[0]&&jQuery.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),jQuery.event.dispatch&&migrateWarnProp(jQuery.event,"handle",jQuery.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),jQuery.event.add=function(elem,types,handler,data,selector){elem!==document&&rajaxEvent.test(types)&&migrateWarn("AJAX events should be attached to document: "+types),eventAdd.call(this,elem,hoverHack(types||""),handler,data,selector)},jQuery.event.remove=function(elem,types,handler,selector,mappedTypes){eventRemove.call(this,elem,hoverHack(types)||"",handler,selector,mappedTypes)},jQuery.each(["load","unload","error"],function(_,name){jQuery.fn[name]=function(){var args=Array.prototype.slice.call(arguments,0);return"load"===name&&"string"==typeof args[0]?oldLoad.apply(this,args):(migrateWarn("jQuery.fn."+name+"() is deprecated"),args.splice(0,0,name),arguments.length?this.bind.apply(this,args):(this.triggerHandler.apply(this,args),this))}}),jQuery.fn.toggle=function(fn,fn2){if(!jQuery.isFunction(fn)||!jQuery.isFunction(fn2))return oldToggle.apply(this,arguments);migrateWarn("jQuery.fn.toggle(handler, handler...) is deprecated");function toggler(event){var lastToggle=(jQuery._data(this,"lastToggle"+fn.guid)||0)%i;return jQuery._data(this,"lastToggle"+fn.guid,1+lastToggle),event.preventDefault(),args[lastToggle].apply(this,arguments)||!1}var args=arguments,guid=fn.guid||jQuery.guid++,i=0;for(toggler.guid=guid;i<args.length;)args[i++].guid=guid;return this.click(toggler)},jQuery.fn.live=function(types,data,fn){return migrateWarn("jQuery.fn.live() is deprecated"),oldLive?oldLive.apply(this,arguments):(jQuery(this.context).on(types,this.selector,data,fn),this)},jQuery.fn.die=function(types,fn){return migrateWarn("jQuery.fn.die() is deprecated"),oldDie?oldDie.apply(this,arguments):(jQuery(this.context).off(types,this.selector||"**",fn),this)},jQuery.event.trigger=function(event,data,elem,onlyHandlers){return elem||rajaxEvent.test(event)||migrateWarn("Global events are undocumented and deprecated"),eventTrigger.call(this,event,data,elem||document,onlyHandlers)},jQuery.each(matched.split("|"),function(_,name){jQuery.event.special[name]={setup:function(){var elem=this;return elem!==document&&(jQuery.event.add(document,name+"."+jQuery.guid,function(){jQuery.event.trigger(name,Array.prototype.slice.call(arguments,1),elem,!0)}),jQuery._data(this,name,jQuery.guid++)),!1},teardown:function(){return this!==document&&jQuery.event.remove(document,name+"."+jQuery._data(this,name)),!1}}}),jQuery.event.special.ready={setup:function(){this===document&&migrateWarn("'ready' event is deprecated")}},jQuery.fn.andSelf||jQuery.fn.addBack),oldFnFind=jQuery.fn.find;jQuery.fn.andSelf=function(){return migrateWarn("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),oldSelf.apply(this,arguments)},jQuery.fn.find=function(selector){var ret=oldFnFind.apply(this,arguments);return ret.context=this.context,ret.selector=this.selector?this.selector+" "+selector:selector,ret},jQuery.Callbacks&&(oldDeferred=jQuery.Deferred,tuples=[["resolve","done",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory"),jQuery.Callbacks("memory")]],jQuery.Deferred=function(func){var deferred=oldDeferred(),promise=deferred.promise();return deferred.pipe=promise.pipe=function(){var fns=arguments;return migrateWarn("deferred.pipe() is deprecated"),jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify):newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)})}),fns=null}).promise()},deferred.isResolved=function(){return migrateWarn("deferred.isResolved is deprecated"),"resolved"===deferred.state()},deferred.isRejected=function(){return migrateWarn("deferred.isRejected is deprecated"),"rejected"===deferred.state()},func&&func.call(deferred,deferred),deferred})}(jQuery,window),!function(root,definition){"use strict";"function"==typeof define&&define.amd?define(definition):"object"==typeof module&&module.exports?module.exports=definition():root.log=definition()}(this,function(){"use strict";var noop=function(){},undefinedType="undefined",isIE=typeof window!==undefinedType&&typeof window.navigator!==undefinedType&&/Trident\/|MSIE /.test(window.navigator.userAgent),logMethods=["trace","debug","info","warn","error"];function bindMethod(obj,methodName){var method=obj[methodName];if("function"==typeof method.bind)return method.bind(obj);try{return Function.prototype.bind.call(method,obj)}catch(e){return function(){return Function.prototype.apply.apply(method,[obj,arguments])}}}function traceForIE(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function replaceLoggingMethods(level,loggerName){for(var i=0;i<logMethods.length;i++){var methodName=logMethods[i];this[methodName]=i<level?noop:this.methodFactory(methodName,level,loggerName)}this.log=this.debug}function defaultMethodFactory(methodName,level,loggerName){return function(methodName){return"debug"===methodName&&(methodName="log"),typeof console!==undefinedType&&("trace"===methodName&&isIE?traceForIE:void 0!==console[methodName]?bindMethod(console,methodName):void 0!==console.log?bindMethod(console,"log"):noop)}(methodName)||function(methodName,level,loggerName){return function(){typeof console!==undefinedType&&(replaceLoggingMethods.call(this,level,loggerName),this[methodName].apply(this,arguments))}}.apply(this,arguments)}function Logger(name,defaultLevel,factory){var currentLevel,self=this,storageKey="loglevel";function getPersistedLevel(){var storedLevel;if(typeof window!==undefinedType){try{storedLevel=window.localStorage[storageKey]}catch(ignore){}if(typeof storedLevel===undefinedType)try{var cookie=window.document.cookie,location=cookie.indexOf(encodeURIComponent(storageKey)+"=");-1!==location&&(storedLevel=/^([^;]+)/.exec(cookie.slice(location))[1])}catch(ignore){}return storedLevel=void 0===self.levels[storedLevel]?void 0:storedLevel}}name&&(storageKey+=":"+name),self.name=name,self.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},self.methodFactory=factory||defaultMethodFactory,self.getLevel=function(){return currentLevel},self.setLevel=function(level,persist){if(!("number"==typeof(level="string"==typeof level&&void 0!==self.levels[level.toUpperCase()]?self.levels[level.toUpperCase()]:level)&&0<=level&&level<=self.levels.SILENT))throw"log.setLevel() called with invalid level: "+level;if(currentLevel=level,!1!==persist&&!function(levelNum){if(levelNum=(logMethods[levelNum]||"silent").toUpperCase(),typeof window!==undefinedType){try{return window.localStorage[storageKey]=levelNum}catch(ignore){}try{window.document.cookie=encodeURIComponent(storageKey)+"="+levelNum+";"}catch(ignore){}}}(level),replaceLoggingMethods.call(self,level,name),typeof console===undefinedType&&level<self.levels.SILENT)return"No console available for logging"},self.setDefaultLevel=function(level){getPersistedLevel()||self.setLevel(level,!1)},self.enableAll=function(persist){self.setLevel(self.levels.TRACE,persist)},self.disableAll=function(persist){self.setLevel(self.levels.SILENT,persist)};factory=getPersistedLevel();self.setLevel(factory=null==factory?null==defaultLevel?"WARN":defaultLevel:factory,!1)}var defaultLogger=new Logger,_loggersByName={},_log=(defaultLogger.getLogger=function(name){if("string"!=typeof name||""===name)throw new TypeError("You must supply a name when creating a logger.");return _loggersByName[name]||(_loggersByName[name]=new Logger(name,defaultLogger.getLevel(),defaultLogger.methodFactory))},typeof window!==undefinedType?window.log:void 0);return defaultLogger.noConflict=function(){return typeof window!==undefinedType&&window.log===defaultLogger&&(window.log=_log),defaultLogger},defaultLogger.getLoggers=function(){return _loggersByName},defaultLogger}),!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define("underscore",factory):(global="undefined"!=typeof globalThis?globalThis:global||self,function(){var current=global._,exports=global._=factory();exports.noConflict=function(){return global._=current,exports}}())}(this,function(){var root="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},ArrayProto=Array.prototype,ObjProto=Object.prototype,SymbolProto="undefined"!=typeof Symbol?Symbol.prototype:null,push=ArrayProto.push,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,supportsArrayBuffer="undefined"!=typeof ArrayBuffer,supportsDataView="undefined"!=typeof DataView,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeCreate=Object.create,nativeIsView=supportsArrayBuffer&&ArrayBuffer.isView,_isNaN=isNaN,_isFinite=isFinite,hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],MAX_ARRAY_INDEX=Math.pow(2,53)-1;function restArguments(func,startIndex){return startIndex=null==startIndex?func.length-1:+startIndex,function(){for(var length=Math.max(arguments.length-startIndex,0),rest=Array(length),index=0;index<length;index++)rest[index]=arguments[index+startIndex];switch(startIndex){case 0:return func.call(this,rest);case 1:return func.call(this,arguments[0],rest);case 2:return func.call(this,arguments[0],arguments[1],rest)}for(var args=Array(startIndex+1),index=0;index<startIndex;index++)args[index]=arguments[index];return args[startIndex]=rest,func.apply(this,args)}}function isObject(obj){var type=typeof obj;return"function"==type||"object"==type&&!!obj}function isUndefined(obj){return void 0===obj}function isBoolean(obj){return!0===obj||!1===obj||"[object Boolean]"===toString.call(obj)}function tagTester(name){var tag="[object "+name+"]";return function(obj){return toString.call(obj)===tag}}var isString=tagTester("String"),isNumber=tagTester("Number"),isDate=tagTester("Date"),isRegExp=tagTester("RegExp"),isError=tagTester("Error"),isSymbol=tagTester("Symbol"),isArrayBuffer=tagTester("ArrayBuffer"),isFunction=tagTester("Function"),root=root.document&&root.document.childNodes,isFunction$1=isFunction="function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof root?function(obj){return"function"==typeof obj||!1}:isFunction,root=tagTester("Object"),hasStringTagBug=supportsDataView&&root(new DataView(new ArrayBuffer(8))),isFunction="undefined"!=typeof Map&&root(new Map),supportsDataView=tagTester("DataView");var isDataView$1=hasStringTagBug?function(obj){return null!=obj&&isFunction$1(obj.getInt8)&&isArrayBuffer(obj.buffer)}:supportsDataView,isArray=nativeIsArray||tagTester("Array");function has$1(obj,key){return null!=obj&&hasOwnProperty.call(obj,key)}var isArguments=tagTester("Arguments"),isArguments$1=(!function(){isArguments(arguments)||(isArguments=function(obj){return has$1(obj,"callee")})}(),isArguments);function isNaN$1(obj){return isNumber(obj)&&_isNaN(obj)}function constant(value){return function(){return value}}function createSizePropertyCheck(getSizeProperty){return function(collection){collection=getSizeProperty(collection);return"number"==typeof collection&&0<=collection&&collection<=MAX_ARRAY_INDEX}}function shallowProperty(key){return function(obj){return null==obj?void 0:obj[key]}}var getByteLength=shallowProperty("byteLength"),isBufferLike=createSizePropertyCheck(getByteLength),typedArrayPattern=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var isTypedArray$1=supportsArrayBuffer?function(obj){return nativeIsView?nativeIsView(obj)&&!isDataView$1(obj):isBufferLike(obj)&&typedArrayPattern.test(toString.call(obj))}:constant(!1),getLength=shallowProperty("length");function collectNonEnumProps(obj,keys){keys=function(keys){for(var hash={},l=keys.length,i=0;i<l;++i)hash[keys[i]]=!0;return{contains:function(key){return!0===hash[key]},push:function(key){return hash[key]=!0,keys.push(key)}}}(keys);var nonEnumIdx=nonEnumerableProps.length,constructor=obj.constructor,proto=isFunction$1(constructor)&&constructor.prototype||ObjProto,prop="constructor";for(has$1(obj,prop)&&!keys.contains(prop)&&keys.push(prop);nonEnumIdx--;)(prop=nonEnumerableProps[nonEnumIdx])in obj&&obj[prop]!==proto[prop]&&!keys.contains(prop)&&keys.push(prop)}function keys(obj){if(!isObject(obj))return[];if(nativeKeys)return nativeKeys(obj);var key,keys=[];for(key in obj)has$1(obj,key)&&keys.push(key);return hasEnumBug&&collectNonEnumProps(obj,keys),keys}function isMatch(object,attrs){var _keys=keys(attrs),length=_keys.length;if(null==object)return!length;for(var obj=Object(object),i=0;i<length;i++){var key=_keys[i];if(attrs[key]!==obj[key]||!(key in obj))return!1}return!0}function _$1(obj){return obj instanceof _$1?obj:this instanceof _$1?void(this._wrapped=obj):new _$1(obj)}function toBufferView(bufferSource){return new Uint8Array(bufferSource.buffer||bufferSource,bufferSource.byteOffset||0,getByteLength(bufferSource))}_$1.VERSION="1.13.6",_$1.prototype.valueOf=_$1.prototype.toJSON=_$1.prototype.value=function(){return this._wrapped},_$1.prototype.toString=function(){return String(this._wrapped)};var tagDataView="[object DataView]";function eq(a,b,aStack,bStack){var type;return a===b?0!==a||1/a==1/b:null!=a&&null!=b&&(a!=a?b!=b:("function"==(type=typeof a)||"object"==type||"object"==typeof b)&&function deepEq(a,b,aStack,bStack){a instanceof _$1&&(a=a._wrapped);b instanceof _$1&&(b=b._wrapped);var className=toString.call(a);if(className!==toString.call(b))return!1;if(hasStringTagBug&&"[object Object]"==className&&isDataView$1(a)){if(!isDataView$1(b))return!1;className=tagDataView}switch(className){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!=+a?+b!=+b:0==+a?1/+a==1/b:+a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object Symbol]":return SymbolProto.valueOf.call(a)===SymbolProto.valueOf.call(b);case"[object ArrayBuffer]":case tagDataView:return deepEq(toBufferView(a),toBufferView(b),aStack,bStack)}className="[object Array]"===className;if(!className&&isTypedArray$1(a)){var byteLength=getByteLength(a);if(byteLength!==getByteLength(b))return!1;if(a.buffer===b.buffer&&a.byteOffset===b.byteOffset)return!0;className=!0}if(!className){if("object"!=typeof a||"object"!=typeof b)return!1;var byteLength=a.constructor,bCtor=b.constructor;if(byteLength!==bCtor&&!(isFunction$1(byteLength)&&byteLength instanceof byteLength&&isFunction$1(bCtor)&&bCtor instanceof bCtor)&&"constructor"in a&&"constructor"in b)return!1}aStack=aStack||[];bStack=bStack||[];var length=aStack.length;for(;length--;)if(aStack[length]===a)return bStack[length]===b;aStack.push(a);bStack.push(b);if(className){if((length=a.length)!==b.length)return!1;for(;length--;)if(!eq(a[length],b[length],aStack,bStack))return!1}else{var key,_keys=keys(a);if(length=_keys.length,keys(b).length!==length)return!1;for(;length--;)if(key=_keys[length],!has$1(b,key)||!eq(a[key],b[key],aStack,bStack))return!1}aStack.pop();bStack.pop();return!0}(a,b,aStack,bStack))}function allKeys(obj){if(!isObject(obj))return[];var key,keys=[];for(key in obj)keys.push(key);return hasEnumBug&&collectNonEnumProps(obj,keys),keys}function ie11fingerprint(methods){var length=getLength(methods);return function(obj){if(null==obj)return!1;var keys=allKeys(obj);if(getLength(keys))return!1;for(var i=0;i<length;i++)if(!isFunction$1(obj[methods[i]]))return!1;return methods!==weakMapMethods||!isFunction$1(obj.forEach)}}var root=["clear","delete"],supportsDataView=["get","has","set"],nativeIsArray=root.concat("forEach",supportsDataView),weakMapMethods=root.concat(supportsDataView),supportsArrayBuffer=["add"].concat(root,"forEach","has"),supportsDataView=isFunction?ie11fingerprint(nativeIsArray):tagTester("Map"),root=isFunction?ie11fingerprint(weakMapMethods):tagTester("WeakMap"),nativeIsArray=isFunction?ie11fingerprint(supportsArrayBuffer):tagTester("Set"),isFunction=tagTester("WeakSet");function values(obj){for(var _keys=keys(obj),length=_keys.length,values=Array(length),i=0;i<length;i++)values[i]=obj[_keys[i]];return values}function invert(obj){for(var result={},_keys=keys(obj),i=0,length=_keys.length;i<length;i++)result[obj[_keys[i]]]=_keys[i];return result}function functions(obj){var key,names=[];for(key in obj)isFunction$1(obj[key])&&names.push(key);return names.sort()}function createAssigner(keysFunc,defaults){return function(obj){var length=arguments.length;if(defaults&&(obj=Object(obj)),!(length<2||null==obj))for(var index=1;index<length;index++)for(var source=arguments[index],keys=keysFunc(source),l=keys.length,i=0;i<l;i++){var key=keys[i];defaults&&void 0!==obj[key]||(obj[key]=source[key])}return obj}}var extend=createAssigner(allKeys),extendOwn=createAssigner(keys),defaults=createAssigner(allKeys,!0);function baseCreate(prototype){var Ctor;return isObject(prototype)?nativeCreate?nativeCreate(prototype):((Ctor=function(){}).prototype=prototype,prototype=new Ctor,Ctor.prototype=null,prototype):{}}function toPath$1(path){return isArray(path)?path:[path]}function toPath(path){return _$1.toPath(path)}function deepGet(obj,path){for(var length=path.length,i=0;i<length;i++){if(null==obj)return;obj=obj[path[i]]}return length?obj:void 0}function get(object,path,defaultValue){object=deepGet(object,toPath(path));return void 0===object?defaultValue:object}function identity(value){return value}function matcher(attrs){return attrs=extendOwn({},attrs),function(obj){return isMatch(obj,attrs)}}function property(path){return path=toPath(path),function(obj){return deepGet(obj,path)}}function optimizeCb(func,context,argCount){if(void 0===context)return func;switch(null==argCount?3:argCount){case 1:return function(value){return func.call(context,value)};case 3:return function(value,index,collection){return func.call(context,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(context,accumulator,value,index,collection)}}return function(){return func.apply(context,arguments)}}function baseIteratee(value,context,argCount){return null==value?identity:isFunction$1(value)?optimizeCb(value,context,argCount):(isObject(value)&&!isArray(value)?matcher:property)(value)}function iteratee(value,context){return baseIteratee(value,context,1/0)}function cb(value,context,argCount){return _$1.iteratee!==iteratee?_$1.iteratee(value,context):baseIteratee(value,context,argCount)}function noop(){}function random(min,max){return null==max&&(max=min,min=0),min+Math.floor(Math.random()*(max-min+1))}_$1.toPath=toPath$1,_$1.iteratee=iteratee;var now=Date.now||function(){return(new Date).getTime()};function createEscaper(map){function escaper(match){return map[match]}var source="(?:"+keys(map).join("|")+")",testRegexp=RegExp(source),replaceRegexp=RegExp(source,"g");return function(string){return testRegexp.test(string=null==string?"":""+string)?string.replace(replaceRegexp,escaper):string}}var supportsArrayBuffer={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},_escape=createEscaper(supportsArrayBuffer),supportsArrayBuffer=createEscaper(invert(supportsArrayBuffer)),templateSettings=_$1.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},escapeRegExp=/\\|'|\r|\n|\u2028|\u2029/g;function escapeChar(match){return"\\"+escapes[match]}var bareIdentifier=/^\s*(\w|\$)+\s*$/;var idCounter=0;function executeBound(sourceFunc,boundFunc,context,callingContext,args){return callingContext instanceof boundFunc?(callingContext=baseCreate(sourceFunc.prototype),isObject(boundFunc=sourceFunc.apply(callingContext,args))?boundFunc:callingContext):sourceFunc.apply(context,args)}var partial=restArguments(function(func,boundArgs){function bound(){for(var position=0,length=boundArgs.length,args=Array(length),i=0;i<length;i++)args[i]=boundArgs[i]===placeholder?arguments[position++]:boundArgs[i];for(;position<arguments.length;)args.push(arguments[position++]);return executeBound(func,bound,this,this,args)}var placeholder=partial.placeholder;return bound}),bind=(partial.placeholder=_$1,restArguments(function(func,context,args){var bound;if(isFunction$1(func))return bound=restArguments(function(callArgs){return executeBound(func,bound,context,this,args.concat(callArgs))});throw new TypeError("Bind must be called on a function")})),isArrayLike=createSizePropertyCheck(getLength);function flatten$1(input,depth,strict,output){if(output=output||[],depth||0===depth){if(depth<=0)return output.concat(input)}else depth=1/0;for(var idx=output.length,i=0,length=getLength(input);i<length;i++){var value=input[i];if(isArrayLike(value)&&(isArray(value)||isArguments$1(value)))if(1<depth)flatten$1(value,depth-1,strict,output),idx=output.length;else for(var j=0,len=value.length;j<len;)output[idx++]=value[j++];else strict||(output[idx++]=value)}return output}var bindAll=restArguments(function(obj,keys){var index=(keys=flatten$1(keys,!1,!1)).length;if(index<1)throw new Error("bindAll must be passed function names");for(;index--;){var key=keys[index];obj[key]=bind(obj[key],obj)}return obj});var delay=restArguments(function(func,wait,args){return setTimeout(function(){return func.apply(null,args)},wait)}),defer=partial(delay,_$1,1);function negate(predicate){return function(){return!predicate.apply(this,arguments)}}function before(times,func){var memo;return function(){return 0<--times&&(memo=func.apply(this,arguments)),times<=1&&(func=null),memo}}var once=partial(before,2);function findKey(obj,predicate,context){predicate=cb(predicate,context);for(var key,_keys=keys(obj),i=0,length=_keys.length;i<length;i++)if(predicate(obj[key=_keys[i]],key,obj))return key}function createPredicateIndexFinder(dir){return function(array,predicate,context){predicate=cb(predicate,context);for(var length=getLength(array),index=0<dir?0:length-1;0<=index&&index<length;index+=dir)if(predicate(array[index],index,array))return index;return-1}}var findIndex=createPredicateIndexFinder(1),findLastIndex=createPredicateIndexFinder(-1);function sortedIndex(array,obj,iteratee,context){for(var value=(iteratee=cb(iteratee,context,1))(obj),low=0,high=getLength(array);low<high;){var mid=Math.floor((low+high)/2);iteratee(array[mid])<value?low=mid+1:high=mid}return low}function createIndexFinder(dir,predicateFind,sortedIndex){return function(array,item,idx){var i=0,length=getLength(array);if("number"==typeof idx)0<dir?i=0<=idx?idx:Math.max(idx+length,i):length=0<=idx?Math.min(idx+1,length):idx+length+1;else if(sortedIndex&&idx&&length)return array[idx=sortedIndex(array,item)]===item?idx:-1;if(item!=item)return 0<=(idx=predicateFind(slice.call(array,i,length),isNaN$1))?idx+i:-1;for(idx=0<dir?i:length-1;0<=idx&&idx<length;idx+=dir)if(array[idx]===item)return idx;return-1}}var indexOf=createIndexFinder(1,findIndex,sortedIndex),lastIndexOf=createIndexFinder(-1,findLastIndex);function find(obj,predicate,context){predicate=(isArrayLike(obj)?findIndex:findKey)(obj,predicate,context);if(void 0!==predicate&&-1!==predicate)return obj[predicate]}function each(obj,iteratee,context){if(iteratee=optimizeCb(iteratee,context),isArrayLike(obj))for(i=0,length=obj.length;i<length;i++)iteratee(obj[i],i,obj);else for(var _keys=keys(obj),i=0,length=_keys.length;i<length;i++)iteratee(obj[_keys[i]],_keys[i],obj);return obj}function map(obj,iteratee,context){iteratee=cb(iteratee,context);for(var _keys=!isArrayLike(obj)&&keys(obj),length=(_keys||obj).length,results=Array(length),index=0;index<length;index++){var currentKey=_keys?_keys[index]:index;results[index]=iteratee(obj[currentKey],currentKey,obj)}return results}function createReduce(dir){return function(obj,iteratee,memo,context){var initial=3<=arguments.length;return function(obj,iteratee,memo,initial){var _keys=!isArrayLike(obj)&&keys(obj),length=(_keys||obj).length,index=0<dir?0:length-1;for(initial||(memo=obj[_keys?_keys[index]:index],index+=dir);0<=index&&index<length;index+=dir){var currentKey=_keys?_keys[index]:index;memo=iteratee(memo,obj[currentKey],currentKey,obj)}return memo}(obj,optimizeCb(iteratee,context,4),memo,initial)}}var reduce=createReduce(1),reduceRight=createReduce(-1);function filter(obj,predicate,context){var results=[];return predicate=cb(predicate,context),each(obj,function(value,index,list){predicate(value,index,list)&&results.push(value)}),results}function every(obj,predicate,context){predicate=cb(predicate,context);for(var _keys=!isArrayLike(obj)&&keys(obj),length=(_keys||obj).length,index=0;index<length;index++){var currentKey=_keys?_keys[index]:index;if(!predicate(obj[currentKey],currentKey,obj))return!1}return!0}function some(obj,predicate,context){predicate=cb(predicate,context);for(var _keys=!isArrayLike(obj)&&keys(obj),length=(_keys||obj).length,index=0;index<length;index++){var currentKey=_keys?_keys[index]:index;if(predicate(obj[currentKey],currentKey,obj))return!0}return!1}function contains(obj,item,fromIndex,guard){return isArrayLike(obj)||(obj=values(obj)),0<=indexOf(obj,item,fromIndex="number"==typeof fromIndex&&!guard?fromIndex:0)}var invoke=restArguments(function(obj,path,args){var contextPath,func;return isFunction$1(path)?func=path:(path=toPath(path),contextPath=path.slice(0,-1),path=path[path.length-1]),map(obj,function(context){var method=func;if(!method){if(null==(context=contextPath&&contextPath.length?deepGet(context,contextPath):context))return;method=context[path]}return null==method?method:method.apply(context,args)})});function pluck(obj,key){return map(obj,property(key))}function max(obj,iteratee,context){var value,computed,result=-1/0,lastComputed=-1/0;if(null==iteratee||"number"==typeof iteratee&&"object"!=typeof obj[0]&&null!=obj)for(var i=0,length=(obj=isArrayLike(obj)?obj:values(obj)).length;i<length;i++)null!=(value=obj[i])&&result<value&&(result=value);else iteratee=cb(iteratee,context),each(obj,function(v,index,list){computed=iteratee(v,index,list),(lastComputed<computed||computed===-1/0&&result===-1/0)&&(result=v,lastComputed=computed)});return result}var reStrSymbol=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function toArray(obj){return obj?isArray(obj)?slice.call(obj):isString(obj)?obj.match(reStrSymbol):isArrayLike(obj)?map(obj,identity):values(obj):[]}function sample(obj,n,guard){if(null==n||guard)return(obj=isArrayLike(obj)?obj:values(obj))[random(obj.length-1)];for(var sample=toArray(obj),guard=getLength(sample),last=(n=Math.max(Math.min(n,guard),0),guard-1),index=0;index<n;index++){var rand=random(index,last),temp=sample[index];sample[index]=sample[rand],sample[rand]=temp}return sample.slice(0,n)}function group(behavior,partition){return function(obj,iteratee,context){var result=partition?[[],[]]:{};return iteratee=cb(iteratee,context),each(obj,function(value,index){index=iteratee(value,index,obj);behavior(result,value,index)}),result}}var groupBy=group(function(result,value,key){has$1(result,key)?result[key].push(value):result[key]=[value]}),indexBy=group(function(result,value,key){result[key]=value}),countBy=group(function(result,value,key){has$1(result,key)?result[key]++:result[key]=1}),partition=group(function(result,value,pass){result[pass?0:1].push(value)},!0);function keyInObj(value,key,obj){return key in obj}var pick=restArguments(function(obj,keys){var result={},iteratee=keys[0];if(null!=obj){isFunction$1(iteratee)?(1<keys.length&&(iteratee=optimizeCb(iteratee,keys[1])),keys=allKeys(obj)):(iteratee=keyInObj,keys=flatten$1(keys,!1,!1),obj=Object(obj));for(var i=0,length=keys.length;i<length;i++){var key=keys[i],value=obj[key];iteratee(value,key,obj)&&(result[key]=value)}}return result}),omit=restArguments(function(obj,keys){var context,iteratee=keys[0];return isFunction$1(iteratee)?(iteratee=negate(iteratee),1<keys.length&&(context=keys[1])):(keys=map(flatten$1(keys,!1,!1),String),iteratee=function(value,key){return!contains(keys,key)}),pick(obj,iteratee,context)});function initial(array,n,guard){return slice.call(array,0,Math.max(0,array.length-(null==n||guard?1:n)))}function first(array,n,guard){return null==array||array.length<1?null==n||guard?void 0:[]:null==n||guard?array[0]:initial(array,array.length-n)}function rest(array,n,guard){return slice.call(array,null==n||guard?1:n)}var difference=restArguments(function(array,rest){return rest=flatten$1(rest,!0,!0),filter(array,function(value){return!contains(rest,value)})}),without=restArguments(function(array,otherArrays){return difference(array,otherArrays)});function uniq(array,isSorted,iteratee,context){isBoolean(isSorted)||(context=iteratee,iteratee=isSorted,isSorted=!1),null!=iteratee&&(iteratee=cb(iteratee,context));for(var result=[],seen=[],i=0,length=getLength(array);i<length;i++){var value=array[i],computed=iteratee?iteratee(value,i,array):value;isSorted&&!iteratee?(i&&seen===computed||result.push(value),seen=computed):iteratee?contains(seen,computed)||(seen.push(computed),result.push(value)):contains(result,value)||result.push(value)}return result}var union=restArguments(function(arrays){return uniq(flatten$1(arrays,!0,!0))});function unzip(array){for(var length=array&&max(array,getLength).length||0,result=Array(length),index=0;index<length;index++)result[index]=pluck(array,index);return result}var zip=restArguments(unzip);function chainResult(instance,obj){return instance._chain?_$1(obj).chain():obj}function mixin(obj){return each(functions(obj),function(name){var func=_$1[name]=obj[name];_$1.prototype[name]=function(){var args=[this._wrapped];return push.apply(args,arguments),chainResult(this,func.apply(_$1,args))}}),_$1}each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_$1.prototype[name]=function(){var obj=this._wrapped;return null!=obj&&(method.apply(obj,arguments),"shift"!==name&&"splice"!==name||0!==obj.length||delete obj[0]),chainResult(this,obj)}}),each(["concat","join","slice"],function(name){var method=ArrayProto[name];_$1.prototype[name]=function(){var obj=this._wrapped;return chainResult(this,obj=null!=obj?method.apply(obj,arguments):obj)}});isDate=mixin({__proto__:null,VERSION:"1.13.6",restArguments:restArguments,isObject:isObject,isNull:function(obj){return null===obj},isUndefined:isUndefined,isBoolean:isBoolean,isElement:function(obj){return!(!obj||1!==obj.nodeType)},isString:isString,isNumber:isNumber,isDate:isDate,isRegExp:isRegExp,isError:isError,isSymbol:isSymbol,isArrayBuffer:isArrayBuffer,isDataView:isDataView$1,isArray:isArray,isFunction:isFunction$1,isArguments:isArguments$1,isFinite:function(obj){return!isSymbol(obj)&&_isFinite(obj)&&!isNaN(parseFloat(obj))},isNaN:isNaN$1,isTypedArray:isTypedArray$1,isEmpty:function(obj){var length;return null==obj||("number"==typeof(length=getLength(obj))&&(isArray(obj)||isString(obj)||isArguments$1(obj))?0===length:0===getLength(keys(obj)))},isMatch:isMatch,isEqual:function(a,b){return eq(a,b)},isMap:supportsDataView,isWeakMap:root,isSet:nativeIsArray,isWeakSet:isFunction,keys:keys,allKeys:allKeys,values:values,pairs:function(obj){for(var _keys=keys(obj),length=_keys.length,pairs=Array(length),i=0;i<length;i++)pairs[i]=[_keys[i],obj[_keys[i]]];return pairs},invert:invert,functions:functions,methods:functions,extend:extend,extendOwn:extendOwn,assign:extendOwn,defaults:defaults,create:function(prototype,props){return prototype=baseCreate(prototype),props&&extendOwn(prototype,props),prototype},clone:function(obj){return isObject(obj)?isArray(obj)?obj.slice():extend({},obj):obj},tap:function(obj,interceptor){return interceptor(obj),obj},get:get,has:function(obj,path){for(var length=(path=toPath(path)).length,i=0;i<length;i++){var key=path[i];if(!has$1(obj,key))return!1;obj=obj[key]}return!!length},mapObject:function(obj,iteratee,context){iteratee=cb(iteratee,context);for(var _keys=keys(obj),length=_keys.length,results={},index=0;index<length;index++){var currentKey=_keys[index];results[currentKey]=iteratee(obj[currentKey],currentKey,obj)}return results},identity:identity,constant:constant,noop:noop,toPath:toPath$1,property:property,propertyOf:function(obj){return null==obj?noop:function(path){return get(obj,path)}},matcher:matcher,matches:matcher,times:function(n,iteratee,context){var accum=Array(Math.max(0,n));iteratee=optimizeCb(iteratee,context,1);for(var i=0;i<n;i++)accum[i]=iteratee(i);return accum},random:random,now:now,escape:_escape,unescape:supportsArrayBuffer,templateSettings:templateSettings,template:function(text,settings,oldSettings){settings=defaults({},settings=!settings&&oldSettings?oldSettings:settings,_$1.templateSettings);var render,oldSettings=RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g"),index=0,source="__p+='";if(text.replace(oldSettings,function(match,escape,interpolate,evaluate,offset){return source+=text.slice(index,offset).replace(escapeRegExp,escapeChar),index=offset+match.length,escape?source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'":interpolate?source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'":evaluate&&(source+="';\n"+evaluate+"\n__p+='"),match}),source+="';\n",oldSettings=settings.variable){if(!bareIdentifier.test(oldSettings))throw new Error("variable is not a bare identifier: "+oldSettings)}else source="with(obj||{}){\n"+source+"}\n",oldSettings="obj";source="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{render=new Function(oldSettings,"_",source)}catch(e){throw e.source=source,e}function template(data){return render.call(this,data,_$1)}return template.source="function("+oldSettings+"){\n"+source+"}",template},result:function(obj,path,fallback){var length=(path=toPath(path)).length;if(!length)return isFunction$1(fallback)?fallback.call(obj):fallback;for(var i=0;i<length;i++){var prop=null==obj?void 0:obj[path[i]];void 0===prop&&(prop=fallback,i=length),obj=isFunction$1(prop)?prop.call(obj):prop}return obj},uniqueId:function(prefix){var id=++idCounter+"";return prefix?prefix+id:id},chain:function(obj){return(obj=_$1(obj))._chain=!0,obj},iteratee:iteratee,partial:partial,bind:bind,bindAll:bindAll,memoize:function(func,hasher){function memoize(key){var cache=memoize.cache,address=""+(hasher?hasher.apply(this,arguments):key);return has$1(cache,address)||(cache[address]=func.apply(this,arguments)),cache[address]}return memoize.cache={},memoize},delay:delay,defer:defer,throttle:function(func,wait,options){function later(){previous=!1===options.leading?0:now(),timeout=null,result=func.apply(context,args),timeout||(context=args=null)}function throttled(){var _now=now(),remaining=(previous||!1!==options.leading||(previous=_now),wait-(_now-previous));return context=this,args=arguments,remaining<=0||wait<remaining?(timeout&&(clearTimeout(timeout),timeout=null),previous=_now,result=func.apply(context,args),timeout||(context=args=null)):timeout||!1===options.trailing||(timeout=setTimeout(later,remaining)),result}var timeout,context,args,result,previous=0;return options=options||{},throttled.cancel=function(){clearTimeout(timeout),previous=0,timeout=context=args=null},throttled},debounce:function(func,wait,immediate){function later(){var passed=now()-previous;passed<wait?timeout=setTimeout(later,wait-passed):(timeout=null,immediate||(result=func.apply(context,args)),timeout||(args=context=null))}var timeout,previous,args,result,context,debounced=restArguments(function(_args){return context=this,args=_args,previous=now(),timeout||(timeout=setTimeout(later,wait),immediate&&(result=func.apply(context,args))),result});return debounced.cancel=function(){clearTimeout(timeout),timeout=args=context=null},debounced},wrap:function(func,wrapper){return partial(wrapper,func)},negate:negate,compose:function(){var args=arguments,start=args.length-1;return function(){for(var i=start,result=args[start].apply(this,arguments);i--;)result=args[i].call(this,result);return result}},after:function(times,func){return function(){if(--times<1)return func.apply(this,arguments)}},before:before,once:once,findKey:findKey,findIndex:findIndex,findLastIndex:findLastIndex,sortedIndex:sortedIndex,indexOf:indexOf,lastIndexOf:lastIndexOf,find:find,detect:find,findWhere:function(obj,attrs){return find(obj,matcher(attrs))},each:each,forEach:each,map:map,collect:map,reduce:reduce,foldl:reduce,inject:reduce,reduceRight:reduceRight,foldr:reduceRight,filter:filter,select:filter,reject:function(obj,predicate,context){return filter(obj,negate(cb(predicate)),context)},every:every,all:every,some:some,any:some,contains:contains,includes:contains,include:contains,invoke:invoke,pluck:pluck,where:function(obj,attrs){return filter(obj,matcher(attrs))},max:max,min:function(obj,iteratee,context){var value,computed,result=1/0,lastComputed=1/0;if(null==iteratee||"number"==typeof iteratee&&"object"!=typeof obj[0]&&null!=obj)for(var i=0,length=(obj=isArrayLike(obj)?obj:values(obj)).length;i<length;i++)null!=(value=obj[i])&&value<result&&(result=value);else iteratee=cb(iteratee,context),each(obj,function(v,index,list){((computed=iteratee(v,index,list))<lastComputed||computed===1/0&&result===1/0)&&(result=v,lastComputed=computed)});return result},shuffle:function(obj){return sample(obj,1/0)},sample:sample,sortBy:function(obj,iteratee,context){var index=0;return iteratee=cb(iteratee,context),pluck(map(obj,function(value,key,list){return{value:value,index:index++,criteria:iteratee(value,key,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a!==b){if(b<a||void 0===a)return 1;if(a<b||void 0===b)return-1}return left.index-right.index}),"value")},groupBy:groupBy,indexBy:indexBy,countBy:countBy,partition:partition,toArray:toArray,size:function(obj){return null==obj?0:(isArrayLike(obj)?obj:keys(obj)).length},pick:pick,omit:omit,first:first,head:first,take:first,initial:initial,last:function(array,n,guard){return null==array||array.length<1?null==n||guard?void 0:[]:null==n||guard?array[array.length-1]:rest(array,Math.max(0,array.length-n))},rest:rest,tail:rest,drop:rest,compact:function(array){return filter(array,Boolean)},flatten:function(array,depth){return flatten$1(array,depth,!1)},without:without,uniq:uniq,unique:uniq,union:union,intersection:function(array){for(var result=[],argsLength=arguments.length,i=0,length=getLength(array);i<length;i++){var item=array[i];if(!contains(result,item)){for(var j=1;j<argsLength&&contains(arguments[j],item);j++);j===argsLength&&result.push(item)}}return result},difference:difference,unzip:unzip,transpose:unzip,zip:zip,object:function(list,values){for(var result={},i=0,length=getLength(list);i<length;i++)values?result[list[i]]=values[i]:result[list[i][0]]=list[i][1];return result},range:function(start,stop,step){null==stop&&(stop=start||0,start=0),step=step||(stop<start?-1:1);for(var length=Math.max(Math.ceil((stop-start)/step),0),range=Array(length),idx=0;idx<length;idx++,start+=step)range[idx]=start;return range},chunk:function(array,count){if(null==count||count<1)return[];for(var result=[],i=0,length=array.length;i<length;)result.push(slice.call(array,i,i+=count));return result},mixin:mixin,default:_$1});return isDate._=isDate}),!function(factory){var registeredInModuleLoader,OldCookies,api;"function"==typeof define&&define.amd&&(define(factory),registeredInModuleLoader=!0),"object"==typeof exports&&(module.exports=factory(),registeredInModuleLoader=!0),registeredInModuleLoader||(OldCookies=window.Cookies,(api=window.Cookies=factory()).noConflict=function(){return window.Cookies=OldCookies,api})}(function(){function extend(){for(var i=0,result={};i<arguments.length;i++){var key,attributes=arguments[i];for(key in attributes)result[key]=attributes[key]}return result}function decode(s){return s.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function init(converter){function api(){}function set(key,value,attributes){if("undefined"!=typeof document){"number"==typeof(attributes=extend({path:"/"},api.defaults,attributes)).expires&&(attributes.expires=new Date(+new Date+864e5*attributes.expires)),attributes.expires=attributes.expires?attributes.expires.toUTCString():"";try{var result=JSON.stringify(value);/^[\{\[]/.test(result)&&(value=result)}catch(e){}value=converter.write?converter.write(value,key):encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),key=encodeURIComponent(String(key)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var attributeName,stringifiedAttributes="";for(attributeName in attributes)attributes[attributeName]&&(stringifiedAttributes+="; "+attributeName,!0!==attributes[attributeName])&&(stringifiedAttributes+="="+attributes[attributeName].split(";")[0]);return document.cookie=key+"="+value+stringifiedAttributes}}function get(key,json){if("undefined"!=typeof document){for(var jar={},cookies=document.cookie?document.cookie.split("; "):[],i=0;i<cookies.length;i++){var parts=cookies[i].split("="),cookie=parts.slice(1).join("=");json||'"'!==cookie.charAt(0)||(cookie=cookie.slice(1,-1));try{var name=decode(parts[0]),cookie=(converter.read||converter)(cookie,name)||decode(cookie);if(json)try{cookie=JSON.parse(cookie)}catch(e){}if(jar[name]=cookie,key===name)break}catch(e){}}return key?jar[key]:jar}}return api.set=set,api.get=function(key){return get(key,!1)},api.getJSON=function(key){return get(key,!0)},api.remove=function(key,attributes){set(key,"",extend(attributes,{expires:-1}))},api.defaults={},api.withConverter=init,api}(function(){})}),!function(factory){"use strict";"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof module&&module.exports?module.exports=factory(require("jquery")):jQuery&&!jQuery.fn.hoverIntent&&factory(jQuery)}(function($){"use strict";function isFunction(value){return"function"==typeof value}var cX,cY,_cfg={interval:100,sensitivity:6,timeout:0},INSTANCE_COUNT=0,track=function(ev){cX=ev.pageX,cY=ev.pageY},compare=function(ev,$el,s,cfg){if(Math.sqrt((s.pX-cX)*(s.pX-cX)+(s.pY-cY)*(s.pY-cY))<cfg.sensitivity)return $el.off(s.event,track),delete s.timeoutId,s.isActive=!0,ev.pageX=cX,ev.pageY=cY,delete s.pX,delete s.pY,cfg.over.apply($el[0],[ev]);s.pX=cX,s.pY=cY,s.timeoutId=setTimeout(function(){compare(ev,$el,s,cfg)},cfg.interval)};$.fn.hoverIntent=function(handlerIn,handlerOut,selector){function handleHover(e){var ev=$.extend({},e),$el=$(this),state=((hoverIntentData=$el.data("hoverIntent"))||$el.data("hoverIntent",hoverIntentData={}),hoverIntentData[instanceId]),hoverIntentData=(state||(hoverIntentData[instanceId]=state={id:instanceId}),state.timeoutId&&(state.timeoutId=clearTimeout(state.timeoutId)),state.event="mousemove.hoverIntent.hoverIntent"+instanceId);"mouseenter"===e.type?state.isActive||(state.pX=ev.pageX,state.pY=ev.pageY,$el.off(hoverIntentData,track).on(hoverIntentData,track),state.timeoutId=setTimeout(function(){compare(ev,$el,state,cfg)},cfg.interval)):state.isActive&&($el.off(hoverIntentData,track),state.timeoutId=setTimeout(function(){!function(ev,$el,s,out){var data=$el.data("hoverIntent");data&&delete data[s.id],out.apply($el[0],[ev])}(ev,$el,state,cfg.out)},cfg.timeout))}var instanceId=INSTANCE_COUNT++,cfg=$.extend({},_cfg);$.isPlainObject(handlerIn)?(cfg=$.extend(cfg,handlerIn),isFunction(cfg.out)||(cfg.out=cfg.over)):cfg=isFunction(handlerOut)?$.extend(cfg,{over:handlerIn,out:handlerOut,selector:selector}):$.extend(cfg,{over:handlerIn,out:handlerIn,selector:handlerOut});return this.on({"mouseenter.hoverIntent":handleHover,"mouseleave.hoverIntent":handleHover},cfg.selector)}}),"object"!=typeof JSON&&(JSON={}),!function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(n){return n<10?"0"+n:n}function this_value(){return this.valueOf()}function quote(string){return rx_escapable.lastIndex=0,rx_escapable.test(string)?'"'+string.replace(rx_escapable,function(a){var c=meta[a];return"string"==typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,partial,mind=gap,value=holder[key];switch(value&&"object"==typeof value&&"function"==typeof value.toJSON&&(value=value.toJSON(key)),typeof(value="function"==typeof rep?rep.call(holder,key,value):value)){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value)return"null";if(gap+=indent,partial=[],"[object Array]"===Object.prototype.toString.apply(value)){for(length=value.length,i=0;i<length;i+=1)partial[i]=str(i,value)||"null";v=0===partial.length?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]"}else{if(rep&&"object"==typeof rep)for(length=rep.length,i=0;i<length;i+=1)"string"==typeof rep[i]&&(v=str(k=rep[i],value))&&partial.push(quote(k)+(gap?": ":":")+v);else for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=str(k,value))&&partial.push(quote(k)+(gap?": ":":")+v);v=0===partial.length?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}"}return gap=mind,v}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(value,replacer,space){var i;if(indent=gap="","number"==typeof space)for(i=0;i<space;i+=1)indent+=" ";else"string"==typeof space&&(indent=space);if(!(rep=replacer)||"function"==typeof replacer||"object"==typeof replacer&&"number"==typeof replacer.length)return str("",{"":value});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(void 0!==(v=walk(value,k))?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),!function(factory){"use strict";"function"==typeof define&&define.amd?define(["jquery"],factory):factory(jQuery)}(function($){"use strict";$.ui=$.ui||{};$.ui.version="1.13.2";var orig,cachedScrollbarWidth,max,abs,rhorizontal,rvertical,roffset,rposition,rpercent,_position,widgetUuid=0,widgetHasOwnProperty=Array.prototype.hasOwnProperty,widgetSlice=Array.prototype.slice;$.cleanData=(orig=$.cleanData,function(elems){for(var events,elem,i=0;null!=(elem=elems[i]);i++)(events=$._data(elem,"events"))&&events.remove&&$(elem).triggerHandler("remove");orig(elems)}),$.widget=function(name,base,prototype){var existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0],fullName=namespace+"-"+(name=name.split(".")[1]);return prototype||(prototype=base,base=$.Widget),Array.isArray(prototype)&&(prototype=$.extend.apply(null,[{}].concat(prototype))),$.expr.pseudos[fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName)},$[namespace]=$[namespace]||{},existingConstructor=$[namespace][name],constructor=$[namespace][name]=function(options,element){if(!this||!this._createWidget)return new constructor(options,element);arguments.length&&this._createWidget(options,element)},$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]}),(basePrototype=new base).options=$.widget.extend({},basePrototype.options),$.each(prototype,function(prop,value){function _super(){return base.prototype[prop].apply(this,arguments)}function _superApply(args){return base.prototype[prop].apply(this,args)}proxiedPrototype[prop]="function"!=typeof value?value:function(){var returnValue,__super=this._super,__superApply=this._superApply;return this._super=_super,this._superApply=_superApply,returnValue=value.apply(this,arguments),this._super=__super,this._superApply=__superApply,returnValue}}),constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor&&basePrototype.widgetEventPrefix||name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName}),existingConstructor?($.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto)}),delete existingConstructor._childConstructors):base._childConstructors.push(constructor),$.widget.bridge(name,constructor),constructor},$.widget.extend=function(target){for(var key,value,input=widgetSlice.call(arguments,1),inputIndex=0,inputLength=input.length;inputIndex<inputLength;inputIndex++)for(key in input[inputIndex])value=input[inputIndex][key],widgetHasOwnProperty.call(input[inputIndex],key)&&void 0!==value&&($.isPlainObject(value)?target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value):target[key]=value);return target},$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall="string"==typeof options,args=widgetSlice.call(arguments,1),returnValue=this;return isMethodCall?this.length||"instance"!==options?this.each(function(){var methodValue,instance=$.data(this,fullName);return"instance"===options?(returnValue=instance,!1):instance?"function"!=typeof instance[options]||"_"===options.charAt(0)?$.error("no such method '"+options+"' for "+name+" widget instance"):(methodValue=instance[options].apply(instance,args))!==instance&&void 0!==methodValue?(returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue,!1):void 0:$.error("cannot call methods on "+name+" prior to initialization; attempted to call method '"+options+"'")}):returnValue=void 0:(args.length&&(options=$.widget.extend.apply(null,[options].concat(args))),this.each(function(){var instance=$.data(this,fullName);instance?(instance.option(options||{}),instance._init&&instance._init()):$.data(this,fullName,new object(options,this))})),returnValue}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0],this.element=$(element),this.uuid=widgetUuid++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=$(),this.hoverable=$(),this.focusable=$(),this.classesElementLookup={},element!==this&&($.data(element,this.widgetFullName,this),this._on(!0,this.element,{remove:function(event){event.target===element&&this.destroy()}}),this.document=$(element.style?element.ownerDocument:element.document||element),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this.options=$.widget.extend({},this.options,this._getCreateOptions(),options),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){var that=this;this._destroy(),$.each(this.classesElementLookup,function(key,value){that._removeClass(value,key)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:$.noop,widget:function(){return this.element},option:function(key,value){var parts,curOption,i,options=key;if(0===arguments.length)return $.widget.extend({},this.options);if("string"==typeof key)if(options={},key=(parts=key.split(".")).shift(),parts.length){for(curOption=options[key]=$.widget.extend({},this.options[key]),i=0;i<parts.length-1;i++)curOption[parts[i]]=curOption[parts[i]]||{},curOption=curOption[parts[i]];if(key=parts.pop(),1===arguments.length)return void 0===curOption[key]?null:curOption[key];curOption[key]=value}else{if(1===arguments.length)return void 0===this.options[key]?null:this.options[key];options[key]=value}return this._setOptions(options),this},_setOptions:function(options){for(var key in options)this._setOption(key,options[key]);return this},_setOption:function(key,value){return"classes"===key&&this._setOptionClasses(value),this.options[key]=value,"disabled"===key&&this._setOptionDisabled(value),this},_setOptionClasses:function(value){var classKey,elements,currentElements;for(classKey in value)currentElements=this.classesElementLookup[classKey],value[classKey]!==this.options.classes[classKey]&&currentElements&&currentElements.length&&(elements=$(currentElements.get()),this._removeClass(currentElements,classKey),elements.addClass(this._classes({element:elements,keys:classKey,classes:value,add:!0})))},_setOptionDisabled:function(value){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!value),value&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(options){var full=[],that=this;function processClassString(classes,checkOption){for(var current,i=0;i<classes.length;i++)current=that.classesElementLookup[classes[i]]||$(),current=options.add?(function(){var nodesToBind=[];options.element.each(function(_,element){$.map(that.classesElementLookup,function(elements){return elements}).some(function(elements){return elements.is(element)})||nodesToBind.push(element)}),that._on($(nodesToBind),{remove:"_untrackClassesElement"})}(),$($.uniqueSort(current.get().concat(options.element.get())))):$(current.not(options.element).get()),that.classesElementLookup[classes[i]]=current,full.push(classes[i]),checkOption&&options.classes[classes[i]]&&full.push(options.classes[classes[i]])}return(options=$.extend({element:this.element,classes:this.options.classes||{}},options)).keys&&processClassString(options.keys.match(/\S+/g)||[],!0),options.extra&&processClassString(options.extra.match(/\S+/g)||[]),full.join(" ")},_untrackClassesElement:function(event){var that=this;$.each(that.classesElementLookup,function(key,value){-1!==$.inArray(event.target,value)&&(that.classesElementLookup[key]=$(value.not(event.target).get()))}),this._off($(event.target))},_removeClass:function(element,keys,extra){return this._toggleClass(element,keys,extra,!1)},_addClass:function(element,keys,extra){return this._toggleClass(element,keys,extra,!0)},_toggleClass:function(element,keys,extra,add){var shift="string"==typeof element||null===element,keys={extra:shift?keys:extra,keys:shift?element:keys,element:shift?this.element:element,add:add="boolean"==typeof add?add:extra};return keys.element.toggleClass(this._classes(keys),add),this},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;"boolean"!=typeof suppressDisabledCheck&&(handlers=element,element=suppressDisabledCheck,suppressDisabledCheck=!1),handlers?(element=delegateElement=$(element),this.bindings=this.bindings.add(element)):(handlers=element,element=this.element,delegateElement=this.widget()),$.each(handlers,function(event,handler){function handlerProxy(){if(suppressDisabledCheck||!0!==instance.options.disabled&&!$(this).hasClass("ui-state-disabled"))return("string"==typeof handler?instance[handler]:handler).apply(instance,arguments)}"string"!=typeof handler&&(handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++);var event=event.match(/^([\w:-]*)\s*(.*)$/),eventName=event[1]+instance.eventNamespace,event=event[2];event?delegateElement.on(eventName,event,handlerProxy):element.on(eventName,handlerProxy)})},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,element.off(eventName),this.bindings=$(this.bindings.not(element).get()),this.focusable=$(this.focusable.not(element).get()),this.hoverable=$(this.hoverable.not(element).get())},_delay:function(handler,delay){var instance=this;return setTimeout(function(){return("string"==typeof handler?instance[handler]:handler).apply(instance,arguments)},delay||0)},_hoverable:function(element){this.hoverable=this.hoverable.add(element),this._on(element,{mouseenter:function(event){this._addClass($(event.currentTarget),null,"ui-state-hover")},mouseleave:function(event){this._removeClass($(event.currentTarget),null,"ui-state-hover")}})},_focusable:function(element){this.focusable=this.focusable.add(element),this._on(element,{focusin:function(event){this._addClass($(event.currentTarget),null,"ui-state-focus")},focusout:function(event){this._removeClass($(event.currentTarget),null,"ui-state-focus")}})},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];if(data=data||{},(event=$.Event(event)).type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase(),event.target=this.element[0],orig=event.originalEvent)for(prop in orig)prop in event||(event[prop]=orig[prop]);return this.element.trigger(event,data),!("function"==typeof callback&&!1===callback.apply(this.element[0],[event].concat(data))||event.isDefaultPrevented())}},$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){var hasOptions,effectName=(options="string"==typeof options?{effect:options}:options)?!0!==options&&"number"!=typeof options&&options.effect||defaultEffect:method;"number"==typeof(options=options||{})?options={duration:options}:!0===options&&(options={}),hasOptions=!$.isEmptyObject(options),options.complete=callback,options.delay&&element.delay(options.delay),hasOptions&&$.effects&&$.effects.effect[effectName]?element[method](options):effectName!==method&&element[effectName]?element[effectName](options.duration,options.easing,callback):element.queue(function(next){$(this)[method](),callback&&callback.call(element[0]),next()})}}),$.widget;function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)]}function parseCss(element,property){return parseInt($.css(element,property),10)||0}function isWindow(obj){return null!=obj&&obj===obj.window}max=Math.max,abs=Math.abs,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position,$.position={scrollbarWidth:function(){var w1,div,innerDiv;return void 0!==cachedScrollbarWidth?cachedScrollbarWidth:(innerDiv=(div=$("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>")).children()[0],$("body").append(div),w1=innerDiv.offsetWidth,div.css("overflow","scroll"),w1===(innerDiv=innerDiv.offsetWidth)&&(innerDiv=div[0].clientWidth),div.remove(),cachedScrollbarWidth=w1-innerDiv)},getScrollInfo:function(within){var overflowX=within.isWindow||within.isDocument?"":within.element.css("overflow-x"),overflowY=within.isWindow||within.isDocument?"":within.element.css("overflow-y"),overflowX="scroll"===overflowX||"auto"===overflowX&&within.width<within.element[0].scrollWidth;return{width:"scroll"===overflowY||"auto"===overflowY&&within.height<within.element[0].scrollHeight?$.position.scrollbarWidth():0,height:overflowX?$.position.scrollbarWidth():0}},getWithinInfo:function(element){var withinElement=$(element||window),isElemWindow=isWindow(withinElement[0]),isDocument=!!withinElement[0]&&9===withinElement[0].nodeType;return{element:withinElement,isWindow:isElemWindow,isDocument:isDocument,offset:!isElemWindow&&!isDocument?$(element).offset():{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:withinElement.outerWidth(),height:withinElement.outerHeight()}}},$.fn.position=function(options){var atOffset,targetWidth,targetHeight,targetOffset,basePosition,target,within,scrollInfo,collision,offsets,elem,raw;return options&&options.of?(target="string"==typeof(options=$.extend({},options)).of?$(document).find(options.of):$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={},raw=9===(raw=(elem=target)[0]).nodeType?{width:elem.width(),height:elem.height(),offset:{top:0,left:0}}:isWindow(raw)?{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}}:raw.preventDefault?{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}}:{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()},target[0].preventDefault&&(options.at="left top"),targetWidth=raw.width,targetHeight=raw.height,basePosition=$.extend({},targetOffset=raw.offset),$.each(["my","at"],function(){var horizontalOffset,verticalOffset,pos=(options[this]||"").split(" ");(pos=1===pos.length?rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"]:pos)[0]=rhorizontal.test(pos[0])?pos[0]:"center",pos[1]=rvertical.test(pos[1])?pos[1]:"center",horizontalOffset=roffset.exec(pos[0]),verticalOffset=roffset.exec(pos[1]),offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0],options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]]}),1===collision.length&&(collision[1]=collision[0]),"right"===options.at[0]?basePosition.left+=targetWidth:"center"===options.at[0]&&(basePosition.left+=targetWidth/2),"bottom"===options.at[1]?basePosition.top+=targetHeight:"center"===options.at[1]&&(basePosition.top+=targetHeight/2),atOffset=getOffsets(offsets.at,targetWidth,targetHeight),basePosition.left+=atOffset[0],basePosition.top+=atOffset[1],this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());"right"===options.my[0]?position.left-=elemWidth:"center"===options.my[0]&&(position.left-=elemWidth/2),"bottom"===options.my[1]?position.top-=elemHeight:"center"===options.my[1]&&(position.top-=elemHeight/2),position.left+=myOffset[0],position.top+=myOffset[1],collisionPosition={marginLeft:marginLeft,marginTop:marginTop},$.each(["left","top"],function(i,dir){$.ui.position[collision[i]]&&$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem})}),options.using&&(using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?"left":0<left?"right":"center",vertical:bottom<0?"top":0<top?"bottom":"middle"};targetWidth<elemWidth&&abs(left+right)<targetWidth&&(feedback.horizontal="center"),targetHeight<elemHeight&&abs(top+bottom)<targetHeight&&(feedback.vertical="middle"),max(abs(left),abs(right))>max(abs(top),abs(bottom))?feedback.important="horizontal":feedback.important="vertical",options.using.call(this,props,feedback)}),elem.offset($.extend(position,{using:using}))})):_position.apply(this,arguments)},$.ui.position={fit:{left:function(position,data){var newOverRight,within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,within=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-within-withinOffset;data.collisionWidth>within?0<overLeft&&overRight<=0?(newOverRight=position.left+overLeft+data.collisionWidth-within-withinOffset,position.left+=overLeft-newOverRight):position.left=!(0<overRight&&overLeft<=0)&&overRight<overLeft?withinOffset+within-data.collisionWidth:withinOffset:0<overLeft?position.left+=overLeft:0<overRight?position.left-=overRight:position.left=max(position.left-collisionPosLeft,position.left)},top:function(position,data){var newOverBottom,within=data.within,within=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=within-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-within;data.collisionHeight>outerHeight?0<overTop&&overBottom<=0?(newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-within,position.top+=overTop-newOverBottom):position.top=!(0<overBottom&&overTop<=0)&&overBottom<overTop?within+outerHeight-data.collisionHeight:within:0<overTop?position.top+=overTop:0<overBottom?position.top-=overBottom:position.top=max(position.top-collisionPosTop,position.top)}},flip:{left:function(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,within=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-within,collisionPosLeft=collisionPosLeft+data.collisionWidth-outerWidth-within,myOffset="left"===data.my[0]?-data.elemWidth:"right"===data.my[0]?data.elemWidth:0,atOffset="left"===data.at[0]?data.targetWidth:"right"===data.at[0]?-data.targetWidth:0,offset=-2*data.offset[0];overLeft<0?((outerWidth=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset)<0||outerWidth<abs(overLeft))&&(position.left+=myOffset+atOffset+offset):0<collisionPosLeft&&(0<(withinOffset=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-within)||abs(withinOffset)<collisionPosLeft)&&(position.left+=myOffset+atOffset+offset)},top:function(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,within=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-within,collisionPosTop=collisionPosTop+data.collisionHeight-outerHeight-within,myOffset="top"===data.my[1]?-data.elemHeight:"bottom"===data.my[1]?data.elemHeight:0,atOffset="top"===data.at[1]?data.targetHeight:"bottom"===data.at[1]?-data.targetHeight:0,offset=-2*data.offset[1];overTop<0?((outerHeight=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset)<0||outerHeight<abs(overTop))&&(position.top+=myOffset+atOffset+offset):0<collisionPosTop&&(0<(withinOffset=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-within)||abs(withinOffset)<collisionPosTop)&&(position.top+=myOffset+atOffset+offset)}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments),$.ui.position.fit.left.apply(this,arguments)},top:function(){$.ui.position.flip.top.apply(this,arguments),$.ui.position.fit.top.apply(this,arguments)}}};$.ui.position,$.extend($.expr.pseudos,{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName)}}):function(elem,i,match){return!!$.data(elem,match[3])}}),$.fn.extend({disableSelection:(eventType="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(eventType+".ui-disableSelection",function(event){event.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var eventType,jQuery=$,class2type={},toString=class2type.toString,rplusequals=/^([\-+])=\s*(\d+\.?\d*)/,stringParsers=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[2.55*execResult[1],2.55*execResult[2],2.55*execResult[3],execResult[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16),execResult[4]?(parseInt(execResult[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16),execResult[4]?(parseInt(execResult[4]+execResult[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(execResult){return[execResult[1],execResult[2]/100,execResult[3]/100,execResult[4]]}}],color=jQuery.Color=function(color,green,blue,alpha){return new jQuery.Color.fn.parse(color,green,blue,alpha)},spaces={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},propTypes={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},support=color.support={},supportElem=jQuery("<p>")[0],each=jQuery.each;function getType(obj){return null==obj?obj+"":"object"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj}function clamp(value,prop,allowEmpty){var type=propTypes[prop.type]||{};return null==value?allowEmpty||!prop.def?null:prop.def:(value=type.floor?~~value:parseFloat(value),isNaN(value)?prop.def:type.mod?(value+type.mod)%type.mod:Math.min(type.max,Math.max(0,value)))}function stringParse(string){var inst=color(),rgba=inst._rgba=[];return string=string.toLowerCase(),each(stringParsers,function(_i,parser){var match=parser.re.exec(string),match=match&&parser.parse(match),parser=parser.space||"rgba";if(match)return match=inst[parser](match),inst[spaces[parser].cache]=match[spaces[parser].cache],rgba=inst._rgba=match._rgba,!1}),rgba.length?("0,0,0,0"===rgba.join()&&jQuery.extend(rgba,colors.transparent),inst):colors[string]}function hue2rgb(p,q,h){return 6*(h=(h+1)%1)<1?p+(q-p)*h*6:2*h<1?q:3*h<2?p+(q-p)*(2/3-h)*6:p}supportElem.style.cssText="background-color:rgba(1,1,1,.5)",support.rgba=-1<supportElem.style.backgroundColor.indexOf("rgba"),each(spaces,function(spaceName,space){space.cache="_"+spaceName,space.props.alpha={idx:3,type:"percent",def:1}}),jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(_i,name){class2type["[object "+name+"]"]=name.toLowerCase()}),(color.fn=jQuery.extend(color.prototype,{parse:function(red,green,blue,alpha){if(void 0===red)return this._rgba=[null,null,null,null],this;(red.jquery||red.nodeType)&&(red=jQuery(red).css(green),green=void 0);var inst=this,type=getType(red),rgba=this._rgba=[];return void 0!==green&&(red=[red,green,blue,alpha],type="array"),"string"===type?this.parse(stringParse(red)||colors._default):"array"===type?(each(spaces.rgba.props,function(_key,prop){rgba[prop.idx]=clamp(red[prop.idx],prop)}),this):"object"===type?(red instanceof color?each(spaces,function(_spaceName,space){red[space.cache]&&(inst[space.cache]=red[space.cache].slice())}):each(spaces,function(_spaceName,space){var cache=space.cache;each(space.props,function(key,prop){if(!inst[cache]&&space.to){if("alpha"===key||null==red[key])return;inst[cache]=space.to(inst._rgba)}inst[cache][prop.idx]=clamp(red[key],prop,!0)}),inst[cache]&&jQuery.inArray(null,inst[cache].slice(0,3))<0&&(null==inst[cache][3]&&(inst[cache][3]=1),space.from)&&(inst._rgba=space.from(inst[cache]))}),this):void 0},is:function(compare){var is=color(compare),same=!0,inst=this;return each(spaces,function(_,space){var localCache,isCache=is[space.cache];return isCache&&(localCache=inst[space.cache]||space.to&&space.to(inst._rgba)||[],each(space.props,function(_,prop){if(null!=isCache[prop.idx])return same=isCache[prop.idx]===localCache[prop.idx]})),same}),same},_space:function(){var used=[],inst=this;return each(spaces,function(spaceName,space){inst[space.cache]&&used.push(spaceName)}),used.pop()},transition:function(other,distance){var other=(end=color(other))._space(),space=spaces[other],startColor=0===this.alpha()?color("transparent"):this,start=startColor[space.cache]||space.to(startColor._rgba),result=start.slice(),end=end[space.cache];return each(space.props,function(_key,prop){var index=prop.idx,startValue=start[index],endValue=end[index],type=propTypes[prop.type]||{};null!==endValue&&(null===startValue?result[index]=endValue:(type.mod&&(endValue-startValue>type.mod/2?startValue+=type.mod:startValue-endValue>type.mod/2&&(startValue-=type.mod)),result[index]=clamp((endValue-startValue)*distance+startValue,prop)))}),this[other](result)},blend:function(opaque){var rgb,a,blend;return 1===this._rgba[3]?this:(rgb=this._rgba.slice(),a=rgb.pop(),blend=color(opaque)._rgba,color(jQuery.map(rgb,function(v,i){return(1-a)*blend[i]+a*v})))},toRgbaString:function(){var prefix="rgba(",rgba=jQuery.map(this._rgba,function(v,i){return null!=v?v:2<i?1:0});return 1===rgba[3]&&(rgba.pop(),prefix="rgb("),prefix+rgba.join()+")"},toHslaString:function(){var prefix="hsla(",hsla=jQuery.map(this.hsla(),function(v,i){return null==v&&(v=2<i?1:0),v=i&&i<3?Math.round(100*v)+"%":v});return 1===hsla[3]&&(hsla.pop(),prefix="hsl("),prefix+hsla.join()+")"},toHexString:function(includeAlpha){var rgba=this._rgba.slice(),alpha=rgba.pop();return includeAlpha&&rgba.push(~~(255*alpha)),"#"+jQuery.map(rgba,function(v){return 1===(v=(v||0).toString(16)).length?"0"+v:v}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}})).parse.prototype=color.fn,spaces.hsla.to=function(rgba){var r,g,b,diff,add,l,min,max;return null==rgba[0]||null==rgba[1]||null==rgba[2]?[null,null,null,rgba[3]]:(r=rgba[0]/255,g=rgba[1]/255,b=rgba[2]/255,rgba=rgba[3],diff=(max=Math.max(r,g,b))-(min=Math.min(r,g,b)),l=.5*(add=max+min),min=min===max?0:r===max?60*(g-b)/diff+360:g===max?60*(b-r)/diff+120:60*(r-g)/diff+240,max=0==diff?0:l<=.5?diff/add:diff/(2-add),[Math.round(min)%360,max,l,null==rgba?1:rgba])},spaces.hsla.from=function(hsla){var h,l,s;return null==hsla[0]||null==hsla[1]||null==hsla[2]?[null,null,null,hsla[3]]:(h=hsla[0]/360,s=hsla[1],l=hsla[2],hsla=hsla[3],s=2*l-(l=l<=.5?l*(1+s):l+s-l*s),[Math.round(255*hue2rgb(s,l,h+1/3)),Math.round(255*hue2rgb(s,l,h)),Math.round(255*hue2rgb(s,l,h-1/3)),hsla])},each(spaces,function(spaceName,space){var props=space.props,cache=space.cache,to=space.to,from=space.from;color.fn[spaceName]=function(value){var type,arr,local;return to&&!this[cache]&&(this[cache]=to(this._rgba)),void 0===value?this[cache].slice():(type=getType(value),arr="array"===type||"object"===type?value:arguments,local=this[cache].slice(),each(props,function(key,prop){key=arr["object"===type?key:prop.idx];null==key&&(key=local[prop.idx]),local[prop.idx]=clamp(key,prop)}),from?((value=color(from(local)))[cache]=local,value):color(local))},each(props,function(key,prop){color.fn[key]||(color.fn[key]=function(value){var vtype=getType(value),fn="alpha"===key?this._hsla?"hsla":"rgba":spaceName,local=this[fn](),cur=local[prop.idx];return"undefined"===vtype?cur:("function"===vtype&&(vtype=getType(value=value.call(this,cur))),null==value&&prop.empty?this:("string"===vtype&&(vtype=rplusequals.exec(value))&&(value=cur+parseFloat(vtype[2])*("+"===vtype[1]?1:-1)),local[prop.idx]=value,this[fn](local)))})})}),(color.hook=function(hook){hook=hook.split(" ");each(hook,function(_i,hook){jQuery.cssHooks[hook]={set:function(elem,value){var parsed,curElem,backgroundColor="";if("transparent"!==value&&("string"!==getType(value)||(parsed=stringParse(value)))){if(value=color(parsed||value),!support.rgba&&1!==value._rgba[3]){for(curElem="backgroundColor"===hook?elem.parentNode:elem;(""===backgroundColor||"transparent"===backgroundColor)&&curElem&&curElem.style;)try{backgroundColor=jQuery.css(curElem,"backgroundColor"),curElem=curElem.parentNode}catch(e){}value=value.blend(backgroundColor&&"transparent"!==backgroundColor?backgroundColor:"_default")}value=value.toRgbaString()}try{elem.style[hook]=value}catch(e){}}},jQuery.fx.step[hook]=function(fx){fx.colorInit||(fx.start=color(fx.elem,hook),fx.end=color(fx.end),fx.colorInit=!0),jQuery.cssHooks[hook].set(fx.elem,fx.start.transition(fx.end,fx.pos))}})})("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),jQuery.cssHooks.borderColor={expand:function(value){var expanded={};return each(["Top","Right","Bottom","Left"],function(_i,part){expanded["border"+part+"Color"]=value}),expanded}};var baseEasings,colors=jQuery.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"},supportElem=($.effects={effect:{}},!function(){var orig,classAnimationActions=["add","remove","toggle"],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function getElementStyles(elem){var key,len,style=elem.ownerDocument.defaultView?elem.ownerDocument.defaultView.getComputedStyle(elem,null):elem.currentStyle,styles={};if(style&&style.length&&style[0]&&style[style[0]])for(len=style.length;len--;)"string"==typeof style[key=style[len]]&&(styles[key.replace(/-([\da-z])/gi,function(all,letter){return letter.toUpperCase()})]=style[key]);else for(key in style)"string"==typeof style[key]&&(styles[key]=style[key]);return styles}$.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(_,prop){$.fx.step[prop]=function(fx){("none"!==fx.end&&!fx.setAttr||1===fx.pos&&!fx.setAttr)&&(jQuery.style(fx.elem,prop,fx.end),fx.setAttr=!0)}}),$.fn.addBack||($.fn.addBack=function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}),$.effects.animateClass=function(value,duration,easing,callback){var o=$.speed(duration,easing,callback);return this.queue(function(){var animated=$(this),baseClass=animated.attr("class")||"",allAnimations=(allAnimations=o.children?animated.find("*").addBack():animated).map(function(){return{el:$(this),start:getElementStyles(this)}}),applyClassChange=function(){$.each(classAnimationActions,function(i,action){value[action]&&animated[action+"Class"](value[action])})};applyClassChange(),allAnimations=allAnimations.map(function(){return this.end=getElementStyles(this.el[0]),this.diff=function(oldStyle,newStyle){var name,value,diff={};for(name in newStyle)value=newStyle[name],oldStyle[name]===value||shorthandStyles[name]||!$.fx.step[name]&&isNaN(parseFloat(value))||(diff[name]=value);return diff}(this.start,this.end),this}),animated.attr("class",baseClass),allAnimations=allAnimations.map(function(){var styleInfo=this,dfd=$.Deferred(),opts=$.extend({},o,{queue:!1,complete:function(){dfd.resolve(styleInfo)}});return this.el.animate(this.diff,opts),dfd.promise()}),$.when.apply($,allAnimations.get()).done(function(){applyClassChange(),$.each(arguments,function(){var el=this.el;$.each(this.diff,function(key){el.css(key,"")})}),o.complete.call(animated[0])})})},$.fn.extend({addClass:(orig=$.fn.addClass,function(classNames,speed,easing,callback){return speed?$.effects.animateClass.call(this,{add:classNames},speed,easing,callback):orig.apply(this,arguments)}),removeClass:function(orig){return function(classNames,speed,easing,callback){return 1<arguments.length?$.effects.animateClass.call(this,{remove:classNames},speed,easing,callback):orig.apply(this,arguments)}}($.fn.removeClass),toggleClass:function(orig){return function(classNames,force,speed,easing,callback){return"boolean"==typeof force||void 0===force?speed?$.effects.animateClass.call(this,force?{add:classNames}:{remove:classNames},speed,easing,callback):orig.apply(this,arguments):$.effects.animateClass.call(this,{toggle:classNames},force,speed,easing)}}($.fn.toggleClass),switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.call(this,{add:add,remove:remove},speed,easing,callback)}})}(),!function(){var orig;function _normalizeArguments(effect,options,speed,callback){return effect={effect:effect=$.isPlainObject(effect)?(options=effect).effect:effect},"function"==typeof(options=null==options?{}:options)&&(callback=options,speed=null,options={}),"number"!=typeof options&&!$.fx.speeds[options]||(callback=speed,speed=options,options={}),"function"==typeof speed&&(callback=speed,speed=null),options&&$.extend(effect,options),speed=speed||options.duration,effect.duration=$.fx.off?0:"number"==typeof speed?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default,effect.complete=callback||options.complete,effect}function standardAnimationOption(option){return!option||"number"==typeof option||$.fx.speeds[option]||"string"==typeof option&&!$.effects.effect[option]||"function"==typeof option||"object"==typeof option&&!option.effect}function parseClip(str,element){var outerWidth=element.outerWidth(),element=element.outerHeight(),str=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(str)||["",0,outerWidth,element,0];return{top:parseFloat(str[1])||0,right:"auto"===str[2]?outerWidth:parseFloat(str[2]),bottom:"auto"===str[3]?element:parseFloat(str[3]),left:parseFloat(str[4])||0}}$.expr&&$.expr.pseudos&&$.expr.pseudos.animated&&($.expr.pseudos.animated=(orig=$.expr.pseudos.animated,function(elem){return!!$(elem).data("ui-effects-animated")||orig(elem)})),!1!==$.uiBackCompat&&$.extend($.effects,{save:function(element,set){for(var i=0,length=set.length;i<length;i++)null!==set[i]&&element.data("ui-effects-"+set[i],element[0].style[set[i]])},restore:function(element,set){for(var val,i=0,length=set.length;i<length;i++)null!==set[i]&&(val=element.data("ui-effects-"+set[i]),element.css(set[i],val))},setMode:function(el,mode){return mode="toggle"===mode?el.is(":hidden")?"show":"hide":mode},createWrapper:function(element){if(element.parent().is(".ui-effects-wrapper"))return element.parent();var props={width:element.outerWidth(!0),height:element.outerHeight(!0),float:element.css("float")},wrapper=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),size={width:element.width(),height:element.height()},active=document.activeElement;try{active.id}catch(e){active=document.body}return element.wrap(wrapper),element[0]!==active&&!$.contains(element[0],active)||$(active).trigger("focus"),wrapper=element.parent(),"static"===element.css("position")?(wrapper.css({position:"relative"}),element.css({position:"relative"})):($.extend(props,{position:element.css("position"),zIndex:element.css("z-index")}),$.each(["top","left","bottom","right"],function(i,pos){props[pos]=element.css(pos),isNaN(parseInt(props[pos],10))&&(props[pos]="auto")}),element.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),element.css(size),wrapper.css(props).show()},removeWrapper:function(element){var active=document.activeElement;return element.parent().is(".ui-effects-wrapper")&&(element.parent().replaceWith(element),element[0]!==active&&!$.contains(element[0],active)||$(active).trigger("focus")),element}}),$.extend($.effects,{version:"1.13.2",define:function(name,mode,effect){return effect||(effect=mode,mode="effect"),$.effects.effect[name]=effect,$.effects.effect[name].mode=mode,effect},scaledDimensions:function(element,percent,direction){var x;return 0===percent?{height:0,width:0,outerHeight:0,outerWidth:0}:(x="horizontal"!==direction?(percent||100)/100:1,direction="vertical"!==direction?(percent||100)/100:1,{height:element.height()*direction,width:element.width()*x,outerHeight:element.outerHeight()*direction,outerWidth:element.outerWidth()*x})},clipToBox:function(animation){return{width:animation.clip.right-animation.clip.left,height:animation.clip.bottom-animation.clip.top,left:animation.clip.left,top:animation.clip.top}},unshift:function(element,queueLength,count){var queue=element.queue();1<queueLength&&queue.splice.apply(queue,[1,0].concat(queue.splice(queueLength,count))),element.dequeue()},saveStyle:function(element){element.data("ui-effects-style",element[0].style.cssText)},restoreStyle:function(element){element[0].style.cssText=element.data("ui-effects-style")||"",element.removeData("ui-effects-style")},mode:function(element,mode){element=element.is(":hidden");return"toggle"===mode&&(mode=element?"show":"hide"),mode=(element?"hide"===mode:"show"===mode)?"none":mode},getBaseline:function(origin,original){var y,x;switch(origin[0]){case"top":y=0;break;case"middle":y=.5;break;case"bottom":y=1;break;default:y=origin[0]/original.height}switch(origin[1]){case"left":x=0;break;case"center":x=.5;break;case"right":x=1;break;default:x=origin[1]/original.width}return{x:x,y:y}},createPlaceholder:function(element){var placeholder,cssPosition=element.css("position"),position=element.position();return element.css({marginTop:element.css("marginTop"),marginBottom:element.css("marginBottom"),marginLeft:element.css("marginLeft"),marginRight:element.css("marginRight")}).outerWidth(element.outerWidth()).outerHeight(element.outerHeight()),/^(static|relative)/.test(cssPosition)&&(cssPosition="absolute",placeholder=$("<"+element[0].nodeName+">").insertAfter(element).css({display:/^(inline|ruby)/.test(element.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:element.css("marginTop"),marginBottom:element.css("marginBottom"),marginLeft:element.css("marginLeft"),marginRight:element.css("marginRight"),float:element.css("float")}).outerWidth(element.outerWidth()).outerHeight(element.outerHeight()).addClass("ui-effects-placeholder"),element.data("ui-effects-placeholder",placeholder)),element.css({position:cssPosition,left:position.left,top:position.top}),placeholder},removePlaceholder:function(element){var dataKey="ui-effects-placeholder",placeholder=element.data(dataKey);placeholder&&(placeholder.remove(),element.removeData(dataKey))},cleanUp:function(element){$.effects.restoreStyle(element),$.effects.removePlaceholder(element)},setTransition:function(element,list,factor,value){return value=value||{},$.each(list,function(i,x){var unit=element.cssUnit(x);0<unit[0]&&(value[x]=unit[0]*factor+unit[1])}),value}}),$.fn.extend({effect:function(){function prefilter(next){var el=$(this),normalizedMode=$.effects.mode(el,mode)||defaultMode;el.data("ui-effects-animated",!0),modes.push(normalizedMode),defaultMode&&("show"===normalizedMode||normalizedMode===defaultMode&&"hide"===normalizedMode)&&el.show(),defaultMode&&"none"===normalizedMode||$.effects.saveStyle(el),"function"==typeof next&&next()}var args=_normalizeArguments.apply(this,arguments),effectMethod=$.effects.effect[args.effect],defaultMode=effectMethod.mode,queue=args.queue,queueName=queue||"fx",complete=args.complete,mode=args.mode,modes=[];return $.fx.off||!effectMethod?mode?this[mode](args.duration,complete):this.each(function(){complete&&complete.call(this)}):!1===queue?this.each(prefilter).each(run):this.queue(queueName,prefilter).queue(queueName,run);function run(next){var elem=$(this);function done(){"function"==typeof complete&&complete.call(elem[0]),"function"==typeof next&&next()}args.mode=modes.shift(),!1===$.uiBackCompat||defaultMode?"none"===args.mode?(elem[mode](),done()):effectMethod.call(elem[0],args,function(){elem.removeData("ui-effects-animated"),$.effects.cleanUp(elem),"hide"===args.mode&&elem.hide(),done()}):(elem.is(":hidden")?"hide"===mode:"show"===mode)?(elem[mode](),done()):effectMethod.call(elem[0],args,done)}},show:function(orig){return function(option){return standardAnimationOption(option)?orig.apply(this,arguments):((option=_normalizeArguments.apply(this,arguments)).mode="show",this.effect.call(this,option))}}($.fn.show),hide:function(orig){return function(option){return standardAnimationOption(option)?orig.apply(this,arguments):((option=_normalizeArguments.apply(this,arguments)).mode="hide",this.effect.call(this,option))}}($.fn.hide),toggle:function(orig){return function(option){return standardAnimationOption(option)||"boolean"==typeof option?orig.apply(this,arguments):((option=_normalizeArguments.apply(this,arguments)).mode="toggle",this.effect.call(this,option))}}($.fn.toggle),cssUnit:function(key){var style=this.css(key),val=[];return $.each(["em","px","%","pt"],function(i,unit){0<style.indexOf(unit)&&(val=[parseFloat(style),unit])}),val},cssClip:function(clipObj){return clipObj?this.css("clip","rect("+clipObj.top+"px "+clipObj.right+"px "+clipObj.bottom+"px "+clipObj.left+"px)"):parseClip(this.css("clip"),this)},transfer:function(options,done){var element=$(this),target=$(options.to),targetFixed="fixed"===target.css("position"),body=$("body"),fixTop=targetFixed?body.scrollTop():0,body=targetFixed?body.scrollLeft():0,endPosition=target.offset(),endPosition={top:endPosition.top-fixTop,left:endPosition.left-body,height:target.innerHeight(),width:target.innerWidth()},target=element.offset(),transfer=$("<div class='ui-effects-transfer'></div>");transfer.appendTo("body").addClass(options.className).css({top:target.top-fixTop,left:target.left-body,height:element.innerHeight(),width:element.innerWidth(),position:targetFixed?"fixed":"absolute"}).animate(endPosition,options.duration,options.easing,function(){transfer.remove(),"function"==typeof done&&done()})}}),$.fx.step.clip=function(fx){fx.clipInit||(fx.start=$(fx.elem).cssClip(),"string"==typeof fx.end&&(fx.end=parseClip(fx.end,fx.elem)),fx.clipInit=!0),$(fx.elem).cssClip({top:fx.pos*(fx.end.top-fx.start.top)+fx.start.top,right:fx.pos*(fx.end.right-fx.start.right)+fx.start.right,bottom:fx.pos*(fx.end.bottom-fx.start.bottom)+fx.start.bottom,left:fx.pos*(fx.end.left-fx.start.left)+fx.start.left})}}(),baseEasings={},$.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,name){baseEasings[name]=function(p){return Math.pow(p,i+2)}}),$.extend(baseEasings,{Sine:function(p){return 1-Math.cos(p*Math.PI/2)},Circ:function(p){return 1-Math.sqrt(1-p*p)},Elastic:function(p){return 0===p||1===p?p:-Math.pow(2,8*(p-1))*Math.sin((80*(p-1)-7.5)*Math.PI/15)},Back:function(p){return p*p*(3*p-2)},Bounce:function(p){for(var pow2,bounce=4;p<((pow2=Math.pow(2,--bounce))-1)/11;);return 1/Math.pow(4,3-bounce)-7.5625*Math.pow((3*pow2-2)/22-p,2)}}),$.each(baseEasings,function(name,easeIn){$.easing["easeIn"+name]=easeIn,$.easing["easeOut"+name]=function(p){return 1-easeIn(1-p)},$.easing["easeInOut"+name]=function(p){return p<.5?easeIn(2*p)/2:1-easeIn(-2*p+2)/2}}),$.effects);$.effects.define("blind","hide",function(options,done){var map={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},element=$(this),direction=options.direction||"up",start=element.cssClip(),animate={clip:$.extend({},start)},placeholder=$.effects.createPlaceholder(element);animate.clip[map[direction][0]]=animate.clip[map[direction][1]],"show"===options.mode&&(element.cssClip(animate.clip),placeholder&&placeholder.css($.effects.clipToBox(animate)),animate.clip=start),placeholder&&placeholder.animate($.effects.clipToBox(animate),options.duration,options.easing),element.animate(animate,{queue:!1,duration:options.duration,easing:options.easing,complete:done})}),$.effects.define("bounce",function(options,done){var upAnim,downAnim,element=$(this),mode=options.mode,hide="hide"===mode,mode="show"===mode,direction=options.direction||"up",distance=options.distance,times=options.times||5,anims=2*times+(mode||hide?1:0),speed=options.duration/anims,easing=options.easing,ref="up"===direction||"down"===direction?"top":"left",motion="up"===direction||"left"===direction,i=0,options=element.queue().length;for($.effects.createPlaceholder(element),direction=element.css(ref),distance=distance||element["top"==ref?"outerHeight":"outerWidth"]()/3,mode&&((downAnim={opacity:1})[ref]=direction,element.css("opacity",0).css(ref,motion?2*-distance:2*distance).animate(downAnim,speed,easing)),hide&&(distance/=Math.pow(2,times-1)),(downAnim={})[ref]=direction;i<times;i++)(upAnim={})[ref]=(motion?"-=":"+=")+distance,element.animate(upAnim,speed,easing).animate(downAnim,speed,easing),distance=hide?2*distance:distance/2;hide&&((upAnim={opacity:0})[ref]=(motion?"-=":"+=")+distance,element.animate(upAnim,speed,easing)),element.queue(done),$.effects.unshift(element,options,1+anims)}),$.effects.define("clip","hide",function(options,done){var animate={},element=$(this),direction=options.direction||"vertical",both="both"===direction,horizontal=both||"horizontal"===direction,both=both||"vertical"===direction,direction=element.cssClip();animate.clip={top:both?(direction.bottom-direction.top)/2:direction.top,right:horizontal?(direction.right-direction.left)/2:direction.right,bottom:both?(direction.bottom-direction.top)/2:direction.bottom,left:horizontal?(direction.right-direction.left)/2:direction.left},$.effects.createPlaceholder(element),"show"===options.mode&&(element.cssClip(animate.clip),animate.clip=direction),element.animate(animate,{queue:!1,duration:options.duration,easing:options.easing,complete:done})}),$.effects.define("drop","hide",function(options,done){var distance,element=$(this),show="show"===options.mode,direction=options.direction||"left",ref="up"===direction||"down"===direction?"top":"left",direction="up"===direction||"left"===direction?"-=":"+=",oppositeMotion="+="==direction?"-=":"+=",animation={opacity:0};$.effects.createPlaceholder(element),distance=options.distance||element["top"==ref?"outerHeight":"outerWidth"](!0)/2,animation[ref]=direction+distance,show&&(element.css(animation),animation[ref]=oppositeMotion+distance,animation.opacity=1),element.animate(animation,{queue:!1,duration:options.duration,easing:options.easing,complete:done})}),$.effects.define("explode","hide",function(options,done){var i,j,left,top,mx,my,rows=options.pieces?Math.round(Math.sqrt(options.pieces)):3,cells=rows,element=$(this),show="show"===options.mode,offset=element.show().css("visibility","hidden").offset(),width=Math.ceil(element.outerWidth()/cells),height=Math.ceil(element.outerHeight()/rows),pieces=[];function childComplete(){pieces.push(this),pieces.length===rows*cells&&(element.css({visibility:"visible"}),$(pieces).remove(),done())}for(i=0;i<rows;i++)for(top=offset.top+i*height,my=i-(rows-1)/2,j=0;j<cells;j++)left=offset.left+j*width,mx=j-(cells-1)/2,element.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*width,top:-i*height}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:width,height:height,left:left+(show?mx*width:0),top:top+(show?my*height:0),opacity:show?0:1}).animate({left:left+(show?0:mx*width),top:top+(show?0:my*height),opacity:show?1:0},options.duration||500,options.easing,childComplete)}),$.effects.define("fade","toggle",function(options,done){var show="show"===options.mode;$(this).css("opacity",show?0:1).animate({opacity:show?1:0},{queue:!1,duration:options.duration,easing:options.easing,complete:done})}),$.effects.define("fold","hide",function(options,done){var element=$(this),mode=options.mode,show="show"===mode,mode="hide"===mode,size=options.size||15,percent=/([0-9]+)%/.exec(size),ref=!!options.horizFirst?["right","bottom"]:["bottom","right"],duration=options.duration/2,placeholder=$.effects.createPlaceholder(element),start=element.cssClip(),animation1={clip:$.extend({},start)},animation2={clip:$.extend({},start)},distance=[start[ref[0]],start[ref[1]]],queuelen=element.queue().length;percent&&(size=parseInt(percent[1],10)/100*distance[mode?0:1]),animation1.clip[ref[0]]=size,animation2.clip[ref[0]]=size,animation2.clip[ref[1]]=0,show&&(element.cssClip(animation2.clip),placeholder&&placeholder.css($.effects.clipToBox(animation2)),animation2.clip=start),element.queue(function(next){placeholder&&placeholder.animate($.effects.clipToBox(animation1),duration,options.easing).animate($.effects.clipToBox(animation2),duration,options.easing),next()}).animate(animation1,duration,options.easing).animate(animation2,duration,options.easing).queue(done),$.effects.unshift(element,queuelen,4)}),$.effects.define("highlight","show",function(options,done){var element=$(this),animation={backgroundColor:element.css("backgroundColor")};"hide"===options.mode&&(animation.opacity=0),$.effects.saveStyle(element),element.css({backgroundImage:"none",backgroundColor:options.color||"#ffff99"}).animate(animation,{queue:!1,duration:options.duration,easing:options.easing,complete:done})}),$.effects.define("size",function(options,done){var factor,element=$(this),cProps=["fontSize"],vProps=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],hProps=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],mode=options.mode,restore="effect"!==mode,scale=options.scale||"both",origin=options.origin||["middle","center"],position=element.css("position"),pos=element.position(),original=$.effects.scaledDimensions(element),from=options.from||original,to=options.to||$.effects.scaledDimensions(element,0);$.effects.createPlaceholder(element),"show"===mode&&(mode=from,from=to,to=mode),factor={from:{y:from.height/original.height,x:from.width/original.width},to:{y:to.height/original.height,x:to.width/original.width}},"box"!==scale&&"both"!==scale||(factor.from.y!==factor.to.y&&(from=$.effects.setTransition(element,vProps,factor.from.y,from),to=$.effects.setTransition(element,vProps,factor.to.y,to)),factor.from.x!==factor.to.x&&(from=$.effects.setTransition(element,hProps,factor.from.x,from),to=$.effects.setTransition(element,hProps,factor.to.x,to))),"content"!==scale&&"both"!==scale||factor.from.y!==factor.to.y&&(from=$.effects.setTransition(element,cProps,factor.from.y,from),to=$.effects.setTransition(element,cProps,factor.to.y,to)),origin&&(mode=$.effects.getBaseline(origin,original),from.top=(original.outerHeight-from.outerHeight)*mode.y+pos.top,from.left=(original.outerWidth-from.outerWidth)*mode.x+pos.left,to.top=(original.outerHeight-to.outerHeight)*mode.y+pos.top,to.left=(original.outerWidth-to.outerWidth)*mode.x+pos.left),delete from.outerHeight,delete from.outerWidth,element.css(from),"content"!==scale&&"both"!==scale||(vProps=vProps.concat(["marginTop","marginBottom"]).concat(cProps),hProps=hProps.concat(["marginLeft","marginRight"]),element.find("*[width]").each(function(){var child=$(this),childOriginal=$.effects.scaledDimensions(child),childFrom={height:childOriginal.height*factor.from.y,width:childOriginal.width*factor.from.x,outerHeight:childOriginal.outerHeight*factor.from.y,outerWidth:childOriginal.outerWidth*factor.from.x},childOriginal={height:childOriginal.height*factor.to.y,width:childOriginal.width*factor.to.x,outerHeight:childOriginal.height*factor.to.y,outerWidth:childOriginal.width*factor.to.x};factor.from.y!==factor.to.y&&(childFrom=$.effects.setTransition(child,vProps,factor.from.y,childFrom),childOriginal=$.effects.setTransition(child,vProps,factor.to.y,childOriginal)),factor.from.x!==factor.to.x&&(childFrom=$.effects.setTransition(child,hProps,factor.from.x,childFrom),childOriginal=$.effects.setTransition(child,hProps,factor.to.x,childOriginal)),restore&&$.effects.saveStyle(child),child.css(childFrom),child.animate(childOriginal,options.duration,options.easing,function(){restore&&$.effects.restoreStyle(child)})})),element.animate(to,{queue:!1,duration:options.duration,easing:options.easing,complete:function(){var offset=element.offset();0===to.opacity&&element.css("opacity",from.opacity),restore||(element.css("position","static"===position?"relative":position).offset(offset),$.effects.saveStyle(element)),done()}})}),$.effects.define("scale",function(options,done){var el=$(this),mode=options.mode,mode=parseInt(options.percent,10)||(0===parseInt(options.percent,10)||"effect"!==mode?0:100),el=$.extend(!0,{from:$.effects.scaledDimensions(el),to:$.effects.scaledDimensions(el,mode,options.direction||"both"),origin:options.origin||["middle","center"]},options);options.fade&&(el.from.opacity=1,el.to.opacity=0),$.effects.effect.size.call(this,el,done)}),$.effects.define("puff","hide",function(options,done){options=$.extend(!0,{},options,{fade:!0,percent:parseInt(options.percent,10)||150});$.effects.effect.scale.call(this,options,done)}),$.effects.define("pulsate","show",function(options,done){var element=$(this),mode=options.mode,show="show"===mode,anims=2*(options.times||5)+(show||"hide"===mode?1:0),duration=options.duration/anims,animateTo=0,i=1,mode=element.queue().length;for(!show&&element.is(":visible")||(element.css("opacity",0).show(),animateTo=1);i<anims;i++)element.animate({opacity:animateTo},duration,options.easing),animateTo=1-animateTo;element.animate({opacity:animateTo},duration,options.easing),element.queue(done),$.effects.unshift(element,mode,1+anims)}),$.effects.define("shake",function(options,done){var i=1,element=$(this),direction=options.direction||"left",distance=options.distance||20,times=options.times||3,anims=2*times+1,speed=Math.round(options.duration/anims),ref="up"===direction||"down"===direction?"top":"left",direction="up"===direction||"left"===direction,animation={},animation1={},animation2={},queuelen=element.queue().length;for($.effects.createPlaceholder(element),animation[ref]=(direction?"-=":"+=")+distance,animation1[ref]=(direction?"+=":"-=")+2*distance,animation2[ref]=(direction?"-=":"+=")+2*distance,element.animate(animation,speed,options.easing);i<times;i++)element.animate(animation1,speed,options.easing).animate(animation2,speed,options.easing);element.animate(animation1,speed,options.easing).animate(animation,speed/2,options.easing).queue(done),$.effects.unshift(element,queuelen,1+anims)}),$.effects.define("slide","show",function(options,done){var startClip,startRef,element=$(this),map={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},mode=options.mode,direction=options.direction||"left",ref="up"===direction||"down"===direction?"top":"left",positiveMotion="up"===direction||"left"===direction,distance=options.distance||element["top"==ref?"outerHeight":"outerWidth"](!0),animation={};$.effects.createPlaceholder(element),startClip=element.cssClip(),startRef=element.position()[ref],animation[ref]=(positiveMotion?-1:1)*distance+startRef,animation.clip=element.cssClip(),animation.clip[map[direction][1]]=animation.clip[map[direction][0]],"show"===mode&&(element.cssClip(animation.clip),element.css(ref,animation[ref]),animation.clip=startClip,animation[ref]=startRef),element.animate(animation,{queue:!1,duration:options.duration,easing:options.easing,complete:done})}),supportElem=!1!==$.uiBackCompat?$.effects.define("transfer",function(options,done){$(this).transfer(options,done)}):supportElem;$.ui.focusable=function(element,hasTabindex){var map,focusableIfVisible,mapName,nodeName=element.nodeName.toLowerCase();return"area"===nodeName?(mapName=(map=element.parentNode).name,!(!element.href||!mapName||"map"!==map.nodeName.toLowerCase())&&0<(map=$("img[usemap='#"+mapName+"']")).length&&map.is(":visible")):(/^(input|select|textarea|button|object)$/.test(nodeName)?(focusableIfVisible=!element.disabled)&&(mapName=$(element).closest("fieldset")[0])&&(focusableIfVisible=!mapName.disabled):focusableIfVisible="a"===nodeName&&element.href||hasTabindex,focusableIfVisible&&$(element).is(":visible")&&function(element){var visibility=element.css("visibility");for(;"inherit"===visibility;)element=element.parent(),visibility=element.css("visibility");return"visible"===visibility}($(element)))},$.extend($.expr.pseudos,{focusable:function(element){return $.ui.focusable(element,null!=$.attr(element,"tabindex"))}});$.ui.focusable,$.fn._form=function(){return"string"==typeof this[0].form?this.closest("form"):$(this[0].form)},$.ui.formResetMixin={_formResetHandler:function(){var form=$(this);setTimeout(function(){var instances=form.data("ui-form-reset-instances");$.each(instances,function(){this.refresh()})})},_bindFormResetHandler:function(){var instances;this.form=this.element._form(),this.form.length&&((instances=this.form.data("ui-form-reset-instances")||[]).length||this.form.on("reset.ui-form-reset",this._formResetHandler),instances.push(this),this.form.data("ui-form-reset-instances",instances))},_unbindFormResetHandler:function(){var instances;this.form.length&&((instances=this.form.data("ui-form-reset-instances")).splice($.inArray(this,instances),1),instances.length?this.form.data("ui-form-reset-instances",instances):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))}},$.expr.pseudos||($.expr.pseudos=$.expr[":"]),$.uniqueSort||($.uniqueSort=$.unique),$.escapeSelector||(rcssescape=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,fcssescape=function(ch,asCodePoint){return asCodePoint?"\0"===ch?"ï¿½":ch.slice(0,-1)+"\\"+ch.charCodeAt(ch.length-1).toString(16)+" ":"\\"+ch},$.escapeSelector=function(sel){return(sel+"").replace(rcssescape,fcssescape)}),$.fn.even&&$.fn.odd||$.fn.extend({even:function(){return this.filter(function(i){return i%2==0})},odd:function(){return this.filter(function(i){return i%2==1})}}),$.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},$.fn.labels=function(){var id,labels,ancestor;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(labels=this.eq(0).parents("label"),(id=this.attr("id"))&&(ancestor=(ancestor=this.eq(0).parents().last()).add((ancestor.length?ancestor:this).siblings()),id="label[for='"+$.escapeSelector(id)+"']",labels=labels.add(ancestor.find(id).addBack(id))),this.pushStack(labels)):this.pushStack([])},$.fn.scrollParent=function(includeHidden){var position=this.css("position"),excludeStaticParent="absolute"===position,overflowRegex=includeHidden?/(auto|scroll|hidden)/:/(auto|scroll)/,includeHidden=this.parents().filter(function(){var parent=$(this);return(!excludeStaticParent||"static"!==parent.css("position"))&&overflowRegex.test(parent.css("overflow")+parent.css("overflow-y")+parent.css("overflow-x"))}).eq(0);return"fixed"!==position&&includeHidden.length?includeHidden:$(this[0].ownerDocument||document)},$.extend($.expr.pseudos,{tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),hasTabindex=null!=tabIndex;return(!hasTabindex||0<=tabIndex)&&$.ui.focusable(element,hasTabindex)}}),$.fn.extend({uniqueId:(uuid=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++uuid)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&$(this).removeAttr("id")})}}),$.widget("ui.accordion",{version:"1.13.2",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(elem){return elem.find("> li > :first-child").add(elem.find("> :not(li)").even())},heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var options=this.options;this.prevShow=this.prevHide=$(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),options.collapsible||!1!==options.active&&null!=options.active||(options.active=0),this._processPanels(),options.active<0&&(options.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():$()}},_createIcons:function(){var icon,icons=this.options.icons;icons&&(icon=$("<span>"),this._addClass(icon,"ui-accordion-header-icon","ui-icon "+icons.header),icon.prependTo(this.headers),icon=this.active.children(".ui-accordion-header-icon"),this._removeClass(icon,icons.header)._addClass(icon,null,icons.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var contents;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),contents=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&contents.css("height","")},_setOption:function(key,value){"active"===key?this._activate(value):("event"===key&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(value)),this._super(key,value),"collapsible"!==key||value||!1!==this.options.active||this._activate(0),"icons"===key&&(this._destroyIcons(),value)&&this._createIcons())},_setOptionDisabled:function(value){this._super(value),this.element.attr("aria-disabled",value),this._toggleClass(null,"ui-state-disabled",!!value),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!value)},_keydown:function(event){if(!event.altKey&&!event.ctrlKey){var keyCode=$.ui.keyCode,length=this.headers.length,currentIndex=this.headers.index(event.target),toFocus=!1;switch(event.keyCode){case keyCode.RIGHT:case keyCode.DOWN:toFocus=this.headers[(currentIndex+1)%length];break;case keyCode.LEFT:case keyCode.UP:toFocus=this.headers[(currentIndex-1+length)%length];break;case keyCode.SPACE:case keyCode.ENTER:this._eventHandler(event);break;case keyCode.HOME:toFocus=this.headers[0];break;case keyCode.END:toFocus=this.headers[length-1]}toFocus&&($(event.target).attr("tabIndex",-1),$(toFocus).attr("tabIndex",0),$(toFocus).trigger("focus"),event.preventDefault())}},_panelKeyDown:function(event){event.keyCode===$.ui.keyCode.UP&&event.ctrlKey&&$(event.currentTarget).prev().trigger("focus")},refresh:function(){var options=this.options;this._processPanels(),!1===options.active&&!0===options.collapsible||!this.headers.length?(options.active=!1,this.active=$()):!1===options.active?this._activate(0):this.active.length&&!$.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(options.active=!1,this.active=$()):this._activate(Math.max(0,options.active-1)):options.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var prevHeaders=this.headers,prevPanels=this.panels;"function"==typeof this.options.header?this.headers=this.options.header(this.element):this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),prevPanels&&(this._off(prevHeaders.not(this.headers)),this._off(prevPanels.not(this.panels)))},_refresh:function(){var maxHeight,options=this.options,heightStyle=options.heightStyle,parent=this.element.parent();this.active=this._findActive(options.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var header=$(this),headerId=header.uniqueId().attr("id"),panel=header.next(),panelId=panel.uniqueId().attr("id");header.attr("aria-controls",panelId),panel.attr("aria-labelledby",headerId)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(options.event),"fill"===heightStyle?(maxHeight=parent.height(),this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");"absolute"!==position&&"fixed"!==position&&(maxHeight-=elem.outerHeight(!0))}),this.headers.each(function(){maxHeight-=$(this).outerHeight(!0)}),this.headers.next().each(function(){$(this).height(Math.max(0,maxHeight-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")):"auto"===heightStyle&&(maxHeight=0,this.headers.next().each(function(){var isVisible=$(this).is(":visible");isVisible||$(this).show(),maxHeight=Math.max(maxHeight,$(this).css("height","").height()),isVisible||$(this).hide()}).height(maxHeight))},_activate:function(index){index=this._findActive(index)[0];index!==this.active[0]&&(index=index||this.active[0],this._eventHandler({target:index,currentTarget:index,preventDefault:$.noop}))},_findActive:function(selector){return"number"==typeof selector?this.headers.eq(selector):$()},_setupEvents:function(event){var events={keydown:"_keydown"};event&&$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,events),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(event){var options=this.options,active=this.active,clicked=$(event.currentTarget),clickedIsActive=clicked[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():clicked.next(),toHide=active.next(),toHide={oldHeader:active,oldPanel:toHide,newHeader:collapsing?$():clicked,newPanel:toShow};event.preventDefault(),clickedIsActive&&!options.collapsible||!1===this._trigger("beforeActivate",event,toHide)||(options.active=!collapsing&&this.headers.index(clicked),this.active=clickedIsActive?$():clicked,this._toggle(toHide),this._removeClass(active,"ui-accordion-header-active","ui-state-active"),options.icons&&(toShow=active.children(".ui-accordion-header-icon"),this._removeClass(toShow,null,options.icons.activeHeader)._addClass(toShow,null,options.icons.header)),clickedIsActive)||(this._removeClass(clicked,"ui-accordion-header-collapsed")._addClass(clicked,"ui-accordion-header-active","ui-state-active"),options.icons&&(event=clicked.children(".ui-accordion-header-icon"),this._removeClass(event,null,options.icons.header)._addClass(event,null,options.icons.activeHeader)),this._addClass(clicked.next(),"ui-accordion-content-active"))},_toggle:function(data){var toShow=data.newPanel,toHide=this.prevShow.length?this.prevShow:data.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=toShow,this.prevHide=toHide,this.options.animate?this._animate(toShow,toHide,data):(toHide.hide(),toShow.show(),this._toggleComplete(data)),toHide.attr({"aria-hidden":"true"}),toHide.prev().attr({"aria-selected":"false","aria-expanded":"false"}),toShow.length&&toHide.length?toHide.prev().attr({tabIndex:-1,"aria-expanded":"false"}):toShow.length&&this.headers.filter(function(){return 0===parseInt($(this).attr("tabIndex"),10)}).attr("tabIndex",-1),toShow.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(toShow,toHide,data){function complete(){that._toggleComplete(data)}var total,that=this,adjust=0,boxSizing=toShow.css("box-sizing"),down=toShow.length&&(!toHide.length||toShow.index()<toHide.index()),animate=this.options.animate||{},down=down&&animate.down||animate,easing=(easing="string"==typeof down?down:easing)||down.easing||animate.easing,duration=(duration="number"==typeof down?down:duration)||down.duration||animate.duration;return toHide.length?toShow.length?(total=toShow.show().outerHeight(),toHide.animate(this.hideProps,{duration:duration,easing:easing,step:function(now,fx){fx.now=Math.round(now)}}),void toShow.hide().animate(this.showProps,{duration:duration,easing:easing,complete:complete,step:function(now,fx){fx.now=Math.round(now),"height"!==fx.prop?"content-box"===boxSizing&&(adjust+=fx.now):"content"!==that.options.heightStyle&&(fx.now=Math.round(total-toHide.outerHeight()-adjust),adjust=0)}})):toHide.animate(this.hideProps,duration,easing,complete):toShow.animate(this.showProps,duration,easing,complete)},_toggleComplete:function(data){var toHide=data.oldPanel,prev=toHide.prev();this._removeClass(toHide,"ui-accordion-content-active"),this._removeClass(prev,"ui-accordion-header-active")._addClass(prev,"ui-accordion-header-collapsed"),toHide.length&&(toHide.parent()[0].className=toHide.parent()[0].className),this._trigger("activate",null,data)}}),$.ui.safeActiveElement=function(document){var activeElement;try{activeElement=document.activeElement}catch(error){activeElement=document.body}return activeElement=(activeElement=activeElement||document.body).nodeName?activeElement:document.body},$.widget("ui.menu",{version:"1.13.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(event){event.preventDefault(),this._activateItem(event)},"click .ui-menu-item":function(event){var target=$(event.target),active=$($.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&target.not(".ui-state-disabled").length&&(this.select(event),event.isPropagationStopped()||(this.mouseHandled=!0),target.has(".ui-menu").length?this.expand(event):!this.element.is(":focus")&&active.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active)&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(event,keepActiveItem){var item=this.active||this._menuItems().first();keepActiveItem||this.focus(event,item)},blur:function(event){this._delay(function(){$.contains(this.element[0],$.ui.safeActiveElement(this.document[0]))||this.collapseAll(event)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(event){this._closeOnDocumentClick(event)&&this.collapseAll(event,!0),this.mouseHandled=!1}})},_activateItem:function(event){var actualTarget,target;this.previousFilter||event.clientX===this.lastMousePosition.x&&event.clientY===this.lastMousePosition.y||(this.lastMousePosition={x:event.clientX,y:event.clientY},actualTarget=$(event.target).closest(".ui-menu-item"),target=$(event.currentTarget),actualTarget[0]!==target[0])||target.is(".ui-state-active")||(this._removeClass(target.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(event,target))},_destroy:function(){var submenus=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),submenus.children().each(function(){var elem=$(this);elem.data("ui-menu-submenu-caret")&&elem.remove()})},_keydown:function(event){var prev,character,skip,preventDefault=!0;switch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move("first","first",event);break;case $.ui.keyCode.END:this._move("last","last",event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(event);break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:prev=this.previousFilter||"",skip=preventDefault=!1,character=96<=event.keyCode&&event.keyCode<=105?(event.keyCode-96).toString():String.fromCharCode(event.keyCode),clearTimeout(this.filterTimer),character===prev?skip=!0:character=prev+character,prev=this._filterMenuItems(character),(prev=skip&&-1!==prev.index(this.active.next())?this.active.nextAll(".ui-menu-item"):prev).length||(character=String.fromCharCode(event.keyCode),prev=this._filterMenuItems(character)),prev.length?(this.focus(event,prev),this.previousFilter=character,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}preventDefault&&event.preventDefault()},_activate:function(event){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(event):this.select(event))},refresh:function(){var newSubmenus,newWrappers,that=this,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),newSubmenus=submenus.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var menu=$(this),item=menu.prev(),submenuCaret=$("<span>").data("ui-menu-submenu-caret",!0);that._addClass(submenuCaret,"ui-menu-icon","ui-icon "+icon),item.attr("aria-haspopup","true").prepend(submenuCaret),menu.attr("aria-labelledby",item.attr("id"))}),this._addClass(newSubmenus,"ui-menu","ui-widget ui-widget-content ui-front"),(newSubmenus=submenus.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var item=$(this);that._isDivider(item)&&that._addClass(item,"ui-menu-divider","ui-widget-content")}),newWrappers=(submenus=newSubmenus.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(submenus,"ui-menu-item")._addClass(newWrappers,"ui-menu-item-wrapper"),newSubmenus.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!$.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(key,value){var icons;"icons"===key&&(icons=this.element.find(".ui-menu-icon"),this._removeClass(icons,null,this.options.icons.submenu)._addClass(icons,null,value.submenu)),this._super(key,value)},_setOptionDisabled:function(value){this._super(value),this.element.attr("aria-disabled",String(value)),this._toggleClass(null,"ui-state-disabled",!!value)},focus:function(event,item){var focused;this.blur(event,event&&"focus"===event.type),this._scrollIntoView(item),this.active=item.first(),focused=this.active.children(".ui-menu-item-wrapper"),this._addClass(focused,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",focused.attr("id")),focused=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(focused,null,"ui-state-active"),event&&"keydown"===event.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(focused=item.children(".ui-menu")).length&&event&&/^mouse/.test(event.type)&&this._startOpening(focused),this.activeMenu=item.parent(),this._trigger("focus",event,{item:item})},_scrollIntoView:function(item){var borderTop,paddingTop,elementHeight;this._hasScroll()&&(borderTop=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0,paddingTop=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0,borderTop=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop,paddingTop=this.activeMenu.scrollTop(),elementHeight=this.activeMenu.height(),item=item.outerHeight(),borderTop<0?this.activeMenu.scrollTop(paddingTop+borderTop):elementHeight<borderTop+item&&this.activeMenu.scrollTop(paddingTop+borderTop-elementHeight+item))},blur:function(event,fromFocus){fromFocus||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",event,{item:this.active}),this.active=null)},_startOpening:function(submenu){clearTimeout(this.timer),"true"===submenu.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(submenu)},this.delay))},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden","true"),submenu.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(position)},collapseAll:function(event,all){clearTimeout(this.timer),this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find(".ui-menu"));currentMenu.length||(currentMenu=this.element),this._close(currentMenu),this.blur(event),this._removeClass(currentMenu.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=currentMenu},all?0:this.delay)},_close:function(startMenu){(startMenu=startMenu||(this.active?this.active.parent():this.element)).find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(event){return!$(event.target).closest(".ui-menu").length},_isDivider:function(item){return!/[^\-\u2014\u2013\s]/.test(item.text())},collapse:function(event){var newItem=this.active&&this.active.parent().closest(".ui-menu-item",this.element);newItem&&newItem.length&&(this._close(),this.focus(event,newItem))},expand:function(event){var newItem=this.active&&this._menuItems(this.active.children(".ui-menu")).first();newItem&&newItem.length&&(this._open(newItem.parent()),this._delay(function(){this.focus(event,newItem)}))},next:function(event){this._move("next","first",event)},previous:function(event){this._move("prev","last",event)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(menu){return(menu||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(direction,filter,event){var next;(next=this.active?"first"===direction||"last"===direction?this.active["first"===direction?"prevAll":"nextAll"](".ui-menu-item").last():this.active[direction+"All"](".ui-menu-item").first():next)&&next.length&&this.active||(next=this._menuItems(this.activeMenu)[filter]()),this.focus(event,next)},nextPage:function(event){var item,base,height;this.active?this.isLastItem()||(this._hasScroll()?(base=this.active.offset().top,height=this.element.innerHeight(),0===$.fn.jquery.indexOf("3.2.")&&(height+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return(item=$(this)).offset().top-base-height<0}),this.focus(event,item)):this.focus(event,this._menuItems(this.activeMenu)[this.active?"last":"first"]())):this.next(event)},previousPage:function(event){var item,base,height;this.active?this.isFirstItem()||(this._hasScroll()?(base=this.active.offset().top,height=this.element.innerHeight(),0===$.fn.jquery.indexOf("3.2.")&&(height+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return 0<(item=$(this)).offset().top-base+height}),this.focus(event,item)):this.focus(event,this._menuItems(this.activeMenu).first())):this.next(event)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(event){this.active=this.active||$(event.target).closest(".ui-menu-item");var ui={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(event,!0),this._trigger("select",event,ui)},_filterMenuItems:function(character){var character=character.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),regex=new RegExp("^"+character,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return regex.test(String.prototype.trim.call($(this).children(".ui-menu-item-wrapper").text()))})}}),$.widget("ui.autocomplete",{version:"1.13.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var suppressKeyPress,suppressKeyPressRepeat,suppressInput,nodeName=this.element[0].nodeName.toLowerCase(),isTextarea="textarea"===nodeName,nodeName="input"===nodeName;this.isMultiLine=isTextarea||!nodeName&&this._isContentEditable(this.element),this.valueMethod=this.element[isTextarea||nodeName?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(event){if(this.element.prop("readOnly"))suppressKeyPressRepeat=suppressInput=suppressKeyPress=!0;else{suppressKeyPressRepeat=suppressInput=suppressKeyPress=!1;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:suppressKeyPress=!0,this._move("previousPage",event);break;case keyCode.PAGE_DOWN:suppressKeyPress=!0,this._move("nextPage",event);break;case keyCode.UP:suppressKeyPress=!0,this._keyEvent("previous",event);break;case keyCode.DOWN:suppressKeyPress=!0,this._keyEvent("next",event);break;case keyCode.ENTER:this.menu.active&&(suppressKeyPress=!0,event.preventDefault(),this.menu.select(event));break;case keyCode.TAB:this.menu.active&&this.menu.select(event);break;case keyCode.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(event),event.preventDefault());break;default:suppressKeyPressRepeat=!0,this._searchTimeout(event)}}},keypress:function(event){if(suppressKeyPress)suppressKeyPress=!1,this.isMultiLine&&!this.menu.element.is(":visible")||event.preventDefault();else if(!suppressKeyPressRepeat){var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:this._move("previousPage",event);break;case keyCode.PAGE_DOWN:this._move("nextPage",event);break;case keyCode.UP:this._keyEvent("previous",event);break;case keyCode.DOWN:this._keyEvent("next",event)}}},input:function(event){suppressInput?(suppressInput=!1,event.preventDefault()):this._searchTimeout(event)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(event){clearTimeout(this.searching),this.close(event),this._change(event)}}),this._initSource(),this.menu=$("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(event){event.preventDefault()},menufocus:function(event,ui){var label,item;this.isNewMenu&&(this.isNewMenu=!1,event.originalEvent)&&/^mouse/.test(event.originalEvent.type)?(this.menu.blur(),this.document.one("mousemove",function(){$(event.target).trigger(event.originalEvent)})):(item=ui.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",event,{item:item})&&event.originalEvent&&/^key/.test(event.originalEvent.type)&&this._value(item.value),(label=ui.item.attr("aria-label")||item.value)&&String.prototype.trim.call(label).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html($("<div>").text(label))},100)))},menuselect:function(event,ui){var item=ui.item.data("ui-autocomplete-item"),previous=this.previous;this.element[0]!==$.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=previous,this._delay(function(){this.previous=previous,this.selectedItem=item})),!1!==this._trigger("select",event,{item:item})&&this._value(item.value),this.term=this._value(),this.close(event),this.selectedItem=item}}),this.liveRegion=$("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(key,value){this._super(key,value),"source"===key&&this._initSource(),"appendTo"===key&&this.menu.element.appendTo(this._appendTo()),"disabled"===key&&value&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(event){var menuElement=this.menu.element[0];return event.target===this.element[0]||event.target===menuElement||$.contains(menuElement,event.target)},_closeOnClickOutside:function(event){this._isEventTargetInWidget(event)||this.close()},_appendTo:function(){var element=this.options.appendTo;return element=(element=(element=element&&(element.jquery||element.nodeType?$(element):this.document.find(element).eq(0)))&&element[0]?element:this.element.closest(".ui-front, dialog")).length?element:this.document[0].body},_initSource:function(){var array,url,that=this;Array.isArray(this.options.source)?(array=this.options.source,this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term))}):"string"==typeof this.options.source?(url=this.options.source,this.source=function(request,response){that.xhr&&that.xhr.abort(),that.xhr=$.ajax({url:url,data:request,dataType:"json",success:function(data){response(data)},error:function(){response([])}})}):this.source=this.options.source},_searchTimeout:function(event){clearTimeout(this.searching),this.searching=this._delay(function(){var equalValues=this.term===this._value(),menuVisible=this.menu.element.is(":visible"),modifierKey=event.altKey||event.ctrlKey||event.metaKey||event.shiftKey;equalValues&&(menuVisible||modifierKey)||(this.selectedItem=null,this.search(null,event))},this.options.delay)},search:function(value,event){return value=null!=value?value:this._value(),this.term=this._value(),value.length<this.options.minLength?this.close(event):!1!==this._trigger("search",event)?this._search(value):void 0},_search:function(value){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:value},this._response())},_response:function(){var index=++this.requestIndex;return function(content){index===this.requestIndex&&this.__response(content),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(content){content=content&&this._normalize(content),this._trigger("response",null,{content:content}),!this.options.disabled&&content&&content.length&&!this.cancelSearch?(this._suggest(content),this._trigger("open")):this._close()},close:function(event){this.cancelSearch=!0,this._close(event)},_close:function(event){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",event))},_change:function(event){this.previous!==this._value()&&this._trigger("change",event,{item:this.selectedItem})},_normalize:function(items){return items.length&&items[0].label&&items[0].value?items:$.map(items,function(item){return"string"==typeof item?{label:item,value:item}:$.extend({},item,{label:item.label||item.value,value:item.value||item.label})})},_suggest:function(items){var ul=this.menu.element.empty();this._renderMenu(ul,items),this.isNewMenu=!0,this.menu.refresh(),ul.show(),this._resizeMenu(),ul.position($.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var ul=this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(ul,items){var that=this;$.each(items,function(index,item){that._renderItemData(ul,item)})},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-autocomplete-item",item)},_renderItem:function(ul,item){return $("<li>").append($("<div>").text(item.label)).appendTo(ul)},_move:function(direction,event){this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(direction)||this.menu.isLastItem()&&/^next/.test(direction)?(this.isMultiLine||this._value(this.term),this.menu.blur()):this.menu[direction](event):this.search(null,event)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(keyEvent,event){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(keyEvent,event),event.preventDefault())},_isContentEditable:function(element){var editable;return!!element.length&&("inherit"===(editable=element.prop("contentEditable"))?this._isContentEditable(element.parent()):"true"===editable)}}),$.extend($.ui.autocomplete,{escapeRegex:function(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test(value.label||value.value||value)})}}),$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(amount){return amount+(1<amount?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(content){var message;this._superApply(arguments),this.options.disabled||this.cancelSearch||(message=content&&content.length?this.options.messages.results(content.length):this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html($("<div>").text(message))},100))}}),$.ui.autocomplete;var rcssescape,fcssescape,uuid,datepicker_instActive,controlgroupCornerRegex=/ui-corner-([a-z]){2,6}/g;$.widget("ui.controlgroup",{version:"1.13.2",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var that=this,childWidgets=[];$.each(this.options.items,function(widget,selector){var labels,options={};selector&&("controlgroupLabel"===widget?((labels=that.element.find(selector)).each(function(){var element=$(this);element.children(".ui-controlgroup-label-contents").length||element.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),that._addClass(labels,null,"ui-widget ui-widget-content ui-state-default"),childWidgets=childWidgets.concat(labels.get())):$.fn[widget]&&(options=that["_"+widget+"Options"]?that["_"+widget+"Options"]("middle"):{classes:{}},that.element.find(selector).each(function(){var element=$(this),instance=element[widget]("instance"),instanceOptions=$.widget.extend({},options);"button"===widget&&element.parent(".ui-spinner").length||((instance=instance||element[widget]()[widget]("instance"))&&(instanceOptions.classes=that._resolveClassesValues(instanceOptions.classes,instance)),element[widget](instanceOptions),instanceOptions=element[widget]("widget"),$.data(instanceOptions[0],"ui-controlgroup-data",instance||element[widget]("instance")),childWidgets.push(instanceOptions[0]))})))}),this.childWidgets=$($.uniqueSort(childWidgets)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(method){this.childWidgets.each(function(){var data=$(this).data("ui-controlgroup-data");data&&data[method]&&data[method]()})},_updateCornerClass:function(element,position){position=this._buildSimpleOptions(position,"label").classes.label;this._removeClass(element,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(element,null,position)},_buildSimpleOptions:function(position,key){var direction="vertical"===this.options.direction,result={classes:{}};return result.classes[key]={middle:"",first:"ui-corner-"+(direction?"top":"left"),last:"ui-corner-"+(direction?"bottom":"right"),only:"ui-corner-all"}[position],result},_spinnerOptions:function(position){position=this._buildSimpleOptions(position,"ui-spinner");return position.classes["ui-spinner-up"]="",position.classes["ui-spinner-down"]="",position},_buttonOptions:function(position){return this._buildSimpleOptions(position,"ui-button")},_checkboxradioOptions:function(position){return this._buildSimpleOptions(position,"ui-checkboxradio-label")},_selectmenuOptions:function(position){var direction="vertical"===this.options.direction;return{width:direction&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(direction?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(direction?"top":"left")},last:{"ui-selectmenu-button-open":direction?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(direction?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[position]}},_resolveClassesValues:function(classes,instance){var result={};return $.each(classes,function(key){var current=instance.options.classes[key]||"",current=String.prototype.trim.call(current.replace(controlgroupCornerRegex,""));result[key]=(current+" "+classes[key]).replace(/\s+/g," ")}),result},_setOption:function(key,value){"direction"===key&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(key,value),"disabled"===key?this._callChildMethod(value?"disable":"enable"):this.refresh()},refresh:function(){var children,that=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),children=this.childWidgets,(children=this.options.onlyVisible?children.filter(":visible"):children).length&&($.each(["first","last"],function(index,value){var options,instance=children[value]().data("ui-controlgroup-data");instance&&that["_"+instance.widgetName+"Options"]?((options=that["_"+instance.widgetName+"Options"](1===children.length?"only":value)).classes=that._resolveClassesValues(options.classes,instance),instance.element[instance.widgetName](options)):that._updateCornerClass(children[value](),value)}),this._callChildMethod("refresh"))}}),$.widget("ui.checkboxradio",[$.ui.formResetMixin,{version:"1.13.2",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var labels,options=this._super()||{};return this._readType(),labels=this.element.labels(),this.label=$(labels[labels.length-1]),this.label.length||$.error("No label found for checkboxradio widget"),this.originalLabel="",(labels=this.label.contents().not(this.element[0])).length&&(this.originalLabel+=labels.clone().wrapAll("<div></div>").parent().html()),this.originalLabel&&(options.label=this.originalLabel),null!=(labels=this.element[0].disabled)&&(options.disabled=labels),options},_create:function(){var checked=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),checked&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var nodeName=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===nodeName&&/radio|checkbox/.test(this.type)||$.error("Can't create checkboxradio on element.nodeName="+nodeName+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var name=this.element[0].name,nameSelector="input[name='"+$.escapeSelector(name)+"']";return name?(this.form.length?$(this.form[0].elements).filter(nameSelector):$(nameSelector).filter(function(){return 0===$(this)._form().length})).not(this.element):$([])},_toggleClasses:function(){var checked=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",checked),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",checked)._toggleClass(this.icon,null,"ui-icon-blank",!checked),"radio"===this.type&&this._getRadioGroup().each(function(){var instance=$(this).checkboxradio("instance");instance&&instance._removeClass(instance.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(key,value){"label"===key&&!value||(this._super(key,value),"disabled"===key?(this._toggleClass(this.label,null,"ui-state-disabled",value),this.element[0].disabled=value):this.refresh())},_updateIcon:function(checked){var toAdd="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=$("<span>"),this.iconSpace=$("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(toAdd+=checked?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,checked?"ui-icon-blank":"ui-icon-check")):toAdd+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",toAdd),checked||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var contents=this.label.contents().not(this.element[0]);this.icon&&(contents=contents.not(this.icon[0])),(contents=this.iconSpace?contents.not(this.iconSpace[0]):contents).remove(),this.label.append(this.options.label)},refresh:function(){var checked=this.element[0].checked,isDisabled=this.element[0].disabled;this._updateIcon(checked),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",checked),null!==this.options.label&&this._updateLabel(),isDisabled!==this.options.disabled&&this._setOptions({disabled:isDisabled})}}]),$.ui.checkboxradio,$.widget("ui.button",{version:"1.13.2",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var disabled,options=this._super()||{};return this.isInput=this.element.is("input"),null!=(disabled=this.element[0].disabled)&&(options.disabled=disabled),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(options.label=this.originalLabel),options},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(event){event.keyCode===$.ui.keyCode.SPACE&&(event.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(option,value){var option="iconPosition"!==option,position=option?this.options.iconPosition:value,displayBlock="top"===position||"bottom"===position;this.icon?option&&this._removeClass(this.icon,null,this.options.icon):(this.icon=$("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),option&&this._addClass(this.icon,null,value),this._attachIcon(position),displayBlock?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=$("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(position))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(iconPosition){this.icon[/^(?:end|bottom)/.test(iconPosition)?"before":"after"](this.iconSpace)},_attachIcon:function(iconPosition){this.element[/^(?:end|bottom)/.test(iconPosition)?"append":"prepend"](this.icon)},_setOptions:function(options){var newShowLabel=(void 0===options.showLabel?this.options:options).showLabel,newIcon=(void 0===options.icon?this.options:options).icon;newShowLabel||newIcon||(options.showLabel=!0),this._super(options)},_setOption:function(key,value){"icon"===key&&(value?this._updateIcon(key,value):this.icon&&(this.icon.remove(),this.iconSpace)&&this.iconSpace.remove()),"iconPosition"===key&&this._updateIcon(key,value),"showLabel"===key&&(this._toggleClass("ui-button-icon-only",null,!value),this._updateTooltip()),"label"===key&&(this.isInput?this.element.val(value):(this.element.html(value),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(key,value),"disabled"===key&&(this._toggleClass(null,"ui-state-disabled",value),this.element[0].disabled=value)&&this.element.trigger("blur")},refresh:function(){var isDisabled=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");isDisabled!==this.options.disabled&&this._setOptions({disabled:isDisabled}),this._updateTooltip()}}),!1!==$.uiBackCompat&&($.widget("ui.button",$.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(key,value){"text"===key?this._super("showLabel",value):("showLabel"===key&&(this.options.text=value),"icon"===key&&(this.options.icons.primary=value),"icons"===key&&(value.primary?(this._super("icon",value.primary),this._super("iconPosition","beginning")):value.secondary&&(this._super("icon",value.secondary),this._super("iconPosition","end"))),this._superApply(arguments))}}),$.fn.button=function(orig){return function(options){var isMethodCall="string"==typeof options,args=Array.prototype.slice.call(arguments,1),returnValue=this;return isMethodCall?this.length||"instance"!==options?this.each(function(){var methodValue,type=$(this).attr("type"),type=$.data(this,"ui-"+("checkbox"!==type&&"radio"!==type?"button":"checkboxradio"));return"instance"===options?(returnValue=type,!1):type?"function"!=typeof type[options]||"_"===options.charAt(0)?$.error("no such method '"+options+"' for button widget instance"):(methodValue=type[options].apply(type,args))!==type&&void 0!==methodValue?(returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue,!1):void 0:$.error("cannot call methods on button prior to initialization; attempted to call method '"+options+"'")}):returnValue=void 0:(args.length&&(options=$.widget.extend.apply(null,[options].concat(args))),this.each(function(){var type=$(this).attr("type"),type="checkbox"!==type&&"radio"!==type?"button":"checkboxradio",instance=$.data(this,"ui-"+type);instance?(instance.option(options||{}),instance._init&&instance._init()):"button"==type?orig.call($(this),options):$(this).checkboxradio($.extend({icon:!1},options))})),returnValue}}($.fn.button),$.fn.buttonset=function(){return $.ui.controlgroup||$.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),$.ui.button;function Datepicker(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.regional.en=$.extend(!0,{},this.regional[""]),this.regional["en-US"]=$.extend(!0,{},this.regional.en),this.dpDiv=datepicker_bindHover($("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function datepicker_bindHover(dpDiv){var selector="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return dpDiv.on("mouseout",selector,function(){$(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",selector,datepicker_handleMouseover)}function datepicker_handleMouseover(){$.datepicker._isDisabledDatepicker((datepicker_instActive.inline?datepicker_instActive.dpDiv.parent():datepicker_instActive.input)[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))}function datepicker_extendRemove(target,props){for(var name in $.extend(target,props),props)null==props[name]&&(target[name]=props[name])}$.extend($.ui,{datepicker:{version:"1.13.2"}}),$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(settings){return datepicker_extendRemove(this._defaults,settings||{}),this},_attachDatepicker:function(target,settings){var inst,nodeName=target.nodeName.toLowerCase(),inline="div"===nodeName||"span"===nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid),(inst=this._newInst($(target),inline)).settings=$.extend({},settings||{}),"input"===nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(target,inline){return{id:target[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:inline?datepicker_bindHover($("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]),inst.trigger=$([]),input.hasClass(this.markerClassName)||(this._attachments(input,inst),input.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(inst),$.data(target,"datepicker",inst),inst.settings.disabled&&this._disableDatepicker(target))},_attachments:function(input,inst){var buttonImage,appendText=this._get(inst,"appendText"),isRTL=this._get(inst,"isRTL");inst.append&&inst.append.remove(),appendText&&(inst.append=$("<span>").addClass(this._appendClass).text(appendText),input[isRTL?"before":"after"](inst.append)),input.off("focus",this._showDatepicker),inst.trigger&&inst.trigger.remove(),"focus"!==(appendText=this._get(inst,"showOn"))&&"both"!==appendText||input.on("focus",this._showDatepicker),"button"!==appendText&&"both"!==appendText||(appendText=this._get(inst,"buttonText"),buttonImage=this._get(inst,"buttonImage"),this._get(inst,"buttonImageOnly")?inst.trigger=$("<img>").addClass(this._triggerClass).attr({src:buttonImage,alt:appendText,title:appendText}):(inst.trigger=$("<button type='button'>").addClass(this._triggerClass),buttonImage?inst.trigger.html($("<img>").attr({src:buttonImage,alt:appendText,title:appendText})):inst.trigger.text(appendText)),input[isRTL?"before":"after"](inst.trigger),inst.trigger.on("click",function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput===input[0]?$.datepicker._hideDatepicker():($.datepicker._datepickerShowing&&$.datepicker._lastInput!==input[0]&&$.datepicker._hideDatepicker(),$.datepicker._showDatepicker(input[0])),!1}))},_autoSize:function(inst){var findMax,max,maxI,i,date,dateFormat;this._get(inst,"autoSize")&&!inst.inline&&(date=new Date(2009,11,20),(dateFormat=this._get(inst,"dateFormat")).match(/[DM]/)&&(date.setMonth((findMax=function(names){for(i=maxI=max=0;i<names.length;i++)names[i].length>max&&(max=names[i].length,maxI=i);return maxI})(this._get(inst,dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))),date.setDate(findMax(this._get(inst,dateFormat.match(/DD/)?"dayNames":"dayNamesShort"))+20-date.getDay())),inst.input.attr("size",this._formatDate(inst,date).length))},_inlineDatepicker:function(target,inst){var divSpan=$(target);divSpan.hasClass(this.markerClassName)||(divSpan.addClass(this.markerClassName).append(inst.dpDiv),$.data(target,"datepicker",inst),this._setDate(inst,this._getDefaultDate(inst),!0),this._updateDatepicker(inst),this._updateAlternate(inst),inst.settings.disabled&&this._disableDatepicker(target),inst.dpDiv.css("display","block"))},_dialogDatepicker:function(input,date,onSelect,settings,pos){var id,inst=this._dialogInst;return inst||(this.uuid+=1,id="dp"+this.uuid,this._dialogInput=$("<input type='text' id='"+id+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),$("body").append(this._dialogInput),(inst=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},$.data(this._dialogInput[0],"datepicker",inst)),datepicker_extendRemove(inst.settings,settings||{}),date=date&&date.constructor===Date?this._formatDate(inst,date):date,this._dialogInput.val(date),this._pos=pos?pos.length?pos:[pos.pageX,pos.pageY]:null,this._pos||(id=document.documentElement.clientWidth,settings=document.documentElement.clientHeight,date=document.documentElement.scrollLeft||document.body.scrollLeft,pos=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[id/2-100+date,settings/2-150+pos]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),inst.settings.onSelect=onSelect,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],"datepicker",inst),this},_destroyDatepicker:function(target){var nodeName,$target=$(target),inst=$.data(target,"datepicker");$target.hasClass(this.markerClassName)&&(nodeName=target.nodeName.toLowerCase(),$.removeData(target,"datepicker"),"input"===nodeName?(inst.append.remove(),inst.trigger.remove(),$target.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==nodeName&&"span"!==nodeName||$target.removeClass(this.markerClassName).empty(),datepicker_instActive===inst)&&(datepicker_instActive=null,this._curInst=null)},_enableDatepicker:function(target){var nodeName,$target=$(target),inst=$.data(target,"datepicker");$target.hasClass(this.markerClassName)&&("input"===(nodeName=target.nodeName.toLowerCase())?(target.disabled=!1,inst.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==nodeName&&"span"!==nodeName||((inst=$target.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),inst.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=$.map(this._disabledInputs,function(value){return value===target?null:value}))},_disableDatepicker:function(target){var nodeName,$target=$(target),inst=$.data(target,"datepicker");$target.hasClass(this.markerClassName)&&("input"===(nodeName=target.nodeName.toLowerCase())?(target.disabled=!0,inst.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==nodeName&&"span"!==nodeName||((inst=$target.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),inst.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=$.map(this._disabledInputs,function(value){return value===target?null:value}),this._disabledInputs[this._disabledInputs.length]=target)},_isDisabledDatepicker:function(target){if(target)for(var i=0;i<this._disabledInputs.length;i++)if(this._disabledInputs[i]===target)return!0;return!1},_getInst:function(target){try{return $.data(target,"datepicker")}catch(err){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(target,name,value){var settings,maxDate,inst=this._getInst(target);if(2===arguments.length&&"string"==typeof name)return"defaults"===name?$.extend({},$.datepicker._defaults):inst?"all"===name?$.extend({},inst.settings):this._get(inst,name):null;settings=name||{},"string"==typeof name&&((settings={})[name]=value),inst&&(this._curInst===inst&&this._hideDatepicker(),name=this._getDateDatepicker(target,!0),value=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),datepicker_extendRemove(inst.settings,settings),null!==value&&void 0!==settings.dateFormat&&void 0===settings.minDate&&(inst.settings.minDate=this._formatDate(inst,value)),null!==maxDate&&void 0!==settings.dateFormat&&void 0===settings.maxDate&&(inst.settings.maxDate=this._formatDate(inst,maxDate)),"disabled"in settings&&(settings.disabled?this._disableDatepicker(target):this._enableDatepicker(target)),this._attachments($(target),inst),this._autoSize(inst),this._setDate(inst,name),this._updateAlternate(inst),this._updateDatepicker(inst))},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value)},_refreshDatepicker:function(target){target=this._getInst(target);target&&this._updateDatepicker(target)},_setDateDatepicker:function(target,date){target=this._getInst(target);target&&(this._setDate(target,date),this._updateDatepicker(target),this._updateAlternate(target))},_getDateDatepicker:function(target,noDefault){target=this._getInst(target);return target&&!target.inline&&this._setDateFromField(target,noDefault),target?this._getDate(target):null},_doKeyDown:function(event){var dateStr,sel,inst=$.datepicker._getInst(event.target),handled=!0,isRTL=inst.dpDiv.is(".ui-datepicker-rtl");if(inst._keyEvent=!0,$.datepicker._datepickerShowing)switch(event.keyCode){case 9:$.datepicker._hideDatepicker(),handled=!1;break;case 13:return(sel=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",inst.dpDiv))[0]&&$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0]),(sel=$.datepicker._get(inst,"onSelect"))?(dateStr=$.datepicker._formatDate(inst),sel.apply(inst.input?inst.input[0]:null,[dateStr,inst])):$.datepicker._hideDatepicker(),!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(event.target,event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths"),"M");break;case 35:(event.ctrlKey||event.metaKey)&&$.datepicker._clearDate(event.target),handled=event.ctrlKey||event.metaKey;break;case 36:(event.ctrlKey||event.metaKey)&&$.datepicker._gotoToday(event.target),handled=event.ctrlKey||event.metaKey;break;case 37:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,isRTL?1:-1,"D"),handled=event.ctrlKey||event.metaKey,event.originalEvent.altKey&&$.datepicker._adjustDate(event.target,event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths"),"M");break;case 38:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,-7,"D"),handled=event.ctrlKey||event.metaKey;break;case 39:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,isRTL?-1:1,"D"),handled=event.ctrlKey||event.metaKey,event.originalEvent.altKey&&$.datepicker._adjustDate(event.target,event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths"),"M");break;case 40:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,7,"D"),handled=event.ctrlKey||event.metaKey;break;default:handled=!1}else 36===event.keyCode&&event.ctrlKey?$.datepicker._showDatepicker(this):handled=!1;handled&&(event.preventDefault(),event.stopPropagation())},_doKeyPress:function(event){var chr,inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput"))return inst=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat")),chr=String.fromCharCode(null==event.charCode?event.keyCode:event.charCode),event.ctrlKey||event.metaKey||chr<" "||!inst||-1<inst.indexOf(chr)},_doKeyUp:function(event){event=$.datepicker._getInst(event.target);if(event.input.val()!==event.lastVal)try{$.datepicker.parseDate($.datepicker._get(event,"dateFormat"),event.input?event.input.val():null,$.datepicker._getFormatConfig(event))&&($.datepicker._setDateFromField(event),$.datepicker._updateAlternate(event),$.datepicker._updateDatepicker(event))}catch(err){}return!0},_showDatepicker:function(input){var isFixed,beforeShow,duration,inst;"input"!==(input=input.target||input).nodeName.toLowerCase()&&(input=$("input",input.parentNode)[0]),$.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput===input||(inst=$.datepicker._getInst(input),$.datepicker._curInst&&$.datepicker._curInst!==inst&&($.datepicker._curInst.dpDiv.stop(!0,!0),inst)&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]),!1===(beforeShow=(beforeShow=$.datepicker._get(inst,"beforeShow"))?beforeShow.apply(input,[input,inst]):{}))||(datepicker_extendRemove(inst.settings,beforeShow),inst.lastVal=null,$.datepicker._lastInput=input,$.datepicker._setDateFromField(inst),$.datepicker._inDialog&&(input.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(input),$.datepicker._pos[1]+=input.offsetHeight),isFixed=!1,$(input).parents().each(function(){return!(isFixed|="fixed"===$(this).css("position"))}),beforeShow={left:$.datepicker._pos[0],top:$.datepicker._pos[1]},$.datepicker._pos=null,inst.dpDiv.empty(),inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(inst),beforeShow=$.datepicker._checkOffset(inst,beforeShow,isFixed),inst.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":isFixed?"fixed":"absolute",display:"none",left:beforeShow.left+"px",top:beforeShow.top+"px"}),inst.inline)||(beforeShow=$.datepicker._get(inst,"showAnim"),duration=$.datepicker._get(inst,"duration"),inst.dpDiv.css("z-index",function(elem){for(var position;elem.length&&elem[0]!==document;){if(("absolute"===(position=elem.css("position"))||"relative"===position||"fixed"===position)&&(position=parseInt(elem.css("zIndex"),10),!isNaN(position))&&0!==position)return position;elem=elem.parent()}return 0}($(input))+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects.effect[beforeShow]?inst.dpDiv.show(beforeShow,$.datepicker._get(inst,"showOptions"),duration):inst.dpDiv[beforeShow||"show"](beforeShow?duration:null),$.datepicker._shouldFocusInput(inst)&&inst.input.trigger("focus"),$.datepicker._curInst=inst)},_updateDatepicker:function(inst){this.maxRows=4,(datepicker_instActive=inst).dpDiv.empty().append(this._generateHTML(inst)),this._attachHandlers(inst);var origyearshtml,numMonths=this._getNumberOfMonths(inst),cols=numMonths[1],activeCell=inst.dpDiv.find("."+this._dayOverClass+" a"),onUpdateDatepicker=$.datepicker._get(inst,"onUpdateDatepicker");0<activeCell.length&&datepicker_handleMouseover.apply(activeCell.get(0)),inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<cols&&inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",17*cols+"em"),inst.dpDiv[(1!==numMonths[0]||1!==numMonths[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),inst===$.datepicker._curInst&&$.datepicker._datepickerShowing&&$.datepicker._shouldFocusInput(inst)&&inst.input.trigger("focus"),inst.yearshtml&&(origyearshtml=inst.yearshtml,setTimeout(function(){origyearshtml===inst.yearshtml&&inst.yearshtml&&inst.dpDiv.find("select.ui-datepicker-year").first().replaceWith(inst.yearshtml),origyearshtml=inst.yearshtml=null},0)),onUpdateDatepicker&&onUpdateDatepicker.apply(inst.input?inst.input[0]:null,[inst])},_shouldFocusInput:function(inst){return inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&!inst.input.is(":focus")},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth(),dpHeight=inst.dpDiv.outerHeight(),inputWidth=inst.input?inst.input.outerWidth():0,inputHeight=inst.input?inst.input.outerHeight():0,viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft()),viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());return offset.left-=this._get(inst,"isRTL")?dpWidth-inputWidth:0,offset.left-=isFixed&&offset.left===inst.input.offset().left?$(document).scrollLeft():0,offset.top-=isFixed&&offset.top===inst.input.offset().top+inputHeight?$(document).scrollTop():0,offset.left-=Math.min(offset.left,offset.left+dpWidth>viewWidth&&dpWidth<viewWidth?Math.abs(offset.left+dpWidth-viewWidth):0),offset.top-=Math.min(offset.top,offset.top+dpHeight>viewHeight&&dpHeight<viewHeight?Math.abs(dpHeight+inputHeight):0),offset},_findPos:function(obj){for(var inst=this._getInst(obj),isRTL=this._get(inst,"isRTL");obj&&("hidden"===obj.type||1!==obj.nodeType||$.expr.pseudos.hidden(obj));)obj=obj[isRTL?"previousSibling":"nextSibling"];return[(inst=$(obj).offset()).left,inst.top]},_hideDatepicker:function(input){var postProcess,duration,inst=this._curInst;!inst||input&&inst!==$.data(input,"datepicker")||this._datepickerShowing&&(input=this._get(inst,"showAnim"),duration=this._get(inst,"duration"),postProcess=function(){$.datepicker._tidyDialog(inst)},$.effects&&($.effects.effect[input]||$.effects[input])?inst.dpDiv.hide(input,$.datepicker._get(inst,"showOptions"),duration,postProcess):inst.dpDiv["slideDown"===input?"slideUp":"fadeIn"===input?"fadeOut":"hide"](input?duration:null,postProcess),input||postProcess(),this._datepickerShowing=!1,(duration=this._get(inst,"onClose"))&&duration.apply(inst.input?inst.input[0]:null,[inst.input?inst.input.val():"",inst]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI)&&($.unblockUI(),$("body").append(this.dpDiv)),this._inDialog=!1)},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(event){var inst;$.datepicker._curInst&&(event=$(event.target),inst=$.datepicker._getInst(event[0]),!(event[0].id===$.datepicker._mainDivId||0!==event.parents("#"+$.datepicker._mainDivId).length||event.hasClass($.datepicker.markerClassName)||event.closest("."+$.datepicker._triggerClass).length||!$.datepicker._datepickerShowing||$.datepicker._inDialog&&$.blockUI)||event.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!==inst)&&$.datepicker._hideDatepicker()},_adjustDate:function(id,offset,period){var id=$(id),inst=this._getInst(id[0]);this._isDisabledDatepicker(id[0])||(this._adjustInstDate(inst,offset,period),this._updateDatepicker(inst))},_gotoToday:function(id){var date,id=$(id),inst=this._getInst(id[0]);this._get(inst,"gotoCurrent")&&inst.currentDay?(inst.selectedDay=inst.currentDay,inst.drawMonth=inst.selectedMonth=inst.currentMonth,inst.drawYear=inst.selectedYear=inst.currentYear):(date=new Date,inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear()),this._notifyChange(inst),this._adjustDate(id)},_selectMonthYear:function(id,select,period){var id=$(id),inst=this._getInst(id[0]);inst["selected"+("M"===period?"Month":"Year")]=inst["draw"+("M"===period?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10),this._notifyChange(inst),this._adjustDate(id)},_selectDay:function(id,month,year,td){var target=$(id);$(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])||((target=this._getInst(target[0])).selectedDay=target.currentDay=parseInt($("a",td).attr("data-date")),target.selectedMonth=target.currentMonth=month,target.selectedYear=target.currentYear=year,this._selectDate(id,this._formatDate(target,target.currentDay,target.currentMonth,target.currentYear)))},_clearDate:function(id){id=$(id);this._selectDate(id,"")},_selectDate:function(id,dateStr){var onSelect,id=$(id),id=this._getInst(id[0]);dateStr=null!=dateStr?dateStr:this._formatDate(id),id.input&&id.input.val(dateStr),this._updateAlternate(id),(onSelect=this._get(id,"onSelect"))?onSelect.apply(id.input?id.input[0]:null,[dateStr,id]):id.input&&id.input.trigger("change"),id.inline?this._updateDatepicker(id):(this._hideDatepicker(),this._lastInput=id.input[0],"object"!=typeof id.input[0]&&id.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(inst){var date,altFormat,altField=this._get(inst,"altField");altField&&(altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat"),date=this._getDate(inst),altFormat=this.formatDate(altFormat,date,this._getFormatConfig(inst)),$(document).find(altField).val(altFormat))},noWeekends:function(date){date=date.getDay();return[0<date&&date<6,""]},iso8601Week:function(date){var time,date=new Date(date.getTime());return date.setDate(date.getDate()+4-(date.getDay()||7)),time=date.getTime(),date.setMonth(0),date.setDate(1),Math.floor(Math.round((time-date)/864e5)/7)+1},parseDate:function(format,value,settings){if(null==format||null==value)throw"Invalid arguments";if(""===(value="object"==typeof value?value.toString():value+""))return null;for(var dim,date,iValue=0,shortYearCutoffTemp=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff,shortYearCutoffTemp="string"!=typeof shortYearCutoffTemp?shortYearCutoffTemp:(new Date).getFullYear()%100+parseInt(shortYearCutoffTemp,10),dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,year=-1,month=-1,day=-1,doy=-1,literal=!1,lookAhead=function(match){match=iFormat+1<format.length&&format.charAt(iFormat+1)===match;return match&&iFormat++,match},getNumber=function(match){var isDoubled=lookAhead(match),isDoubled="@"===match?14:"!"===match?20:"y"===match&&isDoubled?4:"o"===match?3:2,match=new RegExp("^\\d{"+("y"===match?isDoubled:1)+","+isDoubled+"}"),isDoubled=value.substring(iValue).match(match);if(isDoubled)return iValue+=isDoubled[0].length,parseInt(isDoubled[0],10);throw"Missing number at position "+iValue},getName=function(match,shortNames,longNames){var index=-1,match=$.map(lookAhead(match)?longNames:shortNames,function(v,k){return[[k,v]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if($.each(match,function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()===name.toLowerCase())return index=pair[0],iValue+=name.length,!1}),-1!==index)return index+1;throw"Unknown name at position "+iValue},checkLiteral=function(){if(value.charAt(iValue)!==format.charAt(iFormat))throw"Unexpected literal at position "+iValue;iValue++},iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!==format.charAt(iFormat)||lookAhead("'")?checkLiteral():literal=!1;else switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":year=(date=new Date(getNumber("@"))).getFullYear(),month=date.getMonth()+1,day=date.getDate();break;case"!":year=(date=new Date((getNumber("!")-this._ticksTo1970)/1e4)).getFullYear(),month=date.getMonth()+1,day=date.getDate();break;case"'":lookAhead("'")?checkLiteral():literal=!0;break;default:checkLiteral()}if(iValue<value.length&&(settings=value.substr(iValue),!/^\s+/.test(settings)))throw"Extra/unparsed characters found in date: "+settings;if(-1===year?year=(new Date).getFullYear():year<100&&(year+=(new Date).getFullYear()-(new Date).getFullYear()%100+(year<=shortYearCutoffTemp?0:-100)),-1<doy)for(month=1,day=doy;;){if(day<=(dim=this._getDaysInMonth(year,month-1)))break;month++,day-=dim}if((date=this._daylightSavingAdjust(new Date(year,month-1,day))).getFullYear()!==year||date.getMonth()+1!==month||date.getDate()!==day)throw"Invalid date";return date},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(format,date,settings){if(!date)return"";function formatNumber(match,value,len){var num=""+value;if(lookAhead(match))for(;num.length<len;)num="0"+num;return num}function formatName(match,value,shortNames,longNames){return(lookAhead(match)?longNames:shortNames)[value]}var iFormat,dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,lookAhead=function(match){match=iFormat+1<format.length&&format.charAt(iFormat+1)===match;return match&&iFormat++,match},output="",literal=!1;if(date)for(iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!==format.charAt(iFormat)||lookAhead("'")?output+=format.charAt(iFormat):literal=!1;else switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/864e5),3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=lookAhead("y")?date.getFullYear():(date.getFullYear()%100<10?"0":"")+date.getFullYear()%100;break;case"@":output+=date.getTime();break;case"!":output+=1e4*date.getTime()+this._ticksTo1970;break;case"'":lookAhead("'")?output+="'":literal=!0;break;default:output+=format.charAt(iFormat)}return output},_possibleChars:function(format){for(var chars="",literal=!1,lookAhead=function(match){match=iFormat+1<format.length&&format.charAt(iFormat+1)===match;return match&&iFormat++,match},iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!==format.charAt(iFormat)||lookAhead("'")?chars+=format.charAt(iFormat):literal=!1;else switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":lookAhead("'")?chars+="'":literal=!0;break;default:chars+=format.charAt(iFormat)}return chars},_get:function(inst,name){return(void 0!==inst.settings[name]?inst.settings:this._defaults)[name]},_setDateFromField:function(inst,noDefault){if(inst.input.val()!==inst.lastVal){var dateFormat=this._get(inst,"dateFormat"),dates=inst.lastVal=inst.input?inst.input.val():null,defaultDate=this._getDefaultDate(inst),date=defaultDate,settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate}catch(event){dates=noDefault?"":dates}inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear(),inst.currentDay=dates?date.getDate():0,inst.currentMonth=dates?date.getMonth():0,inst.currentYear=dates?date.getFullYear():0,this._adjustInstDate(inst)}},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date))},_determineDate:function(inst,date,defaultDate){date=null==date||""===date?defaultDate:"string"==typeof date?function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst))}catch(e){}for(var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date,year=date.getFullYear(),month=date.getMonth(),day=date.getDate(),pattern=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,matches=pattern.exec(offset);matches;){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=7*parseInt(matches[1],10);break;case"m":case"M":month+=parseInt(matches[1],10),day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10),day=Math.min(day,$.datepicker._getDaysInMonth(year,month))}matches=pattern.exec(offset)}return new Date(year,month,day)}(date):"number"==typeof date?isNaN(date)?defaultDate:function(offset){var date=new Date;return date.setDate(date.getDate()+offset),date}(date):new Date(date.getTime());return(date=date&&"Invalid Date"===date.toString()?defaultDate:date)&&(date.setHours(0),date.setMinutes(0),date.setSeconds(0),date.setMilliseconds(0)),this._daylightSavingAdjust(date)},_daylightSavingAdjust:function(date){return date?(date.setHours(12<date.getHours()?date.getHours()+2:0),date):null},_setDate:function(inst,date,noChange){var clear=!date,origMonth=inst.selectedMonth,origYear=inst.selectedYear,date=this._restrictMinMax(inst,this._determineDate(inst,date,new Date));inst.selectedDay=inst.currentDay=date.getDate(),inst.drawMonth=inst.selectedMonth=inst.currentMonth=date.getMonth(),inst.drawYear=inst.selectedYear=inst.currentYear=date.getFullYear(),origMonth===inst.selectedMonth&&origYear===inst.selectedYear||noChange||this._notifyChange(inst),this._adjustInstDate(inst),inst.input&&inst.input.val(clear?"":this._formatDate(inst))},_getDate:function(inst){return!inst.currentYear||inst.input&&""===inst.input.val()?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay))},_attachHandlers:function(inst){var stepMonths=this._get(inst,"stepMonths"),id="#"+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find("[data-handler]").map(function(){var handler={prev:function(){$.datepicker._adjustDate(id,-stepMonths,"M")},next:function(){$.datepicker._adjustDate(id,+stepMonths,"M")},hide:function(){$.datepicker._hideDatepicker()},today:function(){$.datepicker._gotoToday(id)},selectDay:function(){return $.datepicker._selectDay(id,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return $.datepicker._selectMonthYear(id,this,"M"),!1},selectYear:function(){return $.datepicker._selectMonthYear(id,this,"Y"),!1}};$(this).on(this.getAttribute("data-event"),handler[this.getAttribute("data-handler")])})},_generateHTML:function(inst){var maxDraw,prev,next,firstDay,showWeek,dayNames,dayNamesMin,monthNames,monthNamesShort,beforeShowDay,showOtherMonths,selectOtherMonths,defaultDate,html,dow,row,group,col,selectedDate,cornerClass,calender,thead,day,leadDays,daysInMonth,numRows,printDate,dRow,tbody,daySettings,otherMonth,unselectable,tempDate=new Date,today=this._daylightSavingAdjust(new Date(tempDate.getFullYear(),tempDate.getMonth(),tempDate.getDate())),isRTL=this._get(inst,"isRTL"),tempDate=this._get(inst,"showButtonPanel"),hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext"),navigationAsDateFormat=this._get(inst,"navigationAsDateFormat"),numMonths=this._getNumberOfMonths(inst),showCurrentAtPos=this._get(inst,"showCurrentAtPos"),stepMonths=this._get(inst,"stepMonths"),isMultiMonth=1!==numMonths[0]||1!==numMonths[1],currentDate=this._daylightSavingAdjust(inst.currentDay?new Date(inst.currentYear,inst.currentMonth,inst.currentDay):new Date(9999,9,9)),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),drawMonth=inst.drawMonth-showCurrentAtPos,drawYear=inst.drawYear;if(drawMonth<0&&(drawMonth+=12,drawYear--),maxDate)for(maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-numMonths[0]*numMonths[1]+1,maxDate.getDate())),maxDraw=minDate&&maxDraw<minDate?minDate:maxDraw;this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw;)--drawMonth<0&&(drawMonth=11,drawYear--);for(inst.drawMonth=drawMonth,inst.drawYear=drawYear,showCurrentAtPos=this._get(inst,"prevText"),showCurrentAtPos=navigationAsDateFormat?this.formatDate(showCurrentAtPos,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)):showCurrentAtPos,prev=this._canAdjustMonth(inst,-1,drawYear,drawMonth)?$("<a>").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:showCurrentAtPos}).append($("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")).text(showCurrentAtPos))[0].outerHTML:hideIfNoPrevNext?"":$("<a>").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:showCurrentAtPos}).append($("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")).text(showCurrentAtPos))[0].outerHTML,showCurrentAtPos=this._get(inst,"nextText"),showCurrentAtPos=navigationAsDateFormat?this.formatDate(showCurrentAtPos,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)):showCurrentAtPos,next=this._canAdjustMonth(inst,1,drawYear,drawMonth)?$("<a>").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:showCurrentAtPos}).append($("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")).text(showCurrentAtPos))[0].outerHTML:hideIfNoPrevNext?"":$("<a>").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:showCurrentAtPos}).append($("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")).text(showCurrentAtPos))[0].outerHTML,stepMonths=this._get(inst,"currentText"),hideIfNoPrevNext=this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today,stepMonths=navigationAsDateFormat?this.formatDate(stepMonths,hideIfNoPrevNext,this._getFormatConfig(inst)):stepMonths,showCurrentAtPos="",inst.inline||(showCurrentAtPos=$("<button>").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(inst,"closeText"))[0].outerHTML),navigationAsDateFormat="",tempDate&&(navigationAsDateFormat=$("<div class='ui-datepicker-buttonpane ui-widget-content'>").append(isRTL?showCurrentAtPos:"").append(this._isInRange(inst,hideIfNoPrevNext)?$("<button>").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(stepMonths):"").append(isRTL?"":showCurrentAtPos)[0].outerHTML),firstDay=parseInt(this._get(inst,"firstDay"),10),firstDay=isNaN(firstDay)?0:firstDay,showWeek=this._get(inst,"showWeek"),dayNames=this._get(inst,"dayNames"),dayNamesMin=this._get(inst,"dayNamesMin"),monthNames=this._get(inst,"monthNames"),monthNamesShort=this._get(inst,"monthNamesShort"),beforeShowDay=this._get(inst,"beforeShowDay"),showOtherMonths=this._get(inst,"showOtherMonths"),selectOtherMonths=this._get(inst,"selectOtherMonths"),defaultDate=this._getDefaultDate(inst),html="",row=0;row<numMonths[0];row++){for(group="",this.maxRows=4,col=0;col<numMonths[1];col++){if(selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay)),cornerClass=" ui-corner-all",calender="",isMultiMonth){if(calender+="<div class='ui-datepicker-group",1<numMonths[1])switch(col){case 0:calender+=" ui-datepicker-group-first",cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last",cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle",cornerClass=""}calender+="'>"}for(calender+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+cornerClass+"'>"+(/all|left/.test(cornerClass)&&0===row?isRTL?next:prev:"")+(/all|right/.test(cornerClass)&&0===row?isRTL?prev:next:"")+this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,0<row||0<col,monthNames,monthNamesShort)+"</div><table class='ui-datepicker-calendar'><thead><tr>",thead=showWeek?"<th class='ui-datepicker-week-col'>"+this._get(inst,"weekHeader")+"</th>":"",dow=0;dow<7;dow++)thead+="<th scope='col'"+(5<=(dow+firstDay+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+dayNames[day=(dow+firstDay)%7]+"'>"+dayNamesMin[day]+"</span></th>";for(calender+=thead+"</tr></thead><tbody>",daysInMonth=this._getDaysInMonth(drawYear,drawMonth),drawYear===inst.selectedYear&&drawMonth===inst.selectedMonth&&(inst.selectedDay=Math.min(inst.selectedDay,daysInMonth)),leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7,daysInMonth=Math.ceil((leadDays+daysInMonth)/7),numRows=isMultiMonth&&this.maxRows>daysInMonth?this.maxRows:daysInMonth,this.maxRows=numRows,printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays)),dRow=0;dRow<numRows;dRow++){for(calender+="<tr>",tbody=showWeek?"<td class='ui-datepicker-week-col'>"+this._get(inst,"calculateWeek")(printDate)+"</td>":"",dow=0;dow<7;dow++)daySettings=beforeShowDay?beforeShowDay.apply(inst.input?inst.input[0]:null,[printDate]):[!0,""],unselectable=(otherMonth=printDate.getMonth()!==drawMonth)&&!selectOtherMonths||!daySettings[0]||minDate&&printDate<minDate||maxDate&&maxDate<printDate,tbody+="<td class='"+(5<=(dow+firstDay+6)%7?" ui-datepicker-week-end":"")+(otherMonth?" ui-datepicker-other-month":"")+(printDate.getTime()===selectedDate.getTime()&&drawMonth===inst.selectedMonth&&inst._keyEvent||defaultDate.getTime()===printDate.getTime()&&defaultDate.getTime()===selectedDate.getTime()?" "+this._dayOverClass:"")+(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+(printDate.getTime()===currentDate.getTime()?" "+this._currentClass:"")+(printDate.getTime()===today.getTime()?" ui-datepicker-today":""))+"'"+(otherMonth&&!showOtherMonths||!daySettings[2]?"":" title='"+daySettings[2].replace(/'/g,"&#39;")+"'")+(unselectable?"":" data-handler='selectDay' data-event='click' data-month='"+printDate.getMonth()+"' data-year='"+printDate.getFullYear()+"'")+">"+(otherMonth&&!showOtherMonths?"&#xa0;":unselectable?"<span class='ui-state-default'>"+printDate.getDate()+"</span>":"<a class='ui-state-default"+(printDate.getTime()===today.getTime()?" ui-state-highlight":"")+(printDate.getTime()===currentDate.getTime()?" ui-state-active":"")+(otherMonth?" ui-priority-secondary":"")+"' href='#' aria-current='"+(printDate.getTime()===currentDate.getTime()?"true":"false")+"' data-date='"+printDate.getDate()+"'>"+printDate.getDate()+"</a>")+"</td>",printDate.setDate(printDate.getDate()+1),printDate=this._daylightSavingAdjust(printDate);calender+=tbody+"</tr>"}11<++drawMonth&&(drawMonth=0,drawYear++),group+=calender+="</tbody></table>"+(isMultiMonth?"</div>"+(0<numMonths[0]&&col===numMonths[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}html+=group}return html+=navigationAsDateFormat,inst._keyEvent=!1,html},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var inMinYear,inMaxYear,month,thisYear,year,endYear,changeMonth=this._get(inst,"changeMonth"),changeYear=this._get(inst,"changeYear"),showMonthAfterYear=this._get(inst,"showMonthAfterYear"),selectMonthLabel=this._get(inst,"selectMonthLabel"),selectYearLabel=this._get(inst,"selectYearLabel"),html="<div class='ui-datepicker-title'>",monthHtml="";if(secondary||!changeMonth)monthHtml+="<span class='ui-datepicker-month'>"+monthNames[drawMonth]+"</span>";else{for(inMinYear=minDate&&minDate.getFullYear()===drawYear,inMaxYear=maxDate&&maxDate.getFullYear()===drawYear,monthHtml+="<select class='ui-datepicker-month' aria-label='"+selectMonthLabel+"' data-handler='selectMonth' data-event='change'>",month=0;month<12;month++)(!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())&&(monthHtml+="<option value='"+month+"'"+(month===drawMonth?" selected='selected'":"")+">"+monthNamesShort[month]+"</option>");monthHtml+="</select>"}if(showMonthAfterYear||(html+=monthHtml+(!secondary&&changeMonth&&changeYear?"":"&#xa0;")),!inst.yearshtml)if(inst.yearshtml="",secondary||!changeYear)html+="<span class='ui-datepicker-year'>"+drawYear+"</span>";else{for(monthNames=this._get(inst,"yearRange").split(":"),thisYear=(new Date).getFullYear(),year=(selectMonthLabel=function(value){value=value.match(/c[+\-].*/)?drawYear+parseInt(value.substring(1),10):value.match(/[+\-].*/)?thisYear+parseInt(value,10):parseInt(value,10);return isNaN(value)?thisYear:value})(monthNames[0]),endYear=Math.max(year,selectMonthLabel(monthNames[1]||"")),year=minDate?Math.max(year,minDate.getFullYear()):year,endYear=maxDate?Math.min(endYear,maxDate.getFullYear()):endYear,inst.yearshtml+="<select class='ui-datepicker-year' aria-label='"+selectYearLabel+"' data-handler='selectYear' data-event='change'>";year<=endYear;year++)inst.yearshtml+="<option value='"+year+"'"+(year===drawYear?" selected='selected'":"")+">"+year+"</option>";inst.yearshtml+="</select>",html+=inst.yearshtml,inst.yearshtml=null}return html+=this._get(inst,"yearSuffix"),showMonthAfterYear&&(html+=(!secondary&&changeMonth&&changeYear?"":"&#xa0;")+monthHtml),html+="</div>"},_adjustInstDate:function(inst,offset,period){var year=inst.selectedYear+("Y"===period?offset:0),month=inst.selectedMonth+("M"===period?offset:0),offset=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+("D"===period?offset:0),year=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,offset)));inst.selectedDay=year.getDate(),inst.drawMonth=inst.selectedMonth=year.getMonth(),inst.drawYear=inst.selectedYear=year.getFullYear(),"M"!==period&&"Y"!==period||this._notifyChange(inst)},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min"),inst=this._getMinMaxDate(inst,"max"),minDate=minDate&&date<minDate?minDate:date;return inst&&inst<minDate?inst:minDate},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");onChange&&onChange.apply(inst.input?inst.input[0]:null,[inst.selectedYear,inst.selectedMonth+1,inst])},_getNumberOfMonths:function(inst){inst=this._get(inst,"numberOfMonths");return null==inst?[1,1]:"number"==typeof inst?[1,inst]:inst},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null)},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate()},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay()},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst),curYear=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));return offset<0&&curYear.setDate(this._getDaysInMonth(curYear.getFullYear(),curYear.getMonth())),this._isInRange(inst,curYear)},_isInRange:function(inst,date){var currentYear,minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),minYear=null,maxYear=null,inst=this._get(inst,"yearRange");return inst&&(inst=inst.split(":"),currentYear=(new Date).getFullYear(),minYear=parseInt(inst[0],10),maxYear=parseInt(inst[1],10),inst[0].match(/[+\-].*/)&&(minYear+=currentYear),inst[1].match(/[+\-].*/))&&(maxYear+=currentYear),(!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime())&&(!minYear||date.getFullYear()>=minYear)&&(!maxYear||date.getFullYear()<=maxYear)},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");return{shortYearCutoff:"string"!=typeof shortYearCutoff?shortYearCutoff:(new Date).getFullYear()%100+parseInt(shortYearCutoff,10),dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")}},_formatDate:function(inst,day,month,year){day||(inst.currentDay=inst.selectedDay,inst.currentMonth=inst.selectedMonth,inst.currentYear=inst.selectedYear);year=day?"object"==typeof day?day:this._daylightSavingAdjust(new Date(year,month,day)):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));return this.formatDate(this._get(inst,"dateFormat"),year,this._getFormatConfig(inst))}}),$.fn.datepicker=function(options){if(!this.length)return this;$.datepicker.initialized||($(document).on("mousedown",$.datepicker._checkExternalClick),$.datepicker.initialized=!0),0===$("#"+$.datepicker._mainDivId).length&&$("body").append($.datepicker.dpDiv);var otherArgs=Array.prototype.slice.call(arguments,1);return"string"==typeof options&&("isDisabled"===options||"getDate"===options||"widget"===options)||"option"===options&&2===arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs)):this.each(function(){"string"==typeof options?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options)})},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.13.2";$.datepicker,$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var mouseHandled=!1;$(document).on("mouseup",function(){mouseHandled=!1}),$.widget("ui.mouse",{version:"1.13.2",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.on("mousedown."+this.widgetName,function(event){return that._mouseDown(event)}).on("click."+this.widgetName,function(event){if(!0===$.data(event.target,that.widgetName+".preventClickEvent"))return $.removeData(event.target,that.widgetName+".preventClickEvent"),event.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(event){var that,btnIsLeft,elIsCancel;if(!mouseHandled)return this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(event),btnIsLeft=1===(this._mouseDownEvent=event).which,elIsCancel=!("string"!=typeof(that=this).options.cancel||!event.target.nodeName)&&$(event.target).closest(this.options.cancel).length,btnIsLeft&&!elIsCancel&&this._mouseCapture(event)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(event)&&this._mouseDelayMet(event)&&(this._mouseStarted=!1!==this._mouseStart(event),!this._mouseStarted)?event.preventDefault():(!0===$.data(event.target,this.widgetName+".preventClickEvent")&&$.removeData(event.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(event){return that._mouseMove(event)},this._mouseUpDelegate=function(event){return that._mouseUp(event)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),event.preventDefault(),mouseHandled=!0)),!0},_mouseMove:function(event){if(this._mouseMoved){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button)return this._mouseUp(event);if(!event.which)if(event.originalEvent.altKey||event.originalEvent.ctrlKey||event.originalEvent.metaKey||event.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(event)}return(event.which||event.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(event),event.preventDefault()):(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,event),this._mouseStarted?this._mouseDrag(event):this._mouseUp(event)),!this._mouseStarted)},_mouseUp:function(event){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,event.target===this._mouseDownEvent.target&&$.data(event.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(event)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,mouseHandled=!1,event.preventDefault()},_mouseDistanceMet:function(event){return Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),$.ui.plugin={add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set)proto.plugins[i]=proto.plugins[i]||[],proto.plugins[i].push([option,set[i]])},call:function(instance,name,args,allowDisconnected){var i,set=instance.plugins[name];if(set&&(allowDisconnected||instance.element[0].parentNode&&11!==instance.element[0].parentNode.nodeType))for(i=0;i<set.length;i++)instance.options[set[i][0]]&&set[i][1].apply(instance.element,args)}},$.ui.safeBlur=function(element){element&&"body"!==element.nodeName.toLowerCase()&&$(element).trigger("blur")},$.widget("ui.draggable",$.ui.mouse,{version:"1.13.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(key,value){this._super(key,value),"handle"===key&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(event){var o=this.options;return!(this.helper||o.disabled||0<$(event.target).closest(".ui-resizable-handle").length||(this.handle=this._getHandle(event),!this.handle)||(this._blurActiveElement(event),this._blockFrames(!0===o.iframeFix?"iframe":o.iframeFix),0))},_blockFrames:function(selector){this.iframeBlocks=this.document.find(selector).map(function(){var iframe=$(this);return $("<div>").css("position","absolute").appendTo(iframe.parent()).outerWidth(iframe.outerWidth()).outerHeight(iframe.outerHeight()).offset(iframe.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(event){var activeElement=$.ui.safeActiveElement(this.document[0]);$(event.target).closest(activeElement).length||$.ui.safeBlur(activeElement)},_mouseStart:function(event){var o=this.options;return this.helper=this._createHelper(event),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),$.ui.ddmanager&&($.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===$(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(event),this.originalPosition=this.position=this._generatePosition(event,!1),this.originalPageX=event.pageX,this.originalPageY=event.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this._setContainment(),!1===this._trigger("start",event)?(this._clear(),!1):(this._cacheHelperProportions(),$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event),this._mouseDrag(event,!0),$.ui.ddmanager&&$.ui.ddmanager.dragStart(this,event),!0)},_refreshOffsets:function(event){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:event.pageX-this.offset.left,top:event.pageY-this.offset.top}},_mouseDrag:function(event,noPropagation){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(event,!0),this.positionAbs=this._convertPositionTo("absolute"),!noPropagation){noPropagation=this._uiHash();if(!1===this._trigger("drag",event,noPropagation))return this._mouseUp(new $.Event("mouseup",event)),!1;this.position=noPropagation.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",$.ui.ddmanager&&$.ui.ddmanager.drag(this,event),!1},_mouseStop:function(event){var that=this,dropped=!1;return $.ui.ddmanager&&!this.options.dropBehaviour&&(dropped=$.ui.ddmanager.drop(this,event)),this.dropped&&(dropped=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!dropped||"valid"===this.options.revert&&dropped||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,dropped)?$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==that._trigger("stop",event)&&that._clear()}):!1!==this._trigger("stop",event)&&this._clear(),!1},_mouseUp:function(event){return this._unblockFrames(),$.ui.ddmanager&&$.ui.ddmanager.dragStop(this,event),this.handleElement.is(event.target)&&this.element.trigger("focus"),$.ui.mouse.prototype._mouseUp.call(this,event)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new $.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(event){return!this.options.handle||!!$(event.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(event){var o=this.options,helperIsFunction="function"==typeof o.helper,event=helperIsFunction?$(o.helper.apply(this.element[0],[event])):"clone"===o.helper?this.element.clone().removeAttr("id"):this.element;return event.parents("body").length||event.appendTo("parent"===o.appendTo?this.element[0].parentNode:o.appendTo),helperIsFunction&&event[0]===this.element[0]&&this._setPositionRelative(),event[0]===this.element[0]||/(fixed|absolute)/.test(event.css("position"))||event.css("position","absolute"),event},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(obj){"string"==typeof obj&&(obj=obj.split(" ")),"left"in(obj=Array.isArray(obj)?{left:+obj[0],top:+obj[1]||0}:obj)&&(this.offset.click.left=obj.left+this.margins.left),"right"in obj&&(this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left),"top"in obj&&(this.offset.click.top=obj.top+this.margins.top),"bottom"in obj&&(this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top)},_isRootNode:function(element){return/(html|body)/i.test(element.tagName)||element===this.document[0]},_getParentOffset:function(){var po=this.offsetParent.offset(),document=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])&&(po.left+=this.scrollParent.scrollLeft(),po.top+=this.scrollParent.scrollTop()),{top:(po=this._isRootNode(this.offsetParent[0])?{top:0,left:0}:po).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){var p,scrollIsRootNode;return"relative"!==this.cssPosition?{top:0,left:0}:(p=this.element.position(),scrollIsRootNode=this._isRootNode(this.scrollParent[0]),{top:p.top-(parseInt(this.helper.css("top"),10)||0)+(scrollIsRootNode?0:this.scrollParent.scrollTop()),left:p.left-(parseInt(this.helper.css("left"),10)||0)+(scrollIsRootNode?0:this.scrollParent.scrollLeft())})},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var isUserScrollable,o=this.options,document=this.document[0];this.relativeContainer=null,o.containment?"window"===o.containment?this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-this.helperProportions.width-this.margins.left,$(window).scrollTop()+($(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:"document"===o.containment?this.containment=[0,0,$(document).width()-this.helperProportions.width-this.margins.left,($(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:o.containment.constructor===Array?this.containment=o.containment:("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(o=(document=$(o.containment))[0])&&(isUserScrollable=/(scroll|auto)/.test(document.css("overflow")),this.containment=[(parseInt(document.css("borderLeftWidth"),10)||0)+(parseInt(document.css("paddingLeft"),10)||0),(parseInt(document.css("borderTopWidth"),10)||0)+(parseInt(document.css("paddingTop"),10)||0),(isUserScrollable?Math.max(o.scrollWidth,o.offsetWidth):o.offsetWidth)-(parseInt(document.css("borderRightWidth"),10)||0)-(parseInt(document.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(isUserScrollable?Math.max(o.scrollHeight,o.offsetHeight):o.offsetHeight)-(parseInt(document.css("borderBottomWidth"),10)||0)-(parseInt(document.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=document)):this.containment=null},_convertPositionTo:function(d,pos){pos=pos||this.position;var d="absolute"===d?1:-1,scrollIsRootNode=this._isRootNode(this.scrollParent[0]);return{top:pos.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.offset.scroll.top:scrollIsRootNode?0:this.offset.scroll.top)*d,left:pos.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.offset.scroll.left:scrollIsRootNode?0:this.offset.scroll.left)*d}},_generatePosition:function(event,constrainPosition){var containment,o=this.options,scrollIsRootNode=this._isRootNode(this.scrollParent[0]),pageX=event.pageX,pageY=event.pageY;return scrollIsRootNode&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),{top:(pageY=constrainPosition&&(this.containment&&(containment=this.relativeContainer?(constrainPosition=this.relativeContainer.offset(),[this.containment[0]+constrainPosition.left,this.containment[1]+constrainPosition.top,this.containment[2]+constrainPosition.left,this.containment[3]+constrainPosition.top]):this.containment,event.pageX-this.offset.click.left<containment[0]&&(pageX=containment[0]+this.offset.click.left),event.pageY-this.offset.click.top<containment[1]&&(pageY=containment[1]+this.offset.click.top),event.pageX-this.offset.click.left>containment[2]&&(pageX=containment[2]+this.offset.click.left),event.pageY-this.offset.click.top>containment[3])&&(pageY=containment[3]+this.offset.click.top),o.grid&&(constrainPosition=o.grid[1]?this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,pageY=!containment||constrainPosition-this.offset.click.top>=containment[1]||constrainPosition-this.offset.click.top>containment[3]?constrainPosition:constrainPosition-this.offset.click.top>=containment[1]?constrainPosition-o.grid[1]:constrainPosition+o.grid[1],event=o.grid[0]?this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,pageX=!containment||event-this.offset.click.left>=containment[0]||event-this.offset.click.left>containment[2]?event:event-this.offset.click.left>=containment[0]?event-o.grid[0]:event+o.grid[0]),"y"===o.axis&&(pageX=this.originalPageX),"x"===o.axis)?this.originalPageY:pageY)-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:scrollIsRootNode?0:this.offset.scroll.top),left:pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:scrollIsRootNode?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(type,event,ui){return ui=ui||this._uiHash(),$.ui.plugin.call(this,type,[event,ui,this],!0),/^(drag|start|stop)/.test(type)&&(this.positionAbs=this._convertPositionTo("absolute"),ui.offset=this.positionAbs),$.Widget.prototype._trigger.call(this,type,event,ui)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.sortables=[],$(draggable.options.connectToSortable).each(function(){var sortable=$(this).sortable("instance");sortable&&!sortable.options.disabled&&(draggable.sortables.push(sortable),sortable.refreshPositions(),sortable._trigger("activate",event,uiSortable))})},stop:function(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.cancelHelperRemoval=!1,$.each(draggable.sortables,function(){this.isOver?(this.isOver=0,draggable.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(event),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",event,uiSortable))})},drag:function(event,ui,draggable){$.each(draggable.sortables,function(){var innermostIntersecting=!1,sortable=this;sortable.positionAbs=draggable.positionAbs,sortable.helperProportions=draggable.helperProportions,sortable.offset.click=draggable.offset.click,sortable._intersectsWith(sortable.containerCache)&&(innermostIntersecting=!0,$.each(draggable.sortables,function(){return this.positionAbs=draggable.positionAbs,this.helperProportions=draggable.helperProportions,this.offset.click=draggable.offset.click,innermostIntersecting=this!==sortable&&this._intersectsWith(this.containerCache)&&$.contains(sortable.element[0],this.element[0])?!1:innermostIntersecting})),innermostIntersecting?(sortable.isOver||(sortable.isOver=1,draggable._parent=ui.helper.parent(),sortable.currentItem=ui.helper.appendTo(sortable.element).data("ui-sortable-item",!0),sortable.options._helper=sortable.options.helper,sortable.options.helper=function(){return ui.helper[0]},event.target=sortable.currentItem[0],sortable._mouseCapture(event,!0),sortable._mouseStart(event,!0,!0),sortable.offset.click.top=draggable.offset.click.top,sortable.offset.click.left=draggable.offset.click.left,sortable.offset.parent.left-=draggable.offset.parent.left-sortable.offset.parent.left,sortable.offset.parent.top-=draggable.offset.parent.top-sortable.offset.parent.top,draggable._trigger("toSortable",event),draggable.dropped=sortable.element,$.each(draggable.sortables,function(){this.refreshPositions()}),draggable.currentItem=draggable.element,sortable.fromOutside=draggable),sortable.currentItem&&(sortable._mouseDrag(event),ui.position=sortable.position)):sortable.isOver&&(sortable.isOver=0,sortable.cancelHelperRemoval=!0,sortable.options._revert=sortable.options.revert,sortable.options.revert=!1,sortable._trigger("out",event,sortable._uiHash(sortable)),sortable._mouseStop(event,!0),sortable.options.revert=sortable.options._revert,sortable.options.helper=sortable.options._helper,sortable.placeholder&&sortable.placeholder.remove(),ui.helper.appendTo(draggable._parent),draggable._refreshOffsets(event),ui.position=draggable._generatePosition(event,!0),draggable._trigger("fromSortable",event),draggable.dropped=!1,$.each(draggable.sortables,function(){this.refreshPositions()}))})}}),$.ui.plugin.add("draggable","cursor",{start:function(event,ui,instance){var t=$("body"),instance=instance.options;t.css("cursor")&&(instance._cursor=t.css("cursor")),t.css("cursor",instance.cursor)},stop:function(event,ui,instance){instance=instance.options;instance._cursor&&$("body").css("cursor",instance._cursor)}}),$.ui.plugin.add("draggable","opacity",{start:function(event,ui,instance){ui=$(ui.helper),instance=instance.options;ui.css("opacity")&&(instance._opacity=ui.css("opacity")),ui.css("opacity",instance.opacity)},stop:function(event,ui,instance){instance=instance.options;instance._opacity&&$(ui.helper).css("opacity",instance._opacity)}}),$.ui.plugin.add("draggable","scroll",{start:function(event,ui,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(event,ui,i){var o=i.options,scrolled=!1,scrollParent=i.scrollParentNotHidden[0],document=i.document[0];scrollParent!==document&&"HTML"!==scrollParent.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+scrollParent.offsetHeight-event.pageY<o.scrollSensitivity?scrollParent.scrollTop=scrolled=scrollParent.scrollTop+o.scrollSpeed:event.pageY-i.overflowOffset.top<o.scrollSensitivity&&(scrollParent.scrollTop=scrolled=scrollParent.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+scrollParent.offsetWidth-event.pageX<o.scrollSensitivity?scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft+o.scrollSpeed:event.pageX-i.overflowOffset.left<o.scrollSensitivity&&(scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(event.pageY-$(document).scrollTop()<o.scrollSensitivity?scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed):$(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity&&(scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(event.pageX-$(document).scrollLeft()<o.scrollSensitivity?scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed):$(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity&&(scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed)))),!1!==scrolled&&$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(i,event)}}),$.ui.plugin.add("draggable","snap",{start:function(event,ui,i){var o=i.options;i.snapElements=[],$(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var $t=$(this),$o=$t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left})})},drag:function(event,ui,inst){for(var ts,bs,ls,rs,l,r,t,b,first,o=inst.options,d=o.snapTolerance,x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height,i=inst.snapElements.length-1;0<=i;i--)r=(l=inst.snapElements[i].left-inst.margins.left)+inst.snapElements[i].width,b=(t=inst.snapElements[i].top-inst.margins.top)+inst.snapElements[i].height,x2<l-d||r+d<x1||y2<t-d||b+d<y1||!$.contains(inst.snapElements[i].item.ownerDocument,inst.snapElements[i].item)?(inst.snapElements[i].snapping&&inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})),inst.snapElements[i].snapping=!1):("inner"!==o.snapMode&&(ts=Math.abs(t-y2)<=d,bs=Math.abs(b-y1)<=d,ls=Math.abs(l-x2)<=d,rs=Math.abs(r-x1)<=d,ts&&(ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top),bs&&(ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top),ls&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left),rs)&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left),first=ts||bs||ls||rs,"outer"!==o.snapMode&&(ts=Math.abs(t-y1)<=d,bs=Math.abs(b-y2)<=d,ls=Math.abs(l-x1)<=d,rs=Math.abs(r-x2)<=d,ts&&(ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top),bs&&(ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top),ls&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left),rs)&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left),!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first)&&inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})),inst.snapElements[i].snapping=ts||bs||ls||rs||first)}}),$.ui.plugin.add("draggable","stack",{start:function(event,ui,instance){var min,instance=instance.options,instance=$.makeArray($(instance.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0)});instance.length&&(min=parseInt($(instance[0]).css("zIndex"),10)||0,$(instance).each(function(i){$(this).css("zIndex",min+i)}),this.css("zIndex",min+instance.length))}}),$.ui.plugin.add("draggable","zIndex",{start:function(event,ui,instance){ui=$(ui.helper),instance=instance.options;ui.css("zIndex")&&(instance._zIndex=ui.css("zIndex")),ui.css("zIndex",instance.zIndex)},stop:function(event,ui,instance){instance=instance.options;instance._zIndex&&$(ui.helper).css("zIndex",instance._zIndex)}}),$.ui.draggable,$.widget("ui.resizable",$.ui.mouse,{version:"1.13.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(value){return parseFloat(value)||0},_isNumber:function(value){return!isNaN(parseFloat(value))},_hasScroll:function(el,a){if("hidden"===$(el).css("overflow"))return!1;var a=a&&"left"===a?"scrollLeft":"scrollTop",has=!1;if(0<el[a])return!0;try{el[a]=1,has=0<el[a],el[a]=0}catch(e){}return has},_create:function(){var margins,o=this.options,that=this;this._addClass("ui-resizable"),$.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap($("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,margins={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(margins),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(margins),this._proportionallyResize()),this._setupHandles(),o.autoHide&&$(this.element).on("mouseenter",function(){o.disabled||(that._removeClass("ui-resizable-autohide"),that._handles.show())}).on("mouseleave",function(){o.disabled||that.resizing||(that._addClass("ui-resizable-autohide"),that._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();function _destroy(exp){$(exp).removeData("resizable").removeData("ui-resizable").off(".resizable")}var wrapper;return this.elementIsWrapper&&(_destroy(this.element),wrapper=this.element,this.originalElement.css({position:wrapper.css("position"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css("top"),left:wrapper.css("left")}).insertAfter(wrapper),wrapper.remove()),this.originalElement.css("resize",this.originalResizeStyle),_destroy(this.originalElement),this},_setOption:function(key,value){switch(this._super(key,value),key){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!value}},_setupHandles:function(){var handle,i,n,hname,axis,o=this.options,that=this;if(this.handles=o.handles||($(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=$(),this._addedHandles=$(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},i=0;i<n.length;i++)hname="ui-resizable-"+(handle=String.prototype.trim.call(n[i])),axis=$("<div>"),this._addClass(axis,"ui-resizable-handle "+hname),axis.css({zIndex:o.zIndex}),this.handles[handle]=".ui-resizable-"+handle,this.element.children(this.handles[handle]).length||(this.element.append(axis),this._addedHandles=this._addedHandles.add(axis));this._renderAxis=function(target){var i,padPos,axis;for(i in target=target||this.element,this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=$(this.handles[i]),this._on(this.handles[i],{mousedown:that._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(axis=$(this.handles[i],this.element),axis=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth(),padPos=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),target.css(padPos,axis),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){that.resizing||(this.className&&(axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),that.axis=axis&&axis[1]?axis[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(event){var i,handle,capture=!1;for(i in this.handles)(handle=$(this.handles[i])[0])!==event.target&&!$.contains(handle,event.target)||(capture=!0);return!this.options.disabled&&capture},_mouseStart:function(event){var curleft,curtop,o=this.options,el=this.element;return this.resizing=!0,this._renderProxy(),curleft=this._num(this.helper.css("left")),curtop=this._num(this.helper.css("top")),o.containment&&(curleft+=$(o.containment).scrollLeft()||0,curtop+=$(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:curleft,top:curtop},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:el.width(),height:el.height()},this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()},this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()},this.originalPosition={left:curleft,top:curtop},this.originalMousePosition={left:event.pageX,top:event.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,el=$(".ui-resizable-"+this.axis).css("cursor"),$("body").css("cursor","auto"===el?this.axis+"-resize":el),this._addClass("ui-resizable-resizing"),this._propagate("start",event),!0},_mouseDrag:function(event){var smp=this.originalMousePosition,a=this.axis,dx=event.pageX-smp.left||0,smp=event.pageY-smp.top||0,a=this._change[a];return this._updatePrevProperties(),a&&(a=a.apply(this,[event,dx,smp]),this._updateVirtualBoundaries(event.shiftKey),(this._aspectRatio||event.shiftKey)&&(a=this._updateRatio(a,event)),a=this._respectSize(a,event),this._updateCache(a),this._propagate("resize",event),dx=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),$.isEmptyObject(dx)||(this._updatePrevProperties(),this._trigger("resize",event,this.ui()),this._applyChanges())),!1},_mouseStop:function(event){this.resizing=!1;var ista,pr,top,o=this.options;return this._helper&&(pr=(ista=(pr=this._proportionallyResizeElements).length&&/textarea/i.test(pr[0].nodeName))&&this._hasScroll(pr[0],"left")?0:this.sizeDiff.height,ista=ista?0:this.sizeDiff.width,ista={width:this.helper.width()-ista,height:this.helper.height()-pr},pr=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,top=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,o.animate||this.element.css($.extend(ista,{top:top,left:pr})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper)&&!o.animate&&this._proportionallyResize(),$("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",event),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var props={};return this.position.top!==this.prevPosition.top&&(props.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(props.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(props.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(props.height=this.size.height+"px"),this.helper.css(props),props},_updateVirtualBoundaries:function(forceAspectRatio){var pMaxWidth,pMinHeight,pMaxHeight,o=this.options,o={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0};(this._aspectRatio||forceAspectRatio)&&(forceAspectRatio=o.minHeight*this.aspectRatio,pMinHeight=o.minWidth/this.aspectRatio,pMaxWidth=o.maxHeight*this.aspectRatio,pMaxHeight=o.maxWidth/this.aspectRatio,o.minWidth<forceAspectRatio&&(o.minWidth=forceAspectRatio),o.minHeight<pMinHeight&&(o.minHeight=pMinHeight),pMaxWidth<o.maxWidth&&(o.maxWidth=pMaxWidth),pMaxHeight<o.maxHeight)&&(o.maxHeight=pMaxHeight),this._vBoundaries=o},_updateCache:function(data){this.offset=this.helper.offset(),this._isNumber(data.left)&&(this.position.left=data.left),this._isNumber(data.top)&&(this.position.top=data.top),this._isNumber(data.height)&&(this.size.height=data.height),this._isNumber(data.width)&&(this.size.width=data.width)},_updateRatio:function(data){var cpos=this.position,csize=this.size,a=this.axis;return this._isNumber(data.height)?data.width=data.height*this.aspectRatio:this._isNumber(data.width)&&(data.height=data.width/this.aspectRatio),"sw"===a&&(data.left=cpos.left+(csize.width-data.width),data.top=null),"nw"===a&&(data.top=cpos.top+(csize.height-data.height),data.left=cpos.left+(csize.width-data.width)),data},_respectSize:function(data){var o=this._vBoundaries,a=this.axis,ismaxw=this._isNumber(data.width)&&o.maxWidth&&o.maxWidth<data.width,ismaxh=this._isNumber(data.height)&&o.maxHeight&&o.maxHeight<data.height,isminw=this._isNumber(data.width)&&o.minWidth&&o.minWidth>data.width,isminh=this._isNumber(data.height)&&o.minHeight&&o.minHeight>data.height,dw=this.originalPosition.left+this.originalSize.width,dh=this.originalPosition.top+this.originalSize.height,cw=/sw|nw|w/.test(a),a=/nw|ne|n/.test(a);return isminw&&(data.width=o.minWidth),isminh&&(data.height=o.minHeight),ismaxw&&(data.width=o.maxWidth),ismaxh&&(data.height=o.maxHeight),isminw&&cw&&(data.left=dw-o.minWidth),ismaxw&&cw&&(data.left=dw-o.maxWidth),isminh&&a&&(data.top=dh-o.minHeight),ismaxh&&a&&(data.top=dh-o.maxHeight),data.width||data.height||data.left||!data.top?data.width||data.height||data.top||!data.left||(data.left=null):data.top=null,data},_getPaddingPlusBorderDimensions:function(element){for(var i=0,widths=[],borders=[element.css("borderTopWidth"),element.css("borderRightWidth"),element.css("borderBottomWidth"),element.css("borderLeftWidth")],paddings=[element.css("paddingTop"),element.css("paddingRight"),element.css("paddingBottom"),element.css("paddingLeft")];i<4;i++)widths[i]=parseFloat(borders[i])||0,widths[i]+=parseFloat(paddings[i])||0;return{height:widths[0]+widths[2],width:widths[1]+widths[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var prel,i=0,element=this.helper||this.element;i<this._proportionallyResizeElements.length;i++)prel=this._proportionallyResizeElements[i],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(prel)),prel.css({height:element.height()-this.outerDimensions.height||0,width:element.width()-this.outerDimensions.width||0})},_renderProxy:function(){var el=this.element,o=this.options;this.elementOffset=el.offset(),this._helper?(this.helper=this.helper||$("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++o.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(event,dx){return{width:this.originalSize.width+dx}},w:function(event,dx){var cs=this.originalSize;return{left:this.originalPosition.left+dx,width:cs.width-dx}},n:function(event,dx,dy){var cs=this.originalSize;return{top:this.originalPosition.top+dy,height:cs.height-dy}},s:function(event,dx,dy){return{height:this.originalSize.height+dy}},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]))},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]))}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]),"resize"!==n&&this._trigger(n,event,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),$.ui.plugin.add("resizable","animate",{stop:function(event){var that=$(this).resizable("instance"),o=that.options,pr=that._proportionallyResizeElements,ista=pr.length&&/textarea/i.test(pr[0].nodeName),soffseth=ista&&that._hasScroll(pr[0],"left")?0:that.sizeDiff.height,ista=ista?0:that.sizeDiff.width,ista={width:that.size.width-ista,height:that.size.height-soffseth},soffseth=parseFloat(that.element.css("left"))+(that.position.left-that.originalPosition.left)||null,top=parseFloat(that.element.css("top"))+(that.position.top-that.originalPosition.top)||null;that.element.animate($.extend(ista,top&&soffseth?{top:top,left:soffseth}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseFloat(that.element.css("width")),height:parseFloat(that.element.css("height")),top:parseFloat(that.element.css("top")),left:parseFloat(that.element.css("left"))};pr&&pr.length&&$(pr[0]).css({width:data.width,height:data.height}),that._updateCache(data),that._propagate("resize",event)}})}}),$.ui.plugin.add("resizable","containment",{start:function(){var element,p,cw,ch,that=$(this).resizable("instance"),o=that.options,el=that.element,o=o.containment,el=o instanceof $?o.get(0):/parent/.test(o)?el.parent().get(0):o;el&&(that.containerElement=$(el),/document/.test(o)||o===document?(that.containerOffset={left:0,top:0},that.containerPosition={left:0,top:0},that.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight}):(element=$(el),p=[],$(["Top","Right","Left","Bottom"]).each(function(i,name){p[i]=that._num(element.css("padding"+name))}),that.containerOffset=element.offset(),that.containerPosition=element.position(),that.containerSize={height:element.innerHeight()-p[3],width:element.innerWidth()-p[1]},o=that.containerOffset,ch=that.containerSize.height,cw=that.containerSize.width,cw=that._hasScroll(el,"left")?el.scrollWidth:cw,ch=that._hasScroll(el)?el.scrollHeight:ch,that.parentData={element:el,left:o.left,top:o.top,width:cw,height:ch}))},resize:function(event){var that=$(this).resizable("instance"),o=that.options,co=that.containerOffset,cp=that.position,event=that._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=that.containerElement,continueResize=!0;ce[0]!==document&&/static/.test(ce.css("position"))&&(cop=co),cp.left<(that._helper?co.left:0)&&(that.size.width=that.size.width+(that._helper?that.position.left-co.left:that.position.left-cop.left),event&&(that.size.height=that.size.width/that.aspectRatio,continueResize=!1),that.position.left=o.helper?co.left:0),cp.top<(that._helper?co.top:0)&&(that.size.height=that.size.height+(that._helper?that.position.top-co.top:that.position.top),event&&(that.size.width=that.size.height*that.aspectRatio,continueResize=!1),that.position.top=that._helper?co.top:0),ce=that.containerElement.get(0)===that.element.parent().get(0),o=/relative|absolute/.test(that.containerElement.css("position")),ce&&o?(that.offset.left=that.parentData.left+that.position.left,that.offset.top=that.parentData.top+that.position.top):(that.offset.left=that.element.offset().left,that.offset.top=that.element.offset().top),cp=Math.abs(that.sizeDiff.width+(that._helper?that.offset.left-cop.left:that.offset.left-co.left)),ce=Math.abs(that.sizeDiff.height+(that._helper?that.offset.top-cop.top:that.offset.top-co.top)),cp+that.size.width>=that.parentData.width&&(that.size.width=that.parentData.width-cp,event)&&(that.size.height=that.size.width/that.aspectRatio,continueResize=!1),ce+that.size.height>=that.parentData.height&&(that.size.height=that.parentData.height-ce,event)&&(that.size.width=that.size.height*that.aspectRatio,continueResize=!1),continueResize||(that.position.left=that.prevPosition.left,that.position.top=that.prevPosition.top,that.size.width=that.prevSize.width,that.size.height=that.prevSize.height)},stop:function(){var that=$(this).resizable("instance"),o=that.options,co=that.containerOffset,cop=that.containerPosition,ce=that.containerElement,helper=$(that.helper),ho=helper.offset(),w=helper.outerWidth()-that.sizeDiff.width,helper=helper.outerHeight()-that.sizeDiff.height;that._helper&&!o.animate&&/relative/.test(ce.css("position"))&&$(this).css({left:ho.left-cop.left-co.left,width:w,height:helper}),that._helper&&!o.animate&&/static/.test(ce.css("position"))&&$(this).css({left:ho.left-cop.left-co.left,width:w,height:helper})}}),$.ui.plugin.add("resizable","alsoResize",{start:function(){var o=$(this).resizable("instance").options;$(o.alsoResize).each(function(){var el=$(this);el.data("ui-resizable-alsoresize",{width:parseFloat(el.width()),height:parseFloat(el.height()),left:parseFloat(el.css("left")),top:parseFloat(el.css("top"))})})},resize:function(event,ui){var that=$(this).resizable("instance"),o=that.options,os=that.originalSize,op=that.originalPosition,delta={height:that.size.height-os.height||0,width:that.size.width-os.width||0,top:that.position.top-op.top||0,left:that.position.left-op.left||0};$(o.alsoResize).each(function(){var el=$(this),start=$(this).data("ui-resizable-alsoresize"),style={},css=el.parents(ui.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(css,function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);sum&&0<=sum&&(style[prop]=sum||null)}),el.css(style)})},stop:function(){$(this).removeData("ui-resizable-alsoresize")}}),$.ui.plugin.add("resizable","ghost",{start:function(){var that=$(this).resizable("instance"),cs=that.size;that.ghost=that.originalElement.clone(),that.ghost.css({opacity:.25,display:"block",position:"relative",height:cs.height,width:cs.width,margin:0,left:0,top:0}),that._addClass(that.ghost,"ui-resizable-ghost"),!1!==$.uiBackCompat&&"string"==typeof that.options.ghost&&that.ghost.addClass(this.options.ghost),that.ghost.appendTo(that.helper)},resize:function(){var that=$(this).resizable("instance");that.ghost&&that.ghost.css({position:"relative",height:that.size.height,width:that.size.width})},stop:function(){var that=$(this).resizable("instance");that.ghost&&that.helper&&that.helper.get(0).removeChild(that.ghost.get(0))}}),$.ui.plugin.add("resizable","grid",{resize:function(){var outerDimensions,that=$(this).resizable("instance"),o=that.options,cs=that.size,os=that.originalSize,op=that.originalPosition,a=that.axis,grid="number"==typeof o.grid?[o.grid,o.grid]:o.grid,gridX=grid[0]||1,gridY=grid[1]||1,ox=Math.round((cs.width-os.width)/gridX)*gridX,cs=Math.round((cs.height-os.height)/gridY)*gridY,newWidth=os.width+ox,newHeight=os.height+cs,isMaxWidth=o.maxWidth&&o.maxWidth<newWidth,isMaxHeight=o.maxHeight&&o.maxHeight<newHeight,isMinWidth=o.minWidth&&o.minWidth>newWidth,isMinHeight=o.minHeight&&o.minHeight>newHeight;o.grid=grid,isMinWidth&&(newWidth+=gridX),isMinHeight&&(newHeight+=gridY),isMaxWidth&&(newWidth-=gridX),isMaxHeight&&(newHeight-=gridY),/^(se|s|e)$/.test(a)?(that.size.width=newWidth,that.size.height=newHeight):/^(ne)$/.test(a)?(that.size.width=newWidth,that.size.height=newHeight,that.position.top=op.top-cs):/^(sw)$/.test(a)?(that.size.width=newWidth,that.size.height=newHeight,that.position.left=op.left-ox):((newHeight-gridY<=0||newWidth-gridX<=0)&&(outerDimensions=that._getPaddingPlusBorderDimensions(this)),0<newHeight-gridY?(that.size.height=newHeight,that.position.top=op.top-cs):(newHeight=gridY-outerDimensions.height,that.size.height=newHeight,that.position.top=op.top+os.height-newHeight),0<newWidth-gridX?(that.size.width=newWidth,that.position.left=op.left-ox):(newWidth=gridX-outerDimensions.width,that.size.width=newWidth,that.position.left=op.left+os.width-newWidth))}}),$.ui.resizable,$.widget("ui.dialog",{version:"1.13.2",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(pos){var topOffset=$(this).css(pos).offset().top;topOffset<0&&$(this).css("top",pos.top-topOffset)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&$.fn.draggable&&this._makeDraggable(),this.options.resizable&&$.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var element=this.options.appendTo;return element&&(element.jquery||element.nodeType)?$(element):this.document.find(element||"body").eq(0)},_destroy:function(){var next,originalPosition=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(next=originalPosition.parent.children().eq(originalPosition.index)).length&&next[0]!==this.element[0]?next.before(this.element):originalPosition.parent.append(this.element)},widget:function(){return this.uiDialog},disable:$.noop,enable:$.noop,close:function(event){var that=this;this._isOpen&&!1!==this._trigger("beforeClose",event)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||$.ui.safeBlur($.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){that._trigger("close",event)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(event,silent){var moved=!1,zIndices=this.uiDialog.siblings(".ui-front:visible").map(function(){return+$(this).css("z-index")}).get(),zIndices=Math.max.apply(null,zIndices);return zIndices>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",zIndices+1),moved=!0),moved&&!silent&&this._trigger("focus",event),moved},open:function(){var that=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=$($.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){that._focusTabbable(),that._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var hasFocus=this._focusedElement;(hasFocus=(hasFocus=(hasFocus=(hasFocus=(hasFocus=hasFocus||this.element.find("[autofocus]")).length?hasFocus:this.element.find(":tabbable")).length?hasFocus:this.uiDialogButtonPane.find(":tabbable")).length?hasFocus:this.uiDialogTitlebarClose.filter(":tabbable")).length?hasFocus:this.uiDialog).eq(0).trigger("focus")},_restoreTabbableFocus:function(){var activeElement=$.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===activeElement||$.contains(this.uiDialog[0],activeElement)||this._focusTabbable()},_keepFocus:function(event){event.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=$("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(event){var tabbables,first,last;this.options.closeOnEscape&&!event.isDefaultPrevented()&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE?(event.preventDefault(),this.close(event)):event.keyCode!==$.ui.keyCode.TAB||event.isDefaultPrevented()||(tabbables=this.uiDialog.find(":tabbable"),first=tabbables.first(),last=tabbables.last(),event.target!==last[0]&&event.target!==this.uiDialog[0]||event.shiftKey?event.target!==first[0]&&event.target!==this.uiDialog[0]||!event.shiftKey||(this._delay(function(){last.trigger("focus")}),event.preventDefault()):(this._delay(function(){first.trigger("focus")}),event.preventDefault()))},mousedown:function(event){this._moveToTop(event)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var uiDialogTitle;this.uiDialogTitlebar=$("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(event){$(event.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=$("<button type='button'></button>").button({label:$("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(event){event.preventDefault(),this.close(event)}}),uiDialogTitle=$("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(uiDialogTitle,"ui-dialog-title"),this._title(uiDialogTitle),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":uiDialogTitle.attr("id")})},_title:function(title){this.options.title?title.text(this.options.title):title.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=$("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=$("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var that=this,buttons=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),$.isEmptyObject(buttons)||Array.isArray(buttons)&&!buttons.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):($.each(buttons,function(name,props){var click;props=$.extend({type:"button"},props="function"==typeof props?{click:props,text:name}:props),click=props.click,name={icon:props.icon,iconPosition:props.iconPosition,showLabel:props.showLabel,icons:props.icons,text:props.text},delete props.click,delete props.icon,delete props.iconPosition,delete props.showLabel,delete props.icons,"boolean"==typeof props.text&&delete props.text,$("<button></button>",props).button(name).appendTo(that.uiButtonSet).on("click",function(){click.apply(that.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var that=this,options=this.options;function filteredUi(ui){return{position:ui.position,offset:ui.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(event,ui){that._addClass($(this),"ui-dialog-dragging"),that._blockFrames(),that._trigger("dragStart",event,filteredUi(ui))},drag:function(event,ui){that._trigger("drag",event,filteredUi(ui))},stop:function(event,ui){var left=ui.offset.left-that.document.scrollLeft(),top=ui.offset.top-that.document.scrollTop();options.position={my:"left top",at:"left"+(0<=left?"+":"")+left+" top"+(0<=top?"+":"")+top,of:that.window},that._removeClass($(this),"ui-dialog-dragging"),that._unblockFrames(),that._trigger("dragStop",event,filteredUi(ui))}})},_makeResizable:function(){var that=this,options=this.options,handles=options.resizable,position=this.uiDialog.css("position"),handles="string"==typeof handles?handles:"n,e,s,w,se,sw,ne,nw";function filteredUi(ui){return{originalPosition:ui.originalPosition,originalSize:ui.originalSize,position:ui.position,size:ui.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:options.maxWidth,maxHeight:options.maxHeight,minWidth:options.minWidth,minHeight:this._minHeight(),handles:handles,start:function(event,ui){that._addClass($(this),"ui-dialog-resizing"),that._blockFrames(),that._trigger("resizeStart",event,filteredUi(ui))},resize:function(event,ui){that._trigger("resize",event,filteredUi(ui))},stop:function(event,ui){var offset=that.uiDialog.offset(),left=offset.left-that.document.scrollLeft(),offset=offset.top-that.document.scrollTop();options.height=that.uiDialog.height(),options.width=that.uiDialog.width(),options.position={my:"left top",at:"left"+(0<=left?"+":"")+left+" top"+(0<=offset?"+":"")+offset,of:that.window},that._removeClass($(this),"ui-dialog-resizing"),that._unblockFrames(),that._trigger("resizeStop",event,filteredUi(ui))}}).css("position",position)},_trackFocus:function(){this._on(this.widget(),{focusin:function(event){this._makeFocusTarget(),this._focusedElement=$(event.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var instances=this._trackingInstances(),exists=$.inArray(this,instances);-1!==exists&&instances.splice(exists,1)},_trackingInstances:function(){var instances=this.document.data("ui-dialog-instances");return instances||this.document.data("ui-dialog-instances",instances=[]),instances},_minHeight:function(){var options=this.options;return"auto"===options.height?options.minHeight:Math.min(options.minHeight,options.height)},_position:function(){var isVisible=this.uiDialog.is(":visible");isVisible||this.uiDialog.show(),this.uiDialog.position(this.options.position),isVisible||this.uiDialog.hide()},_setOptions:function(options){var that=this,resize=!1,resizableOptions={};$.each(options,function(key,value){that._setOption(key,value),key in that.sizeRelatedOptions&&(resize=!0),key in that.resizableRelatedOptions&&(resizableOptions[key]=value)}),resize&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",resizableOptions)},_setOption:function(key,value){var isDraggable,uiDialog=this.uiDialog;"disabled"!==key&&(this._super(key,value),"appendTo"===key&&this.uiDialog.appendTo(this._appendTo()),"buttons"===key&&this._createButtons(),"closeText"===key&&this.uiDialogTitlebarClose.button({label:$("<a>").text(""+this.options.closeText).html()}),"draggable"===key&&((isDraggable=uiDialog.is(":data(ui-draggable)"))&&!value&&uiDialog.draggable("destroy"),!isDraggable)&&value&&this._makeDraggable(),"position"===key&&this._position(),"resizable"===key&&((isDraggable=uiDialog.is(":data(ui-resizable)"))&&!value&&uiDialog.resizable("destroy"),isDraggable&&"string"==typeof value&&uiDialog.resizable("option","handles",value),isDraggable||!1===value||this._makeResizable()),"title"===key)&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))},_size:function(){var nonContentHeight,minContentHeight,maxContentHeight,options=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),options.minWidth>options.width&&(options.width=options.minWidth),nonContentHeight=this.uiDialog.css({height:"auto",width:options.width}).outerHeight(),minContentHeight=Math.max(0,options.minHeight-nonContentHeight),maxContentHeight="number"==typeof options.maxHeight?Math.max(0,options.maxHeight-nonContentHeight):"none","auto"===options.height?this.element.css({minHeight:minContentHeight,maxHeight:maxContentHeight,height:"auto"}):this.element.height(Math.max(0,options.height-nonContentHeight)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var iframe=$(this);return $("<div>").css({position:"absolute",width:iframe.outerWidth(),height:iframe.outerHeight()}).appendTo(iframe.parent()).offset(iframe.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(event){return!!$(event.target).closest(".ui-dialog").length||!!$(event.target).closest(".ui-datepicker").length},_createOverlay:function(){var jqMinor,isOpening;this.options.modal&&(jqMinor=$.fn.jquery.substring(0,4),isOpening=!0,this._delay(function(){isOpening=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(event){var instance;isOpening||(instance=this._trackingInstances()[0])._allowInteraction(event)||(event.preventDefault(),instance._focusTabbable(),"3.4."!==jqMinor&&"3.5."!==jqMinor)||instance._delay(instance._restoreTabbableFocus)}.bind(this)),this.overlay=$("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1))},_destroyOverlay:function(){var overlays;this.options.modal&&this.overlay&&((overlays=this.document.data("ui-dialog-overlays")-1)?this.document.data("ui-dialog-overlays",overlays):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null)}}),!1!==$.uiBackCompat&&$.widget("ui.dialog",$.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(key,value){"dialogClass"===key&&this.uiDialog.removeClass(this.options.dialogClass).addClass(value),this._superApply(arguments)}}),$.ui.dialog;function isOverAxis(x,reference,size){return reference<=x&&x<reference+size}$.widget("ui.droppable",{version:"1.13.2",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var proportions,o=this.options,accept=o.accept;this.isover=!1,this.isout=!0,this.accept="function"==typeof accept?accept:function(d){return d.is(accept)},this.proportions=function(){if(!arguments.length)return proportions=proportions||{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};proportions=arguments[0]},this._addToManager(o.scope),o.addClasses&&this._addClass("ui-droppable")},_addToManager:function(scope){$.ui.ddmanager.droppables[scope]=$.ui.ddmanager.droppables[scope]||[],$.ui.ddmanager.droppables[scope].push(this)},_splice:function(drop){for(var i=0;i<drop.length;i++)drop[i]===this&&drop.splice(i,1)},_destroy:function(){var drop=$.ui.ddmanager.droppables[this.options.scope];this._splice(drop)},_setOption:function(key,value){var drop;"accept"===key?this.accept="function"==typeof value?value:function(d){return d.is(value)}:"scope"===key&&(drop=$.ui.ddmanager.droppables[this.options.scope],this._splice(drop),this._addToManager(value)),this._super(key,value)},_activate:function(event){var draggable=$.ui.ddmanager.current;this._addActiveClass(),draggable&&this._trigger("activate",event,this.ui(draggable))},_deactivate:function(event){var draggable=$.ui.ddmanager.current;this._removeActiveClass(),draggable&&this._trigger("deactivate",event,this.ui(draggable))},_over:function(event){var draggable=$.ui.ddmanager.current;draggable&&(draggable.currentItem||draggable.element)[0]!==this.element[0]&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this._addHoverClass(),this._trigger("over",event,this.ui(draggable)))},_out:function(event){var draggable=$.ui.ddmanager.current;draggable&&(draggable.currentItem||draggable.element)[0]!==this.element[0]&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this._removeHoverClass(),this._trigger("out",event,this.ui(draggable)))},_drop:function(event,custom){var draggable=custom||$.ui.ddmanager.current,childrenIntersection=!1;return!(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]||(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var inst=$(this).droppable("instance");if(inst.options.greedy&&!inst.options.disabled&&inst.options.scope===draggable.options.scope&&inst.accept.call(inst.element[0],draggable.currentItem||draggable.element)&&$.ui.intersect(draggable,$.extend(inst,{offset:inst.element.offset()}),inst.options.tolerance,event))return!(childrenIntersection=!0)}),childrenIntersection)||!this.accept.call(this.element[0],draggable.currentItem||draggable.element))&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",event,this.ui(draggable)),this.element)},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),$.ui.intersect=function(draggable,droppable,toleranceMode,event){if(!droppable.offset)return!1;var x1=(draggable.positionAbs||draggable.position.absolute).left+draggable.margins.left,y1=(draggable.positionAbs||draggable.position.absolute).top+draggable.margins.top,x2=x1+draggable.helperProportions.width,y2=y1+draggable.helperProportions.height,l=droppable.offset.left,t=droppable.offset.top,r=l+droppable.proportions().width,b=t+droppable.proportions().height;switch(toleranceMode){case"fit":return l<=x1&&x2<=r&&t<=y1&&y2<=b;case"intersect":return l<x1+draggable.helperProportions.width/2&&x2-draggable.helperProportions.width/2<r&&t<y1+draggable.helperProportions.height/2&&y2-draggable.helperProportions.height/2<b;case"pointer":return isOverAxis(event.pageY,t,droppable.proportions().height)&&isOverAxis(event.pageX,l,droppable.proportions().width);case"touch":return(t<=y1&&y1<=b||t<=y2&&y2<=b||y1<t&&b<y2)&&(l<=x1&&x1<=r||l<=x2&&x2<=r||x1<l&&r<x2);default:return!1}},!($.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,event){var i,j,m=$.ui.ddmanager.droppables[t.options.scope]||[],type=event?event.type:null,list=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();droppablesLoop:for(i=0;i<m.length;i++)if(!(m[i].options.disabled||t&&!m[i].accept.call(m[i].element[0],t.currentItem||t.element))){for(j=0;j<list.length;j++)if(list[j]===m[i].element[0]){m[i].proportions().height=0;continue droppablesLoop}m[i].visible="none"!==m[i].element.css("display"),m[i].visible&&("mousedown"===type&&m[i]._activate.call(m[i],event),m[i].offset=m[i].element.offset(),m[i].proportions({width:m[i].element[0].offsetWidth,height:m[i].element[0].offsetHeight}))}},drop:function(draggable,event){var dropped=!1;return $.each(($.ui.ddmanager.droppables[draggable.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&$.ui.intersect(draggable,this,this.options.tolerance,event)&&(dropped=this._drop.call(this,event)||dropped),!this.options.disabled)&&this.visible&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,event))}),dropped},dragStart:function(draggable,event){draggable.element.parentsUntil("body").on("scroll.droppable",function(){draggable.options.refreshPositions||$.ui.ddmanager.prepareOffsets(draggable,event)})},drag:function(draggable,event){draggable.options.refreshPositions&&$.ui.ddmanager.prepareOffsets(draggable,event),$.each($.ui.ddmanager.droppables[draggable.options.scope]||[],function(){var parentInstance,scope,parent,intersects;this.options.disabled||this.greedyChild||!this.visible||(intersects=!(intersects=$.ui.intersect(draggable,this,this.options.tolerance,event))&&this.isover?"isout":intersects&&!this.isover?"isover":null)&&(this.options.greedy&&(scope=this.options.scope,(parent=this.element.parents(":data(ui-droppable)").filter(function(){return $(this).droppable("instance").options.scope===scope})).length)&&((parentInstance=$(parent[0]).droppable("instance")).greedyChild="isover"===intersects),parentInstance&&"isover"===intersects&&(parentInstance.isover=!1,parentInstance.isout=!0,parentInstance._out.call(parentInstance,event)),this[intersects]=!0,this["isout"===intersects?"isover":"isout"]=!1,this["isover"===intersects?"_over":"_out"].call(this,event),parentInstance)&&"isout"===intersects&&(parentInstance.isout=!1,parentInstance.isover=!0,parentInstance._over.call(parentInstance,event))})},dragStop:function(draggable,event){draggable.element.parentsUntil("body").off("scroll.droppable"),draggable.options.refreshPositions||$.ui.ddmanager.prepareOffsets(draggable,event)}})!==$.uiBackCompat&&$.widget("ui.droppable",$.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});$.ui.droppable,$.widget("ui.progressbar",{version:"1.13.2",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=$("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(newValue){if(void 0===newValue)return this.options.value;this.options.value=this._constrainedValue(newValue),this._refreshValue()},_constrainedValue:function(newValue){return void 0===newValue&&(newValue=this.options.value),this.indeterminate=!1===newValue,"number"!=typeof newValue&&(newValue=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,newValue))},_setOptions:function(options){var value=options.value;delete options.value,this._super(options),this.options.value=this._constrainedValue(value),this._refreshValue()},_setOption:function(key,value){"max"===key&&(value=Math.max(this.min,value)),this._super(key,value)},_setOptionDisabled:function(value){this._super(value),this.element.attr("aria-disabled",value),this._toggleClass(null,"ui-state-disabled",!!value)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var value=this.options.value,percentage=this._percentage();this.valueDiv.toggle(this.indeterminate||value>this.min).width(percentage.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,value===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=$("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":value}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==value&&(this.oldValue=value,this._trigger("change")),value===this.options.max&&this._trigger("complete")}}),$.widget("ui.selectable",$.ui.mouse,{version:"1.13.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var that=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){that.elementPos=$(that.element[0]).offset(),that.selectees=$(that.options.filter,that.element[0]),that._addClass(that.selectees,"ui-selectee"),that.selectees.each(function(){var $this=$(this),selecteeOffset=$this.offset(),selecteeOffset={left:selecteeOffset.left-that.elementPos.left,top:selecteeOffset.top-that.elementPos.top};$.data(this,"selectable-item",{element:this,$element:$this,left:selecteeOffset.left,top:selecteeOffset.top,right:selecteeOffset.left+$this.outerWidth(),bottom:selecteeOffset.top+$this.outerHeight(),startselected:!1,selected:$this.hasClass("ui-selected"),selecting:$this.hasClass("ui-selecting"),unselecting:$this.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=$("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(event){var that=this,options=this.options;this.opos=[event.pageX,event.pageY],this.elementPos=$(this.element[0]).offset(),this.options.disabled||(this.selectees=$(options.filter,this.element[0]),this._trigger("start",event),$(options.appendTo).append(this.helper),this.helper.css({left:event.pageX,top:event.pageY,width:0,height:0}),options.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var selectee=$.data(this,"selectable-item");selectee.startselected=!0,event.metaKey||event.ctrlKey||(that._removeClass(selectee.$element,"ui-selected"),selectee.selected=!1,that._addClass(selectee.$element,"ui-unselecting"),selectee.unselecting=!0,that._trigger("unselecting",event,{unselecting:selectee.element}))}),$(event.target).parents().addBack().each(function(){var doSelect,selectee=$.data(this,"selectable-item");if(selectee)return doSelect=!event.metaKey&&!event.ctrlKey||!selectee.$element.hasClass("ui-selected"),that._removeClass(selectee.$element,doSelect?"ui-unselecting":"ui-selected")._addClass(selectee.$element,doSelect?"ui-selecting":"ui-unselecting"),selectee.unselecting=!doSelect,selectee.selecting=doSelect,(selectee.selected=doSelect)?that._trigger("selecting",event,{selecting:selectee.element}):that._trigger("unselecting",event,{unselecting:selectee.element}),!1}))},_mouseDrag:function(event){var tmp,that,options,x1,y1,x2,y2;if(this.dragged=!0,!this.options.disabled)return options=(that=this).options,x1=this.opos[0],y1=this.opos[1],x2=event.pageX,y2=event.pageY,x2<x1&&(tmp=x2,x2=x1,x1=tmp),y2<y1&&(tmp=y2,y2=y1,y1=tmp),this.helper.css({left:x1,top:y1,width:x2-x1,height:y2-y1}),this.selectees.each(function(){var selectee=$.data(this,"selectable-item"),hit=!1,offset={};selectee&&selectee.element!==that.element[0]&&(offset.left=selectee.left+that.elementPos.left,offset.right=selectee.right+that.elementPos.left,offset.top=selectee.top+that.elementPos.top,offset.bottom=selectee.bottom+that.elementPos.top,"touch"===options.tolerance?hit=!(x2<offset.left||offset.right<x1||y2<offset.top||offset.bottom<y1):"fit"===options.tolerance&&(hit=x1<offset.left&&offset.right<x2&&y1<offset.top&&offset.bottom<y2),hit?(selectee.selected&&(that._removeClass(selectee.$element,"ui-selected"),selectee.selected=!1),selectee.unselecting&&(that._removeClass(selectee.$element,"ui-unselecting"),selectee.unselecting=!1),selectee.selecting||(that._addClass(selectee.$element,"ui-selecting"),selectee.selecting=!0,that._trigger("selecting",event,{selecting:selectee.element}))):(selectee.selecting&&((event.metaKey||event.ctrlKey)&&selectee.startselected?(that._removeClass(selectee.$element,"ui-selecting"),selectee.selecting=!1,that._addClass(selectee.$element,"ui-selected"),selectee.selected=!0):(that._removeClass(selectee.$element,"ui-selecting"),selectee.selecting=!1,selectee.startselected&&(that._addClass(selectee.$element,"ui-unselecting"),selectee.unselecting=!0),that._trigger("unselecting",event,{unselecting:selectee.element}))),!selectee.selected||event.metaKey||event.ctrlKey||selectee.startselected||(that._removeClass(selectee.$element,"ui-selected"),selectee.selected=!1,that._addClass(selectee.$element,"ui-unselecting"),selectee.unselecting=!0,that._trigger("unselecting",event,{unselecting:selectee.element}))))}),!1},_mouseStop:function(event){var that=this;return this.dragged=!1,$(".ui-unselecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");that._removeClass(selectee.$element,"ui-unselecting"),selectee.unselecting=!1,selectee.startselected=!1,that._trigger("unselected",event,{unselected:selectee.element})}),$(".ui-selecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");that._removeClass(selectee.$element,"ui-selecting")._addClass(selectee.$element,"ui-selected"),selectee.selecting=!1,selectee.selected=!0,selectee.startselected=!0,that._trigger("selected",event,{selected:selectee.element})}),this._trigger("stop",event),this.helper.remove(),!1}}),$.widget("ui.selectmenu",[$.ui.formResetMixin,{version:"1.13.2",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var selectmenuId=this.element.uniqueId().attr("id");this.ids={element:selectmenuId,button:selectmenuId+"-button",menu:selectmenuId+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=$()},_drawButton:function(){var icon,that=this,item=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(event){this.button.trigger("focus"),event.preventDefault()}}),this.element.hide(),this.button=$("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),icon=$("<span>").appendTo(this.button),this._addClass(icon,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(item).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){that._rendered||that._refreshMenu()})},_drawMenu:function(){var that=this;this.menu=$("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=$("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(event,ui){event.preventDefault(),that._setSelection(),that._select(ui.item.data("ui-selectmenu-item"),event)},focus:function(event,ui){ui=ui.item.data("ui-selectmenu-item");null!=that.focusIndex&&ui.index!==that.focusIndex&&(that._trigger("focus",event,{item:ui}),that.isOpen||that._select(ui,event)),that.focusIndex=ui.index,that.button.attr("aria-activedescendant",that.menuItems.eq(ui.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var options=this.element.find("option");this.menu.empty(),this._parseOptions(options),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,options.length&&(options=this._getSelectedItem(),this.menuInstance.focus(null,options),this._setAria(options.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(event){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",event)))},_position:function(){this.menuWrap.position($.extend({of:this.button},this.options.position))},close:function(event){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",event))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(item){var buttonItem=$("<span>");return this._setText(buttonItem,item.label),this._addClass(buttonItem,"ui-selectmenu-text"),buttonItem},_renderMenu:function(ul,items){var that=this,currentOptgroup="";$.each(items,function(index,item){var li;item.optgroup!==currentOptgroup&&(li=$("<li>",{text:item.optgroup}),that._addClass(li,"ui-selectmenu-optgroup","ui-menu-divider"+(item.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),li.appendTo(ul),currentOptgroup=item.optgroup),that._renderItemData(ul,item)})},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-selectmenu-item",item)},_renderItem:function(ul,item){var li=$("<li>"),wrapper=$("<div>",{title:item.element.attr("title")});return item.disabled&&this._addClass(li,null,"ui-state-disabled"),this._setText(wrapper,item.label),li.append(wrapper).appendTo(ul)},_setText:function(element,value){value?element.text(value):element.html("&#160;")},_move:function(direction,event){var item,filter=".ui-menu-item";this.isOpen?item=this.menuItems.eq(this.focusIndex).parent("li"):(item=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),filter+=":not(.ui-state-disabled)"),(item="first"===direction||"last"===direction?item["first"===direction?"prevAll":"nextAll"](filter).eq(-1):item[direction+"All"](filter).eq(0)).length&&this.menuInstance.focus(event,item)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(event){this[this.isOpen?"close":"open"](event)},_setSelection:function(){var selection;this.range&&(window.getSelection?((selection=window.getSelection()).removeAllRanges(),selection.addRange(this.range)):this.range.select(),this.button.trigger("focus"))},_documentClick:{mousedown:function(event){!this.isOpen||$(event.target).closest(".ui-selectmenu-menu, #"+$.escapeSelector(this.ids.button)).length||this.close(event)}},_buttonEvents:{mousedown:function(){var selection;window.getSelection?(selection=window.getSelection()).rangeCount&&(this.range=selection.getRangeAt(0)):this.range=document.selection.createRange()},click:function(event){this._setSelection(),this._toggle(event)},keydown:function(event){var preventDefault=!0;switch(event.keyCode){case $.ui.keyCode.TAB:case $.ui.keyCode.ESCAPE:this.close(event),preventDefault=!1;break;case $.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(event);break;case $.ui.keyCode.UP:event.altKey?this._toggle(event):this._move("prev",event);break;case $.ui.keyCode.DOWN:event.altKey?this._toggle(event):this._move("next",event);break;case $.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(event):this._toggle(event);break;case $.ui.keyCode.LEFT:this._move("prev",event);break;case $.ui.keyCode.RIGHT:this._move("next",event);break;case $.ui.keyCode.HOME:case $.ui.keyCode.PAGE_UP:this._move("first",event);break;case $.ui.keyCode.END:case $.ui.keyCode.PAGE_DOWN:this._move("last",event);break;default:this.menu.trigger(event),preventDefault=!1}preventDefault&&event.preventDefault()}},_selectFocusedItem:function(event){var item=this.menuItems.eq(this.focusIndex).parent("li");item.hasClass("ui-state-disabled")||this._select(item.data("ui-selectmenu-item"),event)},_select:function(item,event){var oldIndex=this.element[0].selectedIndex;this.element[0].selectedIndex=item.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(item)),this._setAria(item),this._trigger("select",event,{item:item}),item.index!==oldIndex&&this._trigger("change",event,{item:item}),this.close(event)},_setAria:function(item){item=this.menuItems.eq(item.index).attr("id");this.button.attr({"aria-labelledby":item,"aria-activedescendant":item}),this.menu.attr("aria-activedescendant",item)},_setOption:function(key,value){var icon;"icons"===key&&(icon=this.button.find("span.ui-icon"),this._removeClass(icon,null,this.options.icons.button)._addClass(icon,null,value.button)),this._super(key,value),"appendTo"===key&&this.menuWrap.appendTo(this._appendTo()),"width"===key&&this._resizeButton()},_setOptionDisabled:function(value){this._super(value),this.menuInstance.option("disabled",value),this.button.attr("aria-disabled",value),this._toggleClass(this.button,null,"ui-state-disabled",value),this.element.prop("disabled",value),value?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var element=this.options.appendTo;return element=(element=(element=element&&(element.jquery||element.nodeType?$(element):this.document.find(element).eq(0)))&&element[0]?element:this.element.closest(".ui-front, dialog")).length?element:this.document[0].body},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var width=this.options.width;!1===width?this.button.css("width",""):(null===width&&(width=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(width))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var options=this._super();return options.disabled=this.element.prop("disabled"),options},_parseOptions:function(options){var that=this,data=[];options.each(function(index,item){item.hidden||data.push(that._parseOption($(item),index))}),this.items=data},_parseOption:function(option,index){var optgroup=option.parent("optgroup");return{element:option,index:index,value:option.val(),label:option.text(),optgroup:optgroup.attr("label")||"",disabled:optgroup.prop("disabled")||option.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),$.widget("ui.slider",$.ui.mouse,{version:"1.13.2",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var i,options=this.options,existingHandles=this.element.find(".ui-slider-handle"),handles=[],handleCount=options.values&&options.values.length||1;for(existingHandles.length>handleCount&&(existingHandles.slice(handleCount).remove(),existingHandles=existingHandles.slice(0,handleCount)),i=existingHandles.length;i<handleCount;i++)handles.push("<span tabindex='0'></span>");this.handles=existingHandles.add($(handles.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(i){$(this).data("ui-slider-handle-index",i).attr("tabIndex",0)})},_createRange:function(){var options=this.options;options.range?(!0===options.range&&(options.values?options.values.length&&2!==options.values.length?options.values=[options.values[0],options.values[0]]:Array.isArray(options.values)&&(options.values=options.values.slice(0)):options.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=$("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==options.range&&"max"!==options.range||this._addClass(this.range,"ui-slider-range-"+options.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(event){var normValue,distance,closestHandle,index,position,mouseOverHandle,that=this,o=this.options;return!o.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position),distance=this._valueMax()-this._valueMin()+1,this.handles.each(function(i){var thisDistance=Math.abs(normValue-that.values(i));(thisDistance<distance||distance===thisDistance&&(i===that._lastChangedValue||that.values(i)===o.min))&&(distance=thisDistance,closestHandle=$(this),index=i)}),!1!==this._start(event,index))&&(this._mouseSliding=!0,this._handleIndex=index,this._addClass(closestHandle,null,"ui-state-active"),closestHandle.trigger("focus"),position=closestHandle.offset(),mouseOverHandle=!$(event.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-position.left-closestHandle.width()/2,top:event.pageY-position.top-closestHandle.height()/2-(parseInt(closestHandle.css("borderTopWidth"),10)||0)-(parseInt(closestHandle.css("borderBottomWidth"),10)||0)+(parseInt(closestHandle.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(event,index,normValue),this._animateOff=!0)},_mouseStart:function(){return!0},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},position=this._normValueFromMouse(position);return this._slide(event,this._handleIndex,position),!1},_mouseStop:function(event){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(event,this._handleIndex),this._change(event,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(position){var pixelTotal,position="horizontal"===this.orientation?(pixelTotal=this.elementSize.width,position.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(pixelTotal=this.elementSize.height,position.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),position=position/pixelTotal;return(position=1<position?1:position)<0&&(position=0),"vertical"===this.orientation&&(position=1-position),pixelTotal=this._valueMax()-this._valueMin(),position=this._valueMin()+position*pixelTotal,this._trimAlignValue(position)},_uiHash:function(index,value,values){var uiHash={handle:this.handles[index],handleIndex:index,value:void 0!==value?value:this.value()};return this._hasMultipleValues()&&(uiHash.value=void 0!==value?value:this.values(index),uiHash.values=values||this.values()),uiHash},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(event,index){return this._trigger("start",event,this._uiHash(index))},_slide:function(event,index,newVal){var otherVal,currentValue=this.value(),newValues=this.values();this._hasMultipleValues()&&(otherVal=this.values(index?0:1),currentValue=this.values(index),2===this.options.values.length&&!0===this.options.range&&(newVal=0===index?Math.min(otherVal,newVal):Math.max(otherVal,newVal)),newValues[index]=newVal),newVal!==currentValue&&!1!==this._trigger("slide",event,this._uiHash(index,newVal,newValues))&&(this._hasMultipleValues()?this.values(index,newVal):this.value(newVal))},_stop:function(event,index){this._trigger("stop",event,this._uiHash(index))},_change:function(event,index){this._keySliding||this._mouseSliding||(this._lastChangedValue=index,this._trigger("change",event,this._uiHash(index)))},value:function(newValue){if(!arguments.length)return this._value();this.options.value=this._trimAlignValue(newValue),this._refreshValue(),this._change(null,0)},values:function(index,newValue){var vals,newValues,i;if(1<arguments.length)this.options.values[index]=this._trimAlignValue(newValue),this._refreshValue(),this._change(null,index);else{if(!arguments.length)return this._values();if(!Array.isArray(index))return this._hasMultipleValues()?this._values(index):this.value();for(vals=this.options.values,newValues=index,i=0;i<vals.length;i+=1)vals[i]=this._trimAlignValue(newValues[i]),this._change(null,i);this._refreshValue()}},_setOption:function(key,value){var i,valsLength=0;switch("range"===key&&!0===this.options.range&&("min"===value?(this.options.value=this._values(0),this.options.values=null):"max"===value&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(valsLength=this.options.values.length),this._super(key,value),key){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(value),this.handles.css("horizontal"===value?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=valsLength-1;0<=i;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(value){this._super(value),this._toggleClass(null,"ui-state-disabled",!!value)},_value:function(){var val=this.options.value;return this._trimAlignValue(val)},_values:function(index){var vals,i;if(arguments.length)return index=this.options.values[index],this._trimAlignValue(index);if(this._hasMultipleValues()){for(vals=this.options.values.slice(),i=0;i<vals.length;i+=1)vals[i]=this._trimAlignValue(vals[i]);return vals}return[]},_trimAlignValue:function(val){var step,alignValue;return val<=this._valueMin()?this._valueMin():val>=this._valueMax()?this._valueMax():(step=0<this.options.step?this.options.step:1,alignValue=val-(val=(val-this._valueMin())%step),2*Math.abs(val)>=step&&(alignValue+=0<val?step:-step),parseFloat(alignValue.toFixed(5)))},_calculateNewMax:function(){var max=this.options.max,min=this._valueMin(),step=this.options.step;(max=Math.round((max-min)/step)*step+min)>this.options.max&&(max-=step),this.max=parseFloat(max.toFixed(this._precision()))},_precision:function(){var precision=this._precisionOf(this.options.step);return precision=null!==this.options.min?Math.max(precision,this._precisionOf(this.options.min)):precision},_precisionOf:function(num){var num=num.toString(),decimal=num.indexOf(".");return-1===decimal?0:num.length-decimal-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(orientation){"vertical"===orientation&&this.range.css({width:"",left:""}),"horizontal"===orientation&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var lastValPercent,valPercent,value,valueMin,valueMax,oRange=this.options.range,o=this.options,that=this,animate=!this._animateOff&&o.animate,_set={};this._hasMultipleValues()?this.handles.each(function(i){valPercent=(that.values(i)-that._valueMin())/(that._valueMax()-that._valueMin())*100,_set["horizontal"===that.orientation?"left":"bottom"]=valPercent+"%",$(this).stop(1,1)[animate?"animate":"css"](_set,o.animate),!0===that.options.range&&("horizontal"===that.orientation?(0===i&&that.range.stop(1,1)[animate?"animate":"css"]({left:valPercent+"%"},o.animate),1===i&&that.range[animate?"animate":"css"]({width:valPercent-lastValPercent+"%"},{queue:!1,duration:o.animate})):(0===i&&that.range.stop(1,1)[animate?"animate":"css"]({bottom:valPercent+"%"},o.animate),1===i&&that.range[animate?"animate":"css"]({height:valPercent-lastValPercent+"%"},{queue:!1,duration:o.animate}))),lastValPercent=valPercent}):(value=this.value(),valueMin=this._valueMin(),valueMax=this._valueMax(),valPercent=valueMax!==valueMin?(value-valueMin)/(valueMax-valueMin)*100:0,_set["horizontal"===this.orientation?"left":"bottom"]=valPercent+"%",this.handle.stop(1,1)[animate?"animate":"css"](_set,o.animate),"min"===oRange&&"horizontal"===this.orientation&&this.range.stop(1,1)[animate?"animate":"css"]({width:valPercent+"%"},o.animate),"max"===oRange&&"horizontal"===this.orientation&&this.range.stop(1,1)[animate?"animate":"css"]({width:100-valPercent+"%"},o.animate),"min"===oRange&&"vertical"===this.orientation&&this.range.stop(1,1)[animate?"animate":"css"]({height:valPercent+"%"},o.animate),"max"===oRange&&"vertical"===this.orientation&&this.range.stop(1,1)[animate?"animate":"css"]({height:100-valPercent+"%"},o.animate))},_handleEvents:{keydown:function(event){var curVal,newVal,step,index=$(event.target).data("ui-slider-handle-index");switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(event.preventDefault(),this._keySliding||(this._keySliding=!0,this._addClass($(event.target),null,"ui-state-active"),!1!==this._start(event,index)))break;return}switch(step=this.options.step,curVal=newVal=this._hasMultipleValues()?this.values(index):this.value(),event.keyCode){case $.ui.keyCode.HOME:newVal=this._valueMin();break;case $.ui.keyCode.END:newVal=this._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=this._trimAlignValue(curVal+(this._valueMax()-this._valueMin())/this.numPages);break;case $.ui.keyCode.PAGE_DOWN:newVal=this._trimAlignValue(curVal-(this._valueMax()-this._valueMin())/this.numPages);break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===this._valueMax())return;newVal=this._trimAlignValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===this._valueMin())return;newVal=this._trimAlignValue(curVal-step)}this._slide(event,index,newVal)},keyup:function(event){var index=$(event.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(event,index),this._change(event,index),this._removeClass($(event.target),null,"ui-state-active"))}}}),$.widget("ui.sortable",$.ui.mouse,{version:"1.13.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(x,reference,size){return reference<=x&&x<reference+size},_isFloating:function(item){return/left|right/.test(item.css("float"))||/inline|table-cell/.test(item.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(key,value){this._super(key,value),"handle"===key&&this._setHandleClassName()},_setHandleClassName:function(){var that=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),$.each(this.items,function(){that._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var i=this.items.length-1;0<=i;i--)this.items[i].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(event,overrideHandle){var currentItem=null,validHandle=!1,that=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(event),$(event.target).parents().each(function(){if($.data(this,that.widgetName+"-item")===that)return currentItem=$(this),!1}),!(currentItem=$.data(event.target,that.widgetName+"-item")===that?$(event.target):currentItem))||(this.options.handle&&!overrideHandle&&($(this.options.handle,currentItem).find("*").addBack().each(function(){this===event.target&&(validHandle=!0)}),!validHandle)||(this.currentItem=currentItem,this._removeCurrentsFromItems(),0)))},_mouseStart:function(event,overrideHandle,noActivation){var i,body,o=this.options;if((this.currentContainer=this).refreshPositions(),this.appendTo=$("parent"!==o.appendTo?o.appendTo:this.currentItem.parent()),this.helper=this._createHelper(event),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),$.extend(this.offset,{parent:this._getParentOffset()}),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(body=this.document.find("body"),this.storedCursor=body.css("cursor"),body.css("cursor",o.cursor),this.storedStylesheet=$("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(body)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",event,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!noActivation)for(i=this.containers.length-1;0<=i;i--)this.containers[i]._trigger("activate",event,this._uiHash(this));return $.ui.ddmanager&&($.ui.ddmanager.current=this),$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(event),this.originalPageX=event.pageX,this.originalPageY=event.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(event),!0},_scroll:function(event){var o=this.options,scrolled=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-event.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed:event.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-event.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed:event.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(event.pageY-this.document.scrollTop()<o.scrollSensitivity?scrolled=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(event.pageY-this.document.scrollTop())<o.scrollSensitivity&&(scrolled=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),event.pageX-this.document.scrollLeft()<o.scrollSensitivity?scrolled=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(event.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(scrolled=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),scrolled},_mouseDrag:function(event){var i,item,itemElement,intersection,o=this.options;for(this.position=this._generatePosition(event),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),o.scroll&&!1!==this._scroll(event)&&(this._refreshItemPositions(!0),$.ui.ddmanager)&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},i=this.items.length-1;0<=i;i--)if(itemElement=(item=this.items[i]).item[0],(intersection=this._intersectsWithPointer(item))&&item.instance===this.currentContainer&&!(itemElement===this.currentItem[0]||this.placeholder[1===intersection?"next":"prev"]()[0]===itemElement||$.contains(this.placeholder[0],itemElement)||"semi-dynamic"===this.options.type&&$.contains(this.element[0],itemElement))){if(this.direction=1===intersection?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(item))break;this._rearrange(event,item),this._trigger("change",event,this._uiHash());break}return this._contactContainers(event),$.ui.ddmanager&&$.ui.ddmanager.drag(this,event),this._trigger("sort",event,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(event,noPropagation){var that,cur,axis,animation;if(event)return $.ui.ddmanager&&!this.options.dropBehaviour&&$.ui.ddmanager.drop(this,event),this.options.revert?(cur=(that=this).placeholder.offset(),animation={},(axis=this.options.axis)&&"x"!==axis||(animation.left=cur.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),axis&&"y"!==axis||(animation.top=cur.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,$(this.helper).animate(animation,parseInt(this.options.revert,10)||500,function(){that._clear(event)})):this._clear(event,noPropagation),!1},cancel:function(){if(this.dragging){this._mouseUp(new $.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var i=this.containers.length-1;0<=i;i--)this.containers[i]._trigger("deactivate",null,this._uiHash(this)),this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",null,this._uiHash(this)),this.containers[i].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),$.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?$(this.domPosition.prev).after(this.currentItem):$(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(o){var items=this._getItemsAsjQuery(o&&o.connected),str=[];return o=o||{},$(items).each(function(){var res=($(o.item||this).attr(o.attribute||"id")||"").match(o.expression||/(.+)[\-=_](.+)/);res&&str.push((o.key||res[1]+"[]")+"="+(o.key&&o.expression?res[1]:res[2]))}),!str.length&&o.key&&str.push(o.key+"="),str.join("&")},toArray:function(o){var items=this._getItemsAsjQuery(o&&o.connected),ret=[];return o=o||{},items.each(function(){ret.push($(o.item||this).attr(o.attribute||"id")||"")}),ret},_intersectsWith:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height,l=item.left,r=l+item.width,t=item.top,b=t+item.height,dyClick=this.offset.click.top,dxClick=this.offset.click.left,dyClick="x"===this.options.axis||t<y1+dyClick&&y1+dyClick<b,dxClick="y"===this.options.axis||l<x1+dxClick&&x1+dxClick<r;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>item[this.floating?"width":"height"]?dyClick&&dxClick:l<x1+this.helperProportions.width/2&&x2-this.helperProportions.width/2<r&&t<y1+this.helperProportions.height/2&&y2-this.helperProportions.height/2<b},_intersectsWithPointer:function(item){var isOverElementHeight="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,item.top,item.height),item="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,item.left,item.width);return!(!isOverElementHeight||!item)&&(isOverElementHeight=this.dragDirection.vertical,item=this.dragDirection.horizontal,this.floating?"right"===item||"down"===isOverElementHeight?2:1:isOverElementHeight&&("down"===isOverElementHeight?2:1))},_intersectsWithSides:function(item){var isOverBottomHalf=this._isOverAxis(this.positionAbs.top+this.offset.click.top,item.top+item.height/2,item.height),item=this._isOverAxis(this.positionAbs.left+this.offset.click.left,item.left+item.width/2,item.width),verticalDirection=this.dragDirection.vertical,horizontalDirection=this.dragDirection.horizontal;return this.floating&&horizontalDirection?"right"===horizontalDirection&&item||"left"===horizontalDirection&&!item:verticalDirection&&("down"===verticalDirection&&isOverBottomHalf||"up"===verticalDirection&&!isOverBottomHalf)},_getDragVerticalDirection:function(){var delta=this.positionAbs.top-this.lastPositionAbs.top;return 0!=delta&&(0<delta?"down":"up")},_getDragHorizontalDirection:function(){var delta=this.positionAbs.left-this.lastPositionAbs.left;return 0!=delta&&(0<delta?"right":"left")},refresh:function(event){return this._refreshItems(event),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var options=this.options;return options.connectWith.constructor===String?[options.connectWith]:options.connectWith},_getItemsAsjQuery:function(connected){var i,j,cur,inst,items=[],queries=[],connectWith=this._connectWith();if(connectWith&&connected)for(i=connectWith.length-1;0<=i;i--)for(j=(cur=$(connectWith[i],this.document[0])).length-1;0<=j;j--)(inst=$.data(cur[j],this.widgetFullName))&&inst!==this&&!inst.options.disabled&&queries.push(["function"==typeof inst.options.items?inst.options.items.call(inst.element):$(inst.options.items,inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),inst]);function addItems(){items.push(this)}for(queries.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=queries.length-1;0<=i;i--)queries[i][0].each(addItems);return $(items)},_removeCurrentsFromItems:function(){var list=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(item){for(var j=0;j<list.length;j++)if(list[j]===item.item[0])return!1;return!0})},_refreshItems:function(event){this.items=[],this.containers=[this];var i,j,cur,inst,targetData,_queries,item,queriesLength,items=this.items,queries=[["function"==typeof this.options.items?this.options.items.call(this.element[0],event,{item:this.currentItem}):$(this.options.items,this.element),this]],connectWith=this._connectWith();if(connectWith&&this.ready)for(i=connectWith.length-1;0<=i;i--)for(j=(cur=$(connectWith[i],this.document[0])).length-1;0<=j;j--)(inst=$.data(cur[j],this.widgetFullName))&&inst!==this&&!inst.options.disabled&&(queries.push(["function"==typeof inst.options.items?inst.options.items.call(inst.element[0],event,{item:this.currentItem}):$(inst.options.items,inst.element),inst]),this.containers.push(inst));for(i=queries.length-1;0<=i;i--)for(targetData=queries[i][1],queriesLength=(_queries=queries[i][j=0]).length;j<queriesLength;j++)(item=$(_queries[j])).data(this.widgetName+"-item",targetData),items.push({item:item,instance:targetData,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(fast){for(var item,t,i=this.items.length-1;0<=i;i--)item=this.items[i],this.currentContainer&&item.instance!==this.currentContainer&&item.item[0]!==this.currentItem[0]||(t=this.options.toleranceElement?$(this.options.toleranceElement,item.item):item.item,fast||(item.width=t.outerWidth(),item.height=t.outerHeight()),t=t.offset(),item.left=t.left,item.top=t.top)},refreshPositions:function(fast){var i,p;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(fast),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;0<=i;i--)p=this.containers[i].element.offset(),this.containers[i].containerCache.left=p.left,this.containers[i].containerCache.top=p.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(that){var className,nodeName,o=(that=that||this).options;o.placeholder&&o.placeholder.constructor!==String||(className=o.placeholder,nodeName=that.currentItem[0].nodeName.toLowerCase(),o.placeholder={element:function(){var element=$("<"+nodeName+">",that.document[0]);return that._addClass(element,"ui-sortable-placeholder",className||that.currentItem[0].className)._removeClass(element,"ui-sortable-helper"),"tbody"===nodeName?that._createTrPlaceholder(that.currentItem.find("tr").eq(0),$("<tr>",that.document[0]).appendTo(element)):"tr"===nodeName?that._createTrPlaceholder(that.currentItem,element):"img"===nodeName&&element.attr("src",that.currentItem.attr("src")),className||element.css("visibility","hidden"),element},update:function(container,p){className&&!o.forcePlaceholderSize||(p.height()&&(!o.forcePlaceholderSize||"tbody"!==nodeName&&"tr"!==nodeName)||p.height(that.currentItem.innerHeight()-parseInt(that.currentItem.css("paddingTop")||0,10)-parseInt(that.currentItem.css("paddingBottom")||0,10)),p.width())||p.width(that.currentItem.innerWidth()-parseInt(that.currentItem.css("paddingLeft")||0,10)-parseInt(that.currentItem.css("paddingRight")||0,10))}}),that.placeholder=$(o.placeholder.element.call(that.element,that.currentItem)),that.currentItem.after(that.placeholder),o.placeholder.update(that,that.placeholder)},_createTrPlaceholder:function(sourceTr,targetTr){var that=this;sourceTr.children().each(function(){$("<td>&#160;</td>",that.document[0]).attr("colspan",$(this).attr("colspan")||1).appendTo(targetTr)})},_contactContainers:function(event){for(var j,dist,itemWithLeastDistance,posProperty,sizeProperty,cur,nearBottom,floating,axis,innermostContainer=null,innermostIndex=null,i=this.containers.length-1;0<=i;i--)$.contains(this.currentItem[0],this.containers[i].element[0])||(this._intersectsWith(this.containers[i].containerCache)?innermostContainer&&$.contains(this.containers[i].element[0],innermostContainer.element[0])||(innermostContainer=this.containers[i],innermostIndex=i):this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",event,this._uiHash(this)),this.containers[i].containerCache.over=0));if(innermostContainer)if(1===this.containers.length)this.containers[innermostIndex].containerCache.over||(this.containers[innermostIndex]._trigger("over",event,this._uiHash(this)),this.containers[innermostIndex].containerCache.over=1);else{for(dist=1e4,itemWithLeastDistance=null,posProperty=(floating=innermostContainer.floating||this._isFloating(this.currentItem))?"left":"top",sizeProperty=floating?"width":"height",axis=floating?"pageX":"pageY",j=this.items.length-1;0<=j;j--)$.contains(this.containers[innermostIndex].element[0],this.items[j].item[0])&&this.items[j].item[0]!==this.currentItem[0]&&(cur=this.items[j].item.offset()[posProperty],nearBottom=!1,event[axis]-cur>this.items[j][sizeProperty]/2&&(nearBottom=!0),Math.abs(event[axis]-cur)<dist)&&(dist=Math.abs(event[axis]-cur),itemWithLeastDistance=this.items[j],this.direction=nearBottom?"up":"down");(itemWithLeastDistance||this.options.dropOnEmpty)&&(this.currentContainer===this.containers[innermostIndex]?this.currentContainer.containerCache.over||(this.containers[innermostIndex]._trigger("over",event,this._uiHash()),this.currentContainer.containerCache.over=1):(itemWithLeastDistance?this._rearrange(event,itemWithLeastDistance,null,!0):this._rearrange(event,null,this.containers[innermostIndex].element,!0),this._trigger("change",event,this._uiHash()),this.containers[innermostIndex]._trigger("change",event,this._uiHash(this)),this.currentContainer=this.containers[innermostIndex],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[innermostIndex]._trigger("over",event,this._uiHash(this)),this.containers[innermostIndex].containerCache.over=1))}},_createHelper:function(event){var o=this.options,event="function"==typeof o.helper?$(o.helper.apply(this.element[0],[event,this.currentItem])):"clone"===o.helper?this.currentItem.clone():this.currentItem;return event.parents("body").length||this.appendTo[0].appendChild(event[0]),event[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),event[0].style.width&&!o.forceHelperSize||event.width(this.currentItem.width()),event[0].style.height&&!o.forceHelperSize||event.height(this.currentItem.height()),event},_adjustOffsetFromHelper:function(obj){"string"==typeof obj&&(obj=obj.split(" ")),"left"in(obj=Array.isArray(obj)?{left:+obj[0],top:+obj[1]||0}:obj)&&(this.offset.click.left=obj.left+this.margins.left),"right"in obj&&(this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left),"top"in obj&&(this.offset.click.top=obj.top+this.margins.top),"bottom"in obj&&(this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])&&(po.left+=this.scrollParent.scrollLeft(),po.top+=this.scrollParent.scrollTop()),{top:(po=this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&$.ui.ie?{top:0,left:0}:po).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){var p;return"relative"===this.cssPosition?{top:(p=this.currentItem.position()).top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}:{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var ce,over,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(ce=$(o.containment)[0],o=$(o.containment).offset(),over="hidden"!==$(ce).css("overflow"),this.containment=[o.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0)-this.margins.left,o.top+(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0)-this.margins.top,o.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,o.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(d,pos){pos=pos||this.position;var d="absolute"===d?1:-1,scroll="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);return{top:pos.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop())*d,left:pos.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*d}},_generatePosition:function(event){var o=this.options,pageX=event.pageX,pageY=event.pageY,scroll="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(event.pageX-this.offset.click.left<this.containment[0]&&(pageX=this.containment[0]+this.offset.click.left),event.pageY-this.offset.click.top<this.containment[1]&&(pageY=this.containment[1]+this.offset.click.top),event.pageX-this.offset.click.left>this.containment[2]&&(pageX=this.containment[2]+this.offset.click.left),event.pageY-this.offset.click.top>this.containment[3])&&(pageY=this.containment[3]+this.offset.click.top),o.grid)&&(event=this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1],pageY=!this.containment||event-this.offset.click.top>=this.containment[1]&&event-this.offset.click.top<=this.containment[3]?event:event-this.offset.click.top>=this.containment[1]?event-o.grid[1]:event+o.grid[1],event=this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0],pageX=!this.containment||event-this.offset.click.left>=this.containment[0]&&event-this.offset.click.left<=this.containment[2]?event:event-this.offset.click.left>=this.containment[0]?event-o.grid[0]:event+o.grid[0]),{top:pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop()),left:pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())}},_rearrange:function(event,i,a,hardRefresh){a?a[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?i.item[0]:i.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var counter=this.counter;this._delay(function(){counter===this.counter&&this.refreshPositions(!hardRefresh)})},_clear:function(event,noPropagation){this.reverting=!1;var i,delayedTriggers=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function delayEvent(type,instance,container){return function(event){container._trigger(type,event,instance._uiHash(instance))}}for(this.fromOutside&&!noPropagation&&delayedTriggers.push(function(event){this._trigger("receive",event,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||noPropagation||delayedTriggers.push(function(event){this._trigger("update",event,this._uiHash())}),this===this.currentContainer||noPropagation||(delayedTriggers.push(function(event){this._trigger("remove",event,this._uiHash())}),delayedTriggers.push(function(c){return function(event){c._trigger("receive",event,this._uiHash(this))}}.call(this,this.currentContainer)),delayedTriggers.push(function(c){return function(event){c._trigger("update",event,this._uiHash(this))}}.call(this,this.currentContainer))),i=this.containers.length-1;0<=i;i--)noPropagation||delayedTriggers.push(delayEvent("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(delayedTriggers.push(delayEvent("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,noPropagation||this._trigger("beforeStop",event,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!noPropagation){for(i=0;i<delayedTriggers.length;i++)delayedTriggers[i].call(this,event);this._trigger("stop",event,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===$.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(_inst){var inst=_inst||this;return{helper:inst.helper,placeholder:inst.placeholder||$([]),position:inst.position,originalPosition:inst.originalPosition,offset:inst.positionAbs,item:inst.currentItem,sender:_inst?_inst.element:null}}});function spinnerModifier(fn){return function(){var previous=this.element.val();fn.apply(this,arguments),this._refresh(),previous!==this.element.val()&&this._trigger("change")}}$.widget("ui.spinner",{version:"1.13.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var options=this._super(),element=this.element;return $.each(["min","max","step"],function(i,option){var value=element.attr(option);null!=value&&value.length&&(options[option]=value)}),options},_events:{keydown:function(event){this._start(event)&&this._keydown(event)&&event.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(event){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",event))},mousewheel:function(event,delta){var activeElement=$.ui.safeActiveElement(this.document[0]);if(this.element[0]===activeElement&&delta){if(!this.spinning&&!this._start(event))return!1;this._spin((0<delta?1:-1)*this.options.step,event),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(event)},100),event.preventDefault()}},"mousedown .ui-spinner-button":function(event){var previous;function checkFocus(){this.element[0]!==$.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=previous,this._delay(function(){this.previous=previous}))}previous=this.element[0]===$.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),event.preventDefault(),checkFocus.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,checkFocus.call(this)}),!1!==this._start(event)&&this._repeat(null,$(event.currentTarget).hasClass("ui-spinner-up")?1:-1,event)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(event){if($(event.currentTarget).hasClass("ui-state-active"))return!1!==this._start(event)&&void this._repeat(null,$(event.currentTarget).hasClass("ui-spinner-up")?1:-1,event)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(event){var options=this.options,keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.UP:return this._repeat(null,1,event),!0;case keyCode.DOWN:return this._repeat(null,-1,event),!0;case keyCode.PAGE_UP:return this._repeat(null,options.page,event),!0;case keyCode.PAGE_DOWN:return this._repeat(null,-options.page,event),!0}return!1},_start:function(event){return!(!this.spinning&&!1===this._trigger("start",event))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(i,steps,event){i=i||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,steps,event)},i),this._spin(steps*this.options.step,event)},_spin:function(step,event){var value=this.value()||0;this.counter||(this.counter=1),value=this._adjustValue(value+step*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",event,{value:value})||(this._value(value),this.counter++)},_increment:function(i){var incremental=this.options.incremental;return incremental?"function"==typeof incremental?incremental(i):Math.floor(i*i*i/5e4-i*i/500+17*i/200+1):1},_precision:function(){var precision=this._precisionOf(this.options.step);return precision=null!==this.options.min?Math.max(precision,this._precisionOf(this.options.min)):precision},_precisionOf:function(num){var num=num.toString(),decimal=num.indexOf(".");return-1===decimal?0:num.length-decimal-1},_adjustValue:function(value){var options=this.options,base=null!==options.min?options.min:0,aboveMin=value-base;return value=base+Math.round(aboveMin/options.step)*options.step,value=parseFloat(value.toFixed(this._precision())),null!==options.max&&value>options.max?options.max:null!==options.min&&value<options.min?options.min:value},_stop:function(event){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",event))},_setOption:function(key,value){var prevValue;"culture"===key||"numberFormat"===key?(prevValue=this._parse(this.element.val()),this.options[key]=value,this.element.val(this._format(prevValue))):("max"!==key&&"min"!==key&&"step"!==key||"string"==typeof value&&(value=this._parse(value)),"icons"===key&&(prevValue=this.buttons.first().find(".ui-icon"),this._removeClass(prevValue,null,this.options.icons.up),this._addClass(prevValue,null,value.up),prevValue=this.buttons.last().find(".ui-icon"),this._removeClass(prevValue,null,this.options.icons.down),this._addClass(prevValue,null,value.down)),this._super(key,value))},_setOptionDisabled:function(value){this._super(value),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!value),this.element.prop("disabled",!!value),this.buttons.button(value?"disable":"enable")},_setOptions:spinnerModifier(function(options){this._super(options)}),_parse:function(val){return""===(val="string"==typeof val&&""!==val?window.Globalize&&this.options.numberFormat?Globalize.parseFloat(val,10,this.options.culture):+val:val)||isNaN(val)?null:val},_format:function(value){return""===value?"":window.Globalize&&this.options.numberFormat?Globalize.format(value,this.options.numberFormat,this.options.culture):value},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var value=this.value();return null!==value&&value===this._adjustValue(value)},_value:function(value,allowAny){var parsed;""!==value&&null!==(parsed=this._parse(value))&&(allowAny||(parsed=this._adjustValue(parsed)),value=this._format(parsed)),this.element.val(value),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:spinnerModifier(function(steps){this._stepUp(steps)}),_stepUp:function(steps){this._start()&&(this._spin((steps||1)*this.options.step),this._stop())},stepDown:spinnerModifier(function(steps){this._stepDown(steps)}),_stepDown:function(steps){this._start()&&(this._spin((steps||1)*-this.options.step),this._stop())},pageUp:spinnerModifier(function(pages){this._stepUp((pages||1)*this.options.page)}),pageDown:spinnerModifier(function(pages){this._stepDown((pages||1)*this.options.page)}),value:function(newVal){if(!arguments.length)return this._parse(this.element.val());spinnerModifier(this._value).call(this,newVal)},widget:function(){return this.uiSpinner}}),!1!==$.uiBackCompat&&$.widget("ui.spinner",$.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});var rhash;$.ui.spinner,$.widget("ui.tabs",{version:"1.13.2",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(rhash=/#.*$/,function(anchor){var anchorUrl=anchor.href.replace(rhash,""),locationUrl=location.href.replace(rhash,"");try{anchorUrl=decodeURIComponent(anchorUrl)}catch(error){}try{locationUrl=decodeURIComponent(locationUrl)}catch(error){}return 1<anchor.hash.length&&anchorUrl===locationUrl}),_create:function(){var that=this,options=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,options.collapsible),this._processTabs(),options.active=this._initialActive(),Array.isArray(options.disabled)&&(options.disabled=$.uniqueSort(options.disabled.concat($.map(this.tabs.filter(".ui-state-disabled"),function(li){return that.tabs.index(li)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(options.active):this.active=$(),this._refresh(),this.active.length&&this.load(options.active)},_initialActive:function(){var active=this.options.active,collapsible=this.options.collapsible,locationHash=location.hash.substring(1);return null===active&&(locationHash&&this.tabs.each(function(i,tab){if($(tab).attr("aria-controls")===locationHash)return active=i,!1}),null!==(active=null===active?this.tabs.index(this.tabs.filter(".ui-tabs-active")):active)&&-1!==active||(active=!!this.tabs.length&&0)),!1!==active&&-1===(active=this.tabs.index(this.tabs.eq(active)))&&(active=!collapsible&&0),active=!collapsible&&!1===active&&this.anchors.length?0:active},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):$()}},_tabKeydown:function(event){var focusedTab=$($.ui.safeActiveElement(this.document[0])).closest("li"),selectedIndex=this.tabs.index(focusedTab),goingForward=!0;if(!this._handlePageNav(event)){switch(event.keyCode){case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:selectedIndex++;break;case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:goingForward=!1,selectedIndex--;break;case $.ui.keyCode.END:selectedIndex=this.anchors.length-1;break;case $.ui.keyCode.HOME:selectedIndex=0;break;case $.ui.keyCode.SPACE:return event.preventDefault(),clearTimeout(this.activating),void this._activate(selectedIndex);case $.ui.keyCode.ENTER:return event.preventDefault(),clearTimeout(this.activating),void this._activate(selectedIndex!==this.options.active&&selectedIndex);default:return}event.preventDefault(),clearTimeout(this.activating),selectedIndex=this._focusNextTab(selectedIndex,goingForward),event.ctrlKey||event.metaKey||(focusedTab.attr("aria-selected","false"),this.tabs.eq(selectedIndex).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",selectedIndex)},this.delay))}},_panelKeydown:function(event){this._handlePageNav(event)||event.ctrlKey&&event.keyCode===$.ui.keyCode.UP&&(event.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(event){return event.altKey&&event.keyCode===$.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):event.altKey&&event.keyCode===$.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(index,goingForward){var lastTabIndex=this.tabs.length-1;for(;-1!==$.inArray(index=(index=lastTabIndex<index?0:index)<0?lastTabIndex:index,this.options.disabled);)index=goingForward?index+1:index-1;return index},_focusNextTab:function(index,goingForward){return index=this._findNextTab(index,goingForward),this.tabs.eq(index).trigger("focus"),index},_setOption:function(key,value){"active"===key?this._activate(value):(this._super(key,value),"collapsible"===key&&(this._toggleClass("ui-tabs-collapsible",null,value),value||!1!==this.options.active||this._activate(0)),"event"===key&&this._setupEvents(value),"heightStyle"===key&&this._setupHeightStyle(value))},_sanitizeSelector:function(hash){return hash?hash.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var options=this.options,lis=this.tablist.children(":has(a[href])");options.disabled=$.map(lis.filter(".ui-state-disabled"),function(tab){return lis.index(tab)}),this._processTabs(),!1!==options.active&&this.anchors.length?this.active.length&&!$.contains(this.tablist[0],this.active[0])?this.tabs.length===options.disabled.length?(options.active=!1,this.active=$()):this._activate(this._findNextTab(Math.max(0,options.active-1),!1)):options.active=this.tabs.index(this.active):(options.active=!1,this.active=$()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var that=this,prevTabs=this.tabs,prevAnchors=this.anchors,prevPanels=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(event){$(this).is(".ui-state-disabled")&&event.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){$(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return $("a",this)[0]}).attr({tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=$(),this.anchors.each(function(i,anchor){var selector,panel,panelId,anchorId=$(anchor).uniqueId().attr("id"),tab=$(anchor).closest("li"),originalAriaControls=tab.attr("aria-controls");that._isLocal(anchor)?(panelId=(selector=anchor.hash).substring(1),panel=that.element.find(that._sanitizeSelector(selector))):(panelId=tab.attr("aria-controls")||$({}).uniqueId()[0].id,(panel=that.element.find(selector="#"+panelId)).length||(panel=that._createPanel(panelId)).insertAfter(that.panels[i-1]||that.tablist),panel.attr("aria-live","polite")),panel.length&&(that.panels=that.panels.add(panel)),originalAriaControls&&tab.data("ui-tabs-aria-controls",originalAriaControls),tab.attr({"aria-controls":panelId,"aria-labelledby":anchorId}),panel.attr("aria-labelledby",anchorId)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),prevTabs&&(this._off(prevTabs.not(this.tabs)),this._off(prevAnchors.not(this.anchors)),this._off(prevPanels.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(id){return $("<div>").attr("id",id).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(disabled){var li,i;for(Array.isArray(disabled)&&(disabled.length?disabled.length===this.anchors.length&&(disabled=!0):disabled=!1),i=0;li=this.tabs[i];i++)li=$(li),!0===disabled||-1!==$.inArray(i,disabled)?(li.attr("aria-disabled","true"),this._addClass(li,null,"ui-state-disabled")):(li.removeAttr("aria-disabled"),this._removeClass(li,null,"ui-state-disabled"));this.options.disabled=disabled,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===disabled)},_setupEvents:function(event){var events={};event&&$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(event){event.preventDefault()}}),this._on(this.anchors,events),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(heightStyle){var maxHeight,parent=this.element.parent();"fill"===heightStyle?(maxHeight=parent.height(),maxHeight-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");"absolute"!==position&&"fixed"!==position&&(maxHeight-=elem.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){maxHeight-=$(this).outerHeight(!0)}),this.panels.each(function(){$(this).height(Math.max(0,maxHeight-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")):"auto"===heightStyle&&(maxHeight=0,this.panels.each(function(){maxHeight=Math.max(maxHeight,$(this).height("").height())}).height(maxHeight))},_eventHandler:function(event){var options=this.options,active=this.active,tab=$(event.currentTarget).closest("li"),clickedIsActive=tab[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():this._getPanelForTab(tab),toHide=active.length?this._getPanelForTab(active):$(),active={oldTab:active,oldPanel:toHide,newTab:collapsing?$():tab,newPanel:toShow};event.preventDefault(),tab.hasClass("ui-state-disabled")||tab.hasClass("ui-tabs-loading")||this.running||clickedIsActive&&!options.collapsible||!1===this._trigger("beforeActivate",event,active)||(options.active=!collapsing&&this.tabs.index(tab),this.active=clickedIsActive?$():tab,this.xhr&&this.xhr.abort(),toHide.length||toShow.length||$.error("jQuery UI Tabs: Mismatching fragment identifier."),toShow.length&&this.load(this.tabs.index(tab),event),this._toggle(event,active))},_toggle:function(event,eventData){var that=this,toShow=eventData.newPanel,toHide=eventData.oldPanel;function complete(){that.running=!1,that._trigger("activate",event,eventData)}function show(){that._addClass(eventData.newTab.closest("li"),"ui-tabs-active","ui-state-active"),toShow.length&&that.options.show?that._show(toShow,that.options.show,complete):(toShow.show(),complete())}this.running=!0,toHide.length&&this.options.hide?this._hide(toHide,this.options.hide,function(){that._removeClass(eventData.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),show()}):(this._removeClass(eventData.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),toHide.hide(),show()),toHide.attr("aria-hidden","true"),eventData.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),toShow.length&&toHide.length?eventData.oldTab.attr("tabIndex",-1):toShow.length&&this.tabs.filter(function(){return 0===$(this).attr("tabIndex")}).attr("tabIndex",-1),toShow.attr("aria-hidden","false"),eventData.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(index){var index=this._findActive(index);index[0]!==this.active[0]&&(index=(index=index.length?index:this.active).find(".ui-tabs-anchor")[0],this._eventHandler({target:index,currentTarget:index,preventDefault:$.noop}))},_findActive:function(index){return!1===index?$():this.tabs.eq(index)},_getIndex:function(index){return index="string"==typeof index?this.anchors.index(this.anchors.filter("[href$='"+$.escapeSelector(index)+"']")):index},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){$.data(this,"ui-tabs-destroy")?$(this).remove():$(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var li=$(this),prev=li.data("ui-tabs-aria-controls");prev?li.attr("aria-controls",prev).removeData("ui-tabs-aria-controls"):li.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(index){var disabled=this.options.disabled;!1!==disabled&&(disabled=void 0!==index&&(index=this._getIndex(index),Array.isArray(disabled)?$.map(disabled,function(num){return num!==index?num:null}):$.map(this.tabs,function(li,num){return num!==index?num:null})),this._setOptionDisabled(disabled))},disable:function(index){var disabled=this.options.disabled;if(!0!==disabled){if(void 0===index)disabled=!0;else{if(index=this._getIndex(index),-1!==$.inArray(index,disabled))return;disabled=Array.isArray(disabled)?$.merge([index],disabled).sort():[index]}this._setOptionDisabled(disabled)}},load:function(index,event){index=this._getIndex(index);function complete(jqXHR,status){"abort"===status&&that.panels.stop(!1,!0),that._removeClass(tab,"ui-tabs-loading"),panel.removeAttr("aria-busy"),jqXHR===that.xhr&&delete that.xhr}var that=this,tab=this.tabs.eq(index),index=tab.find(".ui-tabs-anchor"),panel=this._getPanelForTab(tab),eventData={tab:tab,panel:panel};this._isLocal(index[0])||(this.xhr=$.ajax(this._ajaxSettings(index,event,eventData)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(tab,"ui-tabs-loading"),panel.attr("aria-busy","true"),this.xhr.done(function(response,status,jqXHR){setTimeout(function(){panel.html(response),that._trigger("load",event,eventData),complete(jqXHR,status)},1)}).fail(function(jqXHR,status){setTimeout(function(){complete(jqXHR,status)},1)})))},_ajaxSettings:function(anchor,event,eventData){var that=this;return{url:anchor.attr("href").replace(/#.*$/,""),beforeSend:function(jqXHR,settings){return that._trigger("beforeLoad",event,$.extend({jqXHR:jqXHR,ajaxSettings:settings},eventData))}}},_getPanelForTab:function(tab){tab=$(tab).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+tab))}}),!1!==$.uiBackCompat&&$.widget("ui.tabs",$.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),$.ui.tabs,$.widget("ui.tooltip",{version:"1.13.2",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var title=$(this).attr("title");return $("<a>").text(title).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(elem,id){var describedby=(elem.attr("aria-describedby")||"").split(/\s+/);describedby.push(id),elem.data("ui-tooltip-id",id).attr("aria-describedby",String.prototype.trim.call(describedby.join(" ")))},_removeDescribedBy:function(elem){var id=elem.data("ui-tooltip-id"),describedby=(elem.attr("aria-describedby")||"").split(/\s+/),id=$.inArray(id,describedby);-1!==id&&describedby.splice(id,1),elem.removeData("ui-tooltip-id"),(describedby=String.prototype.trim.call(describedby.join(" ")))?elem.attr("aria-describedby",describedby):elem.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=$("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=$([])},_setOption:function(key,value){var that=this;this._super(key,value),"content"===key&&$.each(this.tooltips,function(id,tooltipData){that._updateContent(tooltipData.element)})},_setOptionDisabled:function(value){this[value?"_disable":"_enable"]()},_disable:function(){var that=this;$.each(this.tooltips,function(id,tooltipData){var event=$.Event("blur");event.target=event.currentTarget=tooltipData.element[0],that.close(event,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var element=$(this);if(element.is("[title]"))return element.data("ui-tooltip-title",element.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var element=$(this);element.data("ui-tooltip-title")&&element.attr("title",element.data("ui-tooltip-title"))}),this.disabledTitles=$([])},open:function(event){var that=this,target=$(event?event.target:this.element).closest(this.options.items);target.length&&!target.data("ui-tooltip-id")&&(target.attr("title")&&target.data("ui-tooltip-title",target.attr("title")),target.data("ui-tooltip-open",!0),event&&"mouseover"===event.type&&target.parents().each(function(){var blurEvent,parent=$(this);parent.data("ui-tooltip-open")&&((blurEvent=$.Event("blur")).target=blurEvent.currentTarget=this,that.close(blurEvent,!0)),parent.attr("title")&&(parent.uniqueId(),that.parents[this.id]={element:this,title:parent.attr("title")},parent.attr("title",""))}),this._registerCloseHandlers(event,target),this._updateContent(target,event))},_updateContent:function(target,event){var contentOption=this.options.content,that=this,eventType=event?event.type:null;if("string"==typeof contentOption||contentOption.nodeType||contentOption.jquery)return this._open(event,target,contentOption);(contentOption=contentOption.call(target[0],function(response){that._delay(function(){target.data("ui-tooltip-open")&&(event&&(event.type=eventType),this._open(event,target,response))})}))&&this._open(event,target,contentOption)},_open:function(event,target,content){var tooltip,delayedShow,tooltipData,positionOption=$.extend({},this.options.position);function position(event){positionOption.of=event,tooltip.is(":hidden")||tooltip.position(positionOption)}content&&((tooltipData=this._find(target))?tooltipData.tooltip.find(".ui-tooltip-content").html(content):(target.is("[title]")&&(event&&"mouseover"===event.type?target.attr("title",""):target.removeAttr("title")),tooltipData=this._tooltip(target),tooltip=tooltipData.tooltip,this._addDescribedBy(target,tooltip.attr("id")),tooltip.find(".ui-tooltip-content").html(content),this.liveRegion.children().hide(),(tooltipData=$("<div>").html(tooltip.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),tooltipData.removeAttr("id").find("[id]").removeAttr("id"),tooltipData.appendTo(this.liveRegion),this.options.track&&event&&/^mouse/.test(event.type)?(this._on(this.document,{mousemove:position}),position(event)):tooltip.position($.extend({of:target},this.options.position)),tooltip.hide(),this._show(tooltip,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(delayedShow=this.delayedShow=setInterval(function(){tooltip.is(":visible")&&(position(positionOption.of),clearInterval(delayedShow))},13)),this._trigger("open",event,{tooltip:tooltip})))},_registerCloseHandlers:function(event,target){var events={keyup:function(event){event.keyCode===$.ui.keyCode.ESCAPE&&((event=$.Event(event)).currentTarget=target[0],this.close(event,!0))}};target[0]!==this.element[0]&&(events.remove=function(){var targetElement=this._find(target);targetElement&&this._removeTooltip(targetElement.tooltip)}),event&&"mouseover"!==event.type||(events.mouseleave="close"),event&&"focusin"!==event.type||(events.focusout="close"),this._on(!0,target,events)},close:function(event){var tooltip,that=this,target=$(event?event.currentTarget:this.element),tooltipData=this._find(target);tooltipData?(tooltip=tooltipData.tooltip,tooltipData.closing||(clearInterval(this.delayedShow),target.data("ui-tooltip-title")&&!target.attr("title")&&target.attr("title",target.data("ui-tooltip-title")),this._removeDescribedBy(target),tooltipData.hiding=!0,tooltip.stop(!0),this._hide(tooltip,this.options.hide,function(){that._removeTooltip($(this))}),target.removeData("ui-tooltip-open"),this._off(target,"mouseleave focusout keyup"),target[0]!==this.element[0]&&this._off(target,"remove"),this._off(this.document,"mousemove"),event&&"mouseleave"===event.type&&$.each(this.parents,function(id,parent){$(parent.element).attr("title",parent.title),delete that.parents[id]}),tooltipData.closing=!0,this._trigger("close",event,{tooltip:tooltip}),tooltipData.hiding)||(tooltipData.closing=!1)):target.removeData("ui-tooltip-open")},_tooltip:function(element){var tooltip=$("<div>").attr("role","tooltip"),content=$("<div>").appendTo(tooltip),id=tooltip.uniqueId().attr("id");return this._addClass(content,"ui-tooltip-content"),this._addClass(tooltip,"ui-tooltip","ui-widget ui-widget-content"),tooltip.appendTo(this._appendTo(element)),this.tooltips[id]={element:element,tooltip:tooltip}},_find:function(target){target=target.data("ui-tooltip-id");return target?this.tooltips[target]:null},_removeTooltip:function(tooltip){clearInterval(this.delayedShow),tooltip.remove(),delete this.tooltips[tooltip.attr("id")]},_appendTo:function(target){target=target.closest(".ui-front, dialog");return target=target.length?target:this.document[0].body},_destroy:function(){var that=this;$.each(this.tooltips,function(id,tooltipData){var event=$.Event("blur"),tooltipData=tooltipData.element;event.target=event.currentTarget=tooltipData[0],that.close(event,!0),$("#"+id).remove(),tooltipData.data("ui-tooltip-title")&&(tooltipData.attr("title")||tooltipData.attr("title",tooltipData.data("ui-tooltip-title")),tooltipData.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==$.uiBackCompat&&$.widget("ui.tooltip",$.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var tooltipData=this._superApply(arguments);return this.options.tooltipClass&&tooltipData.tooltip.addClass(this.options.tooltipClass),tooltipData}}),$.ui.tooltip}),!function(global,factory){"function"==typeof define&&define.amd?define(["module","exports"],factory):"undefined"!=typeof exports?factory(module,exports):(factory(factory={exports:{}},factory.exports),global.autosize=factory.exports)}(this,function(module,exports){"use strict";var keys,values,map="function"==typeof Map?new Map:(keys=[],values=[],{has:function(key){return-1<keys.indexOf(key)},get:function(key){return values[keys.indexOf(key)]},set:function(key,value){-1===keys.indexOf(key)&&(keys.push(key),values.push(value))},delete:function(key){key=keys.indexOf(key);-1<key&&(keys.splice(key,1),values.splice(key,1))}}),createEvent=function(name){return new Event(name,{bubbles:!0})};try{new Event("test")}catch(e){createEvent=function(name){var evt=document.createEvent("Event");return evt.initEvent(name,!0,!1),evt}}function assign(ta){var heightOffset,clientWidth,cachedHeight,pageResize,destroy,style;function changeOverflow(value){var width=ta.style.width;ta.style.width="0px",ta.offsetWidth,ta.style.width=width,ta.style.overflowY=value}function resize(){var overflows,docTop;0!==ta.scrollHeight&&(overflows=function(el){for(var arr=[];el&&el.parentNode&&el.parentNode instanceof Element;)el.parentNode.scrollTop&&arr.push({node:el.parentNode,scrollTop:el.parentNode.scrollTop}),el=el.parentNode;return arr}(ta),docTop=document.documentElement&&document.documentElement.scrollTop,ta.style.height="",ta.style.height=ta.scrollHeight+heightOffset+"px",clientWidth=ta.clientWidth,overflows.forEach(function(el){el.node.scrollTop=el.scrollTop}),docTop)&&(document.documentElement.scrollTop=docTop)}function update(){resize();var styleHeight=Math.round(parseFloat(ta.style.height)),computed=window.getComputedStyle(ta,null),actualHeight="content-box"===computed.boxSizing?Math.round(parseFloat(computed.height)):ta.offsetHeight;if(actualHeight<styleHeight?"hidden"===computed.overflowY&&(changeOverflow("scroll"),resize(),actualHeight="content-box"===computed.boxSizing?Math.round(parseFloat(window.getComputedStyle(ta,null).height)):ta.offsetHeight):"hidden"!==computed.overflowY&&(changeOverflow("hidden"),resize(),actualHeight="content-box"===computed.boxSizing?Math.round(parseFloat(window.getComputedStyle(ta,null).height)):ta.offsetHeight),cachedHeight!==actualHeight){cachedHeight=actualHeight;styleHeight=createEvent("autosize:resized");try{ta.dispatchEvent(styleHeight)}catch(err){}}}ta&&ta.nodeName&&"TEXTAREA"===ta.nodeName&&!map.has(ta)&&(cachedHeight=clientWidth=heightOffset=null,pageResize=function(){ta.clientWidth!==clientWidth&&update()},destroy=function(style){window.removeEventListener("resize",pageResize,!1),ta.removeEventListener("input",update,!1),ta.removeEventListener("keyup",update,!1),ta.removeEventListener("autosize:destroy",destroy,!1),ta.removeEventListener("autosize:update",update,!1),Object.keys(style).forEach(function(key){ta.style[key]=style[key]}),map.delete(ta)}.bind(ta,{height:ta.style.height,resize:ta.style.resize,overflowY:ta.style.overflowY,overflowX:ta.style.overflowX,wordWrap:ta.style.wordWrap}),ta.addEventListener("autosize:destroy",destroy,!1),"onpropertychange"in ta&&"oninput"in ta&&ta.addEventListener("keyup",update,!1),window.addEventListener("resize",pageResize,!1),ta.addEventListener("input",update,!1),ta.addEventListener("autosize:update",update,!1),ta.style.overflowX="hidden",ta.style.wordWrap="break-word",map.set(ta,{destroy:destroy,update:update}),"vertical"===(style=window.getComputedStyle(ta,null)).resize?ta.style.resize="none":"both"===style.resize&&(ta.style.resize="horizontal"),heightOffset="content-box"===style.boxSizing?-(parseFloat(style.paddingTop)+parseFloat(style.paddingBottom)):parseFloat(style.borderTopWidth)+parseFloat(style.borderBottomWidth),isNaN(heightOffset)&&(heightOffset=0),update())}function destroy(ta){ta=map.get(ta);ta&&ta.destroy()}function update(ta){ta=map.get(ta);ta&&ta.update()}var autosize=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((autosize=function(el){return el}).destroy=function(el){return el},autosize.update=function(el){return el}):((autosize=function(el,options){return el&&Array.prototype.forEach.call(el.length?el:[el],assign),el}).destroy=function(el){return el&&Array.prototype.forEach.call(el.length?el:[el],destroy),el},autosize.update=function(el){return el&&Array.prototype.forEach.call(el.length?el:[el],update),el}),exports.default=autosize,module.exports=exports.default}),!function($){var logging=log.noConflict(),basePath,cssFile;$.ui.jig={scanned:!1,version:"1.15.10",_time:1711733169562,isMin:null,_log:{global:[],elements:[]},log:function(opts){if("object"!=typeof opts)throw Error("You must pass an object to the log method. See docs...");var opts=$.extend({level:"info"},opts),msg=opts.msg,level=opts.level,opts=(logging[level](msg),opts.id);if(void 0===opts)this._log.global.push({msg:msg,level:level,time:(new Date).getTime()});else{if(!document.getElementById(opts))throw Error("Can't call log with id: '"+opts+"'. Element doesn't exist in DOM.");this._log.elements.push({id:opts,msg:msg,level:level,time:(new Date).getTime()})}return this._log},getLog:function(id){return this._log},getLogEntriesByWidget:function(id){return _.where(this._log.elements,{id:id})},_getJSONFromStr:function(id,jsonString){if(void 0!==jsonString)try{return eval("({"+jsonString+"})")}catch(e){var msg="Error parsing jig metatag, or jig-dataconfig. Problem with JSON string: '"+jsonString+"'. Error: "+e.message+".";this.log({id:id,msg:msg,level:"error"})}},_getConfig:function(widgetName,el,configFromScan){var metaConfig={},widgetName=$("meta[name='"+widgetName+"']").attr("content"),id=el.attr("id"),widgetName=(void 0!==widgetName&&(metaConfig=this._getJSONFromStr(el.attr("id"),widgetName)),$.extend({},el.data())),id=(delete widgetName.jigconfig,delete widgetName.jigscanned,this._getJSONFromStr(id,el.data("jigconfig"))||{});return $.extend({},metaConfig,id,widgetName,configFromScan)},_getBasePath:function(){var jigRe=/(.*\/)?js\/jig(?:\.nojquery)?(\.min)?\.js$/,isMin=!1,baseURL=null;return $("script").each(function(){var srcAttr=$.trim($(this).attr("src"));if(srcAttr){srcAttr=srcAttr.match(jigRe);if(srcAttr)return baseURL=srcAttr[1]||"",isMin=".min"===srcAttr[2],!1}}),$.ui.jig.isMin=isMin,baseURL},getBasePath:function(){var path;return $.ui.jig._baseURL||(path=this._getBasePath(),$.ui.jig._baseURL=path,$.ui.jig._basePath=path),$.ui.jig._basePath},_isConsole:function(method){var methodDefined,consoleDefined=void 0!==window.console||!1;return consoleDefined&&(methodDefined=void 0!==window.console[method]||!1),!(!consoleDefined||!methodDefined)},_foundWidgets:{},_foundWidgetInstances:{},widget:function(name,base,prototype){var that=this,constr=base,newProto=prototype,origCreate=(2===arguments.length&&(constr=$.Widget,newProto=base),newProto._create),newProto=$.extend({},newProto,{_create:function(){var parts=name.split("."),parts=parts[parts.length-1],widgetNames=(this.element.data(parts,this),this.element.data("jigWidgetNames")||""),widgetNames=(this.element.data("jigWidgetNames",widgetNames+=" "+parts),that._foundWidgets[parts]||0),widgetNames=(that._foundWidgets[parts]=widgetNames+1,that._foundWidgetInstances[parts]||[]);widgetNames.push(this.element),that._foundWidgetInstances[parts]=widgetNames,origCreate?origCreate.apply(this,arguments):this._super()},log:function(msg,level){$.ui.jig.log({msg:msg,level:level,id:this.element.attr("id")})}});return $.widget(name,constr,newProto)},getUIWidgetNames:function(){var prop,ret=[];for(prop in $.ui)"function"==typeof $.ui[prop]&&ret.push(prop);return ret},getUIWidgetConstr:function(widgetName){return $.ui[widgetName]},getUIWidgetInstances:function(widgetName){return widgetName?this._foundWidgetInstances[widgetName]||[]:this._foundWidgetInstances},getUIWidgetCount:function(widgetName){return widgetName?this._foundWidgets[widgetName]||0:this._foundWidgets},_setID:function(el,widgetName){var genId,origId=el.attr("id");return origId&&""!==origId||(genId=$.ui.jig._generateId(widgetName),el.attr("id",genId)),origId||genId},_callWidgetOnEl:function(el,widgetName,scope,configFromScan){var log=$.ui.jig.log,configFromScan=this._getConfig(widgetName,el,configFromScan);try{$.fn[widgetName].call(el,configFromScan)}catch(e){log.apply(this,[{id:el.attr("id"),msg:'Error in jig widget: "'+widgetName+'" with error message: "'+e.message+'".',level:"error"}])}},_initLogLevel:function(){document.location.host.match(/^(?:www|blast)/)?this.setLogLevel("WARN"):this.setLogLevel("INFO")},setLogLevel:function(level){logging.setLevel(logging.levels[level])},_warnIfJigClass:function(el,widgetName){var re=new RegExp("(?:s)?jig-"+widgetName+"(?:s)?"),className=el.attr("class");className&&-1!==className.search(re)&&(re=el.attr("id"),this.log({msg:"Element #"+re+" is initialized with deprecated class, '"+className+"'. Use data-jig=\""+widgetName+'" instead.',id:re,level:"warn"}))},_elIsInScope:function(scope,el){return el.is(scope)||0<scope.find(el).length},getWidgetSelector:function(widgetConstr){var widgetName=widgetConstr.prototype.widgetName,widgetConstr=widgetConstr.prototype.selector;return"string"==typeof widgetConstr?widgetConstr:(widgetName=".jig-"+widgetName+", [data-jig~='"+widgetName+"']","function"==typeof widgetConstr?widgetConstr.call(window,widgetName):widgetName)},scan:function(scope,config){this._initLogLevel(),this.widgetNames=this.getUIWidgetNames();var that=this;scope=$(void 0===scope?document.body:scope),$(document).trigger("beforejigscanned"),limitWidgets=void 0!==config&&void 0!==config.widgets,this.widgetNames.forEach(function(widgetName){var configFromScan={};if(limitWidgets){if(-1===jQuery.inArray(widgetName,config.widgets))return;config.configs&&(configFromScan=config.configs[widgetName])}var widgetConstr=that.getUIWidgetConstr(widgetName),widgetConstr=that.getWidgetSelector(widgetConstr);$(widgetConstr).filter(function(){return that._elIsInScope(scope,$(this))}).each(function(){var el=$(this);that._setID(el,widgetName),that._warnIfJigClass(el,widgetName),that._callWidgetOnEl(el,widgetName,scope,configFromScan)})}),this.scanned=!0,$(document).trigger("afterjigscan")}},0===$("link[href*='jig.css'], link[href*='jig.min.css']").length&&(basePath=$.ui.jig.getBasePath(),cssFile=$.ui.jig.isMin?"jig.min.css":"jig.css",$("head").prepend('<link rel="stylesheet" type="text/css" href="'+basePath+"css/"+cssFile+'">')),$(function(){$.ui.jig.scan()})}(jQuery),!function($){var utils={_getFncFromStr:function(fnc){var newFunc=null,typeOfFnc=typeof fnc;if("function"==typeOfFnc)newFunc=fnc;else if("string"==typeOfFnc){var parts=fnc.replace(/^[^:]*:\s*/,"").replace(/\s*$/,"").split(".");if(newFunc=window[parts[0]]){for(var i=1;i<parts.length;i++)if(!(newFunc=newFunc[parts[i]])){newFunc=null;break}}else newFunc=null}return newFunc},generateId:function(widgetName,modifier){return this._generateId(widgetName,modifier)},_generateId:function(strWidgetName,strModifier){strModifier=void 0!==strModifier?"-"+strModifier:"",arguments.callee.i++;for(var strGeneratedId="ui-"+strWidgetName+strModifier+"-"+arguments.callee.i;document.getElementById(strGeneratedId);)arguments.callee.i++,strGeneratedId="ui-"+strWidgetName+strModifier+arguments.callee.i;return strGeneratedId},getElementWidgets:function(elem,widgetName){var prop,data=jQuery(elem).data(),widgets=[];for(prop in data)data[prop]instanceof jQuery.ui[widgetName]&&widgets.push(data[prop]);return widgets},registerPageHeightWatcher:function(){var body=jQuery(document.body);body.data("hasHeightWatcher")||(body.data("_lastHeight",null),body.data("hasHeightWatcher",!0),body.data("heightWatcher",window.setInterval(function(){jQuery.ui.jig.watchPageHeight()},250)))},watchPageHeight:function(){var body=jQuery(document.body),currentHeight=body.height(),lastHeight=body.data("_lastHeight");lastHeight!==currentHeight&&(lastHeight&&body.trigger("ncbijigpageheightchanged"),body.data("_lastHeight",currentHeight))},getUserNameFromCookie:function(){var name=null,wcu=Cookies.get("WebCubbyUser");return name=wcu&&-1<wcu.indexOf("logged-in=true")&&(wcu=wcu.match(/my-name=([^;]+)/i))?wcu[1]:name},requiresLoginURL:"/account/signin/?inlinelogin=true",requiresLoginWidth:405,requiresLoginHeight:560,embeddedIframe:null,requiresLoginIframe:null,requiresLogin:function(fnc){var that=this;jQuery.ui.jig._requiresLoginIframe&&jQuery.ui.jig._requiresLoginIframe.hide().remove(),jQuery.ui.jig.checkIfLoggedIn(function(){fnc&&fnc(that.getUserNameFromCookie(),!1)},function(){var signinUrl,wid,hei,dialogCode;jQuery.ui.jig.embeddedIframe||(signinUrl=jQuery.ui.jig.requiresLoginURL,wid=jQuery.ui.jig.requiresLoginWidth,hei=jQuery.ui.jig.requiresLoginHeight,(dialogCode=jQuery('<div style="display:none"><a href="#jig-ncbi_requires_login">Inline Login Component</a></div><div id="jig-ncbi_requires_login" title="My NCBI Sign In"><iframe style="width:'+wid+"px;height:"+hei+'px;" src="'+signinUrl+'"></iframe></div>').css("display","none").appendTo(document.body,!0)).find("a").attr("href","#jig-ncbi_requires_login").ncbidialog({width:"auto",height:"auto"}).ncbidialog("open"),jQuery.ui.jig._requiresLoginIframe=dialogCode,jQuery.ui.jig.waitForLoginCookie(function(username){var myusername=username||that.getUserNameFromCookie()||" ";try{jQuery("#myncbiusername").show(),jQuery("#mnu").html(myusername),jQuery("#sign_in").hide(),jQuery("#sign_out, #myncbi").show(),dialogCode.find("a:eq(0)").ncbidialog("close"),document.body.removeChild(dialogCode.get(0))}catch(e){}fnc&&fnc(username,!0,window.location.href)}))})},_isLoggedIn:null,checkIfLoggedIn:function(loggedInCallBack,loggedOutCallBack){var lastLogInState=jQuery.ui.jig._isLoggedIn;null===this.getUserNameFromCookie()?loggedOutCallBack():window.setTimeout(function(){var port;null===lastLogInState?(port=window.location.port?":"+window.location.port:"",port="https://"+window.location.hostname+port+"/account/ajax/issignedin/?callback=?",jQuery.ajax({url:port,dataType:"jsonp",jsonpCallback:"issignedin",cache:!1,success:function(data){data=data&&data.is_signed_in;jQuery.ui.jig._isLoggedIn=data,jQuery.ui.jig._checkIfLoggedInNotify(data,loggedInCallBack,loggedOutCallBack)},error:function(data){jQuery.ui.jig._isLoggedIn=null,jQuery.ui.jig._checkIfLoggedInNotify(!1,loggedInCallBack,loggedOutCallBack)}})):jQuery.ui.jig._checkIfLoggedInNotify(lastLogInState,loggedInCallBack,loggedOutCallBack)},50)},_autoCheckState:function(){jQuery.ui.jig._autoCheckStateTimer&&window.clearTimeout(jQuery.ui.jig._autoCheckStateTimer),jQuery.ui.jig._isLoggedIn=null,jQuery.ui.jig._autoCheckStateTimer=window.setTimeout(function(){jQuery.ui.jig.checkIfLoggedIn(jQuery.ui.jig._autoCheckState,jQuery.ui.jig._autoCheckState)},6e5)},_checkIfLoggedInNotify:function(isLoggedIn,loggedInCallBack,loggedOutCallBack){isLoggedIn&&loggedInCallBack?loggedInCallBack():!isLoggedIn&&loggedOutCallBack&&loggedOutCallBack(),isLoggedIn||jQuery.ui.jig._removeLoggedInFlag()},waitForLoginCookie_logincheck:!1,waitForLoginCookie:function(finishLogin){function checkLogin(){var wcu=Cookies.get("WebCubbyUser");wcu&&-1<wcu.indexOf("logged-in=true")?window.setTimeout(finishLogin,30):window.setTimeout(checkLogin,10)}jQuery.ui.jig.waitForLoginCookie_logincheck&&null===jQuery.ui.jig._isLoggedIn?jQuery.ui.jig._isLoggedIn_wait(checkLogin):(jQuery.ui.jig.waitForLoginCookie_logincheck=!0,window.setTimeout(function(){jQuery.ui.jig.checkIfLoggedIn(checkLogin,checkLogin)},50))},_isLoggedIn_wait:function(callback){null!==jQuery.ui.jig._isLoggedIn?callback():window.setTimeout(function(){jQuery.ui.jig._isLoggedIn_wait(callback)},10)},_removeLoggedInFlag:function(){var lout,wcu=Cookies.get("WebCubbyUser");wcu&&-1<wcu.indexOf("logged-in=true")&&((lout=Cookies.get("lout"))&&new Date-parseInt(lout,10)<1e4||(lout=wcu.replace("logged-in=true","logged-in=false"),Cookies.set("WebCubbyUser",lout,{path:"/",domain:".nih.gov"}),Cookies.set("lout",(new Date).getTime())))}};utils._generateId.i=0,$.extend($.ui.jig,utils)}(jQuery),jQuery(document).on("ncbiajaxcomplete",function(event,data){var calls=jQuery("html").data("ncbiajaxcompleteCalls");(calls=calls||[]).push(data.ncbiajaxname),jQuery("html").data("ncbiajaxcompleteCalls",calls)}),$.widget("ui.ncbidatepicker",{_create:function(){this.element.datepicker(this.options)}}),$.ui.jig.widget("ui.ncbiaccordion",jQuery.ui.accordion,{}),$.ui.jig.widget("ui.ncbiautofocus",{_create:function(){"use strict";var errorText;if(jQuery.ui.ncbiautofocus.registeredElement){if(errorText="More than one element is registered for ncbiautofocus\n\tAlready Registered: \t"+this._outerHTML(jQuery.ui.ncbiautofocus.registeredElement)+"\n\tTrying to Register: \t\t"+this._outerHTML(this.element),"undefined"==typeof console)throw errorText;console[console.error?"error":"log"](errorText)}else jQuery.ui.ncbiautofocus.registeredElement=this.element,this._addKeyDownEvent()},_outerHTML:function(elem){"use strict";return jQuery("<div>").append(elem.clone()).html()},destroy:function(){"use strict";this._removeKeyDownEvent()},_doFocus:function(e){var text,autofocusElem=this.element,autofocusElemDOM=autofocusElem[0],valLen=autofocusElem.val().length;autofocusElemDOM.createTextRange?((text=autofocusElemDOM.createTextRange()).moveStart("character",valLen),text.collapse(),text.select()):autofocusElemDOM.setSelectionRange?(autofocusElem.focus(),autofocusElemDOM.setSelectionRange(valLen,valLen)):autofocusElem.focus()},_addKeyDownEvent:function(){"use strict";var that=this;this._interceptKeydown=function(e){var elem=e.srcElement||e.target,keyCode=e.keyCode||e.which,isModifier=e.ctrlKey||e.altKey||e.metaKey,isPaste=86==e.keyCode&&(e.ctrlKey||e.metaKey);isModifier&&!isPaste||!(48<=keyCode&&keyCode<=90||96<=keyCode&&keyCode<=111)||1!==jQuery(elem).not(":input,a").length||that._doFocus(e)},this._interceptPaste=function(e){var elem=e.srcElement||e.target;1===jQuery(elem).not(":input, a").length&&that._doFocus(e)},jQuery(document).on("keydown",this._interceptKeydown),jQuery(document).on("paste beforepaste",this._interceptPaste)},_removeKeyDownEvent:function(){"use strict";this._documentKeydown&&jQuery(document).off("keydown",this._interceptKeydown)}}),jQuery.ui.ncbiautofocus.registeredElement=null,$.ui.jig.widget("ui.ncbiclearbutton",{_create:function(){navigator.userAgent.match(/Trident.*rv[ :]*11\./)||-1===navigator.appVersion.indexOf("MSIE 10")&&(this._createButton(),this._attachInputEvents(),this._attachButtonEvents(),this._boxShadow(),this._showIfValue())},_wrapHTML:'<div class="jig-ncbiclearbutton-wrap ui-ncbiclearbutton-wrap" />',_buttonHTML:'<a class="reset" href="#"><img src="'+$.ui.jig.getBasePath()+'img/clear.png" alt="Clear input" /></a>',_createButton:function(){this.clearButton=jQuery(this._buttonHTML),this.wrapperElement=jQuery(this._wrapHTML),this.element.wrap(this.wrapperElement),this.element.after(this.clearButton)},clearText:function(){this.element.val(""),this._trigger("elementcleared")},_showButton:function(){this.clearButton.css("visibility","visible")},_hideButton:function(){this.clearButton.css("visibility","hidden")},_boxShadow:function(){var that=this;this.element.focus(function(){that.element.parent().addClass("box-shadow")}),this.element.blur(function(){that.element.parent().removeClass("box-shadow")})},_showIfValue:function(){""!=this.element.val()?this._showButton():this._hideButton()},_attachInputEvents:function(){var that=this;this.element.bind("keyup change",function(){that._showIfValue()}).bind("paste",function(){window.setTimeout(function(){that._showIfValue()},10)})},_pingData:function(){"undefined"!=typeof ncbi&&ncbi.sg&&ncbi.sg.ping({jsevent:"ncbiclearbutton",prevValue:this.element.val()})},_attachButtonEvents:function(){var that=this;this.clearButton.click(function(e){that.clearText(),that._hideButton(),that.element.focus(),e.preventDefault()})}}),!function(){var orgCreate=jQuery.ui.button.prototype._create;jQuery.ui.button.prototype.options.color="ui-ncbibutton-gray",jQuery.ui.button.validColors=["ui-ncbibutton-gray","ui-ncbibutton-copper","ui-ncbibutton-blue"],jQuery.ui.button.classColors=["jig-ncbibutton-gray","jig-ncbibutton-copper","jig-ncbibutton-blue"];jQuery.ui.jig.widget("ui.ncbibutton",jQuery.ui.button,{selector:".jig-ncbibutton, .jig-ncbibutton-gray, .jig-ncbibutton-blue, .jig-ncbibutton-copper, [data-jig=ncbibutton]",_create:function(){!function(){orgCreate.apply(this,arguments),this._addClasses()}.apply(this,arguments)},_getColor:function(){for(var color=this.options.color,classes=this.element[0].className,colorClasses=jQuery.ui.button.classColors,i=0;i<colorClasses.length;i++)if(-1!==classes.indexOf(colorClasses[i])){color=jQuery.ui.button.validColors[i];break}return 0!==color.indexOf("ui-ncbibutton-")&&(color="ui-ncbibutton-"+color),-1===jQuery.inArray(color,jQuery.ui.button.validColors)&&("undefined"!=typeof console&&console.warn&&console.warn("The color you picked: "+this.options.color+" is not a valid color choice.\n Valid colors: "+jQuery.ui.button.validColors.join(", ")),color=jQuery.ui.button.validColors[0]),color},_addClasses:function(){this.element.addClass("ui-ncbibutton").addClass(this._getColor()).removeClass("ui-button ui-widget")}})}(),jQuery.ui.jig.widget("ui.ncbisetswitch",{options:{webservice:null,destSelector:null,localJSON:null,manageCollectionsUrl:null,createCollectionUrl:null,defaultActive:!1},_create:function(){this._wrapElem(),this._createStar(),this._createArrow(),this._attachLinksMenu(),this._createActionListItem(),this._positionActionListItem(),this._attachLinkEvent(),this._addToggleStarClick()},_wrapElem:function(){this.wrapper=this.element.wrap("<div class='ui-ncbisetswitch'></div>").parent()},_unwrapElem:function(){this.element.unwrap()},_createStar:function(){this.element.prepend("<span class='star'></span>"),this.element.addClass("ui-ncbisetswitch-hasStar"),!0===this.options.defaultActive&&this.element.find(".star").addClass("active")},_destroyStar:function(){this.element.find(".star").remove(),this.element.removeClass("ui-ncbisetswitch-hasStar")},_createArrow:function(){this.downButton=jQuery("<a class='ui-ncbisetswitch-button' title='View more options' href='#'><span class='ui-icon ui-icon-triangle-1-s ui-ncbisetswitch-down'>View more options</span></a>").insertAfter(this.element),this.downButton.prev().hasClass("ltd-hover")&&this.downButton.addClass("ltd-hover")},_destroyArrow:function(){this.downButton.remove()},_attachLinksMenu:function(){var opt={webservice:this.options.webservice,openAnimationTime:150,destSelector:this.options.destSelector,localJSON:this.options.localJSON,triggerPosition:"bottom left",wrapElement:!0,ignoreDefaultTrigger:!0,closeOnSelect:!1},opt=(this.wrapper.ncbilinksmenu(opt),this.wrapper.ncbilinksmenu("getDestElement"));opt.addClass("ui-ncbisetswitch-popper"),opt.find(">ul:first-child").addClass("ui-ncbisetswitch-options")},_destroyLinksMenu:function(){var destElem=this.wrapper.ncbilinksmenu("getDestElement");destElem.removeClass("ui-ncbisetswitch-popper"),destElem.find(">ul:first-child").removeClass("ui-ncbisetswitch-options"),this.wrapper.ncbilinksmenu("destroy")},_hideList:function(){this.options.destSelector&&jQuery(this.options.destSelector).hide()},_hideAccessible:function(){var aAccessible=this.element.prev("a.ui-helper-hidden-accessible");aAccessible.prev("p.ui-helper-hidden-accessible").remove(),aAccessible.remove()},destroy:function(){this._destroyLinksMenu(),this._unwrapElem(),this._destroyStar(),this._destroyArrow(),this._destroyActionListItem(),this._detachLinkEvent(),this._removeToggleStarClick(),this._hideList(),this._hideAccessible()},_createActionListItem:function(){jQuery.ui.ncbisetswitch._globalActionsList={};var whereToAppend=this.wrapper.ncbilinksmenu("getDestElement").children(":first"),whereToAppend={actionList:jQuery("<ul class='ui-ncbisetswitch-actions'></ul>").appendTo(whereToAppend.parent())};whereToAppend.createCollection=jQuery("<li class='ui-ncbisetswitch-actions-create'><a class='ui-ncbisetswitch-create-collection'>Create collection...</a></li>").appendTo(whereToAppend.actionList),whereToAppend.managecollections=jQuery("<li class='ui-ncbisetswitch-actions-manage'><a class='ui-ncbisetswitch-manage-collections'>Manage collections...</a></li>").appendTo(whereToAppend.actionList),this._gol=whereToAppend},_destroyActionListItem:function(){this._gol.actionList.remove()},_positionActionListItem:function(){var manageDisplay,createDisplay,collectionActionsDisplay;this._gol.activeElement!==this.element?(manageDisplay=null!==this.options.manageCollectionsUrl?"block":"none",createDisplay=null!==this.options.createCollectionUrl?"block":"none",collectionActionsDisplay="block"==manageDisplay||"block"==createDisplay?"block":"none",jQuery(this._gol.createCollection).css("display",createDisplay).children("a:first").attr("href",this.options.createCollectionUrl),jQuery(this._gol.managecollections).css("display",manageDisplay).children("a:first").attr("href",this.options.manageCollectionsUrl),jQuery(this._gol.actionsItem).css("display",collectionActionsDisplay)):this._gol.activeElement=this.element},_addToggleStarClick:function(){var that=this;this._makingMainSelectionClickFunc=function(e){that._makingMainSelection()},this.element.on("mousedown keydown",this._makingMainSelectionClickFunc),this._downButtonKeydownFunc=function(e){40===(e||window.event).keyCode&&that.downButton.mousedown().click()},this._downButtonMousedownFunc=function(evt){that._arrowClickedSelection(evt,this)},this.downButton.keydown(this._keydownFunc).on("mousedown",this._mousedownFunc),this._toggleStarSubClickFunc=function(e){that._toggleStarSub(e,e.target)},this._setswitchOptionsMousedownFunc=function(){var anchor=jQuery(this);that._makingSubSelection(anchor,anchor.parent())},this.wrapper.ncbilinksmenu("getDestElement").find(".ui-ncbisetswitch-options a").on("mousedown keydown",this._setswitchOptionsMousedownFunc);"undefined"!=typeof ncbi&&ncbi.sg&&ncbi.sg.scanLinks([this.downButton[0],this.element[0]])},_removeToggleStarClick:function(){this.element.unbind("mousedown",this._makingMainSelectionClickFunc).unbind("keydown",this._makingMainSelectionClickFunc),this.downButton.unbind("keydown",this._keydownFunc).unbind("mousedown",this._mousedownFunc),this.wrapper.find(".ui-ncbisetswitch-options a").unbind("mousedown",this._setswitchOptionsMousedownFunc).unbind("keydown",this._setswitchOptionsMousedownFunc)},_arrowClickedSelection:function(evt,anchor){var openStatus=this.wrapper.ncbilinksmenu("getDestElement").is(":visible")?"closed":"opened";jQuery(anchor).prop("ref","jigwidget=ncbisetswitch&item=downarrowclicked&action="+openStatus)},_makingMainSelection:function(){var isSelected=this.element.find("span.star").hasClass("active")?"unselected":"selected";this.element.prop("ref","jigwidget=ncbisetswitch&item=mainlink&action="+isSelected)},_makingSubSelection:function(anchor,star){star=star.hasClass("starred")?"unselected":"selected";anchor.prop("ref","jigwidget=ncbisetswitch&item=sublink&action="+star)},_attachLinkEvent:function(){this._linkEventFunc=function(e){e.preventDefault(),e.stopPropagation()},this.element.click(this._linkEventFunc)},_detachLinkEvent:function(){this.element.unbind("click",this._linkEventFunc)}}),$.ui.jig.widget("ui.ncbiautocomplete",{options:{webserviceUrl:"/portal/utils/autocomp.fcgi",isUrlRelative:!1,dictionary:"",responseFormat:"old",disableUrl:null,prefUrl:null,zIndex:1001,isEnabled:!0,hasRelatedMatches:!1,minLength:2,expandPauseTime:400,maxListLimit:null,isCrossDomain:!1,disableCache:!1,requireValidation:!1,queryParameter:"q"},_create:function(){this.options.localData&&!this.options.dictionary&&(this.options.dictionary="local"),this._storeTitleAttribute(),this._createOptionsBox(),this._addAttributes(),this._setHandlers(),this._setWebServicePath(),this._lastEnteredTerm="",this._setSGData()},_storeTitleAttribute:function(){this.element.data("ncbiautocompleteOriginalTitle",this.element.attr("title"))},destroy:function(){jQuery.Widget.prototype.destroy.apply(this,arguments),this.element.removeAttr("title"),this._destroyAria(),this._destroyHandlers();var originalTitle=this.element.data("ncbiautocompleteOriginalTitle");originalTitle&&this.element.attr("title",originalTitle)},_destroyOptionsBox:function(){null!=jQuery.ui.ncbiautocomplete._globalOptionsList.optionsBox&&jQuery.ui.ncbiautocomplete._globalOptionsList.optionsBox.remove()},_destroyHandlers:function(){this.element.off("keypress keydown keyup cut paste")},_destroyAria:function(){this.element.removeAttr("aria-haspopup").removeAttr("aria-autocomplete").removeAttr("role").removeAttr("autocomplete")},_activeRequest:null,_keys:{up:38,down:40,enter:13,escape:27,tab:9,shift:16},_setSGData:function(){this.sgData={jsevent:"autocomplete",userTyped:"",hasScrolled:!1,usedArrows:!1,selectionAction:"",optionSelected:"",optionIndex:-1,optionsCount:-1}},_addAttributes:function(){this.element.attr({title:"Use up and down arrows to choose an item from the autocomplete.","aria-haspopup":!0,"aria-autocomplete":"list",role:"textbox"})},_setHandlers:function(){var that=this,domElem=(jQuery(this.element).focus(function(){that._focused()}).keypress(function(e){that._keyPress(e,"press")}).keydown(function(e){that._keyPress(e,"down")}).keyup(function(e){that._keyUp(e)}).bind("cut paste",function(){that._changeFired()}).attr("AUTOCOMPLETE","OFF"),jQuery(this.element)[0]);domElem.autocomplete="off",domElem.AUTOCOMPLETE="OFF",jQuery(window).resize(function(){that._isActive&&that._positionOptionsBox()}),jQuery(document).click(function(e){that._checkClickEvent(e)}),jQuery(this._gol.optionsBox).hover(function(){that._isActive&&(that._isOptionsBoxFocused=!0)},function(){that._isActive&&(that._isOptionsBoxFocused=!1)})},_isOptionsBoxFocused:!1,_createOptionsBox:function(){var cssGrid;null===jQuery.ui.ncbiautocomplete._globalOptionsList&&(jQuery.ui.ncbiautocomplete._globalOptionsList={},cssGrid=1===(cssGrid=jQuery("div.grid")).length?cssGrid:jQuery(document.body),jQuery.ui.ncbiautocomplete._globalOptionsList.optionsBox=jQuery("<div class='ui-ncbiautocomplete-holder shadow' aria-live='assertive'></div>").appendTo(cssGrid),jQuery.ui.ncbiautocomplete._globalOptionsList.optionsList=jQuery("<ul class='ui-ncbiautocomplete-options' role='listbox' aria-activedescendant=''></ul>").appendTo(jQuery(jQuery.ui.ncbiautocomplete._globalOptionsList.optionsBox)),jQuery.ui.ncbiautocomplete._globalOptionsList.optionsActions=jQuery("<div class='ui-ncbiautocomplete-actions shadow'></div>").appendTo(jQuery(jQuery.ui.ncbiautocomplete._globalOptionsList.optionsBox)),jQuery.ui.ncbiautocomplete._globalOptionsList.prefLink=jQuery("<a href='#' class='ui-ncbiautocomplete-link-pref'>Preferences</a>").appendTo(jQuery(jQuery.ui.ncbiautocomplete._globalOptionsList.optionsActions)),jQuery.ui.ncbiautocomplete._globalOptionsList.turnOffLink=jQuery("<a href='#' class='ui-ncbiautocomplete-link-off'>Turn off</a>").appendTo(jQuery(jQuery.ui.ncbiautocomplete._globalOptionsList.optionsActions)),jQuery.ui.ncbiautocomplete._globalOptionsList.isIE6=jQuery.browser.msie&&parseInt(jQuery.browser.version,10)<7,jQuery.ui.ncbiautocomplete._globalOptionsList.isIE6)&&(jQuery.ui.ncbiautocomplete._globalOptionsList.optionsBox.iframe=jQuery("<iframe src='javascript:\"\";' class='ui-ncbiautocomplete-iframe' marginwidth='0' marginheight='0' align='bottom' scrolling='no' frameborder='0'></iframe>").appendTo(document.body)),this._gol=jQuery.ui.ncbiautocomplete._globalOptionsList},_positionOptionsBox:function(){this._gol.activeElement&&(thisElem=jQuery(this.element),prevElement=jQuery(this._gol.activeElement),(thisElem.attr("id")||thisElem[0])!==(prevElement.attr("id")||prevElement[0]))&&this._hideOptions();var bl,br,that=this,thisElem=(this._gol.activeElement!==this.element?(thisElem=null!==this.options.prefUrl?"block":"none",prevElement=null!==this.options.disableUrl?"block":"none",optionsDisplay="block"==thisElem||"block"==prevElement?"block":"none",jQuery(this._gol.prefLink).css("display",thisElem).attr("href",this.options.prefUrl).unbind("click").click(function(e){that._prefLinkClick()}),jQuery(this._gol.turnOffLink).css("display",prevElement).unbind("click").click(function(e){that.turnOff(),e.preventDefault()}),jQuery(this._gol.optionsActions).css("display",optionsDisplay),jQuery(this._gol.optionsActions).children(":nth-child(2)").addClass("ui-ncbiautocomplete-link-pref-right")):this._gol.activeElement=this.element,this.element),prevElement=jQuery(this._gol.optionsBox),optionsDisplay=!1,tbWidth=(thisElem.parent().hasClass("ui-ncbiclearbutton-wrap")?(thisElem=thisElem.parent(),optionsDisplay=!0,prevElement.addClass("ui-ncbiautocomplete-holder-clearfix")):prevElement.removeClass("ui-ncbiautocomplete-holder-clearfix"),thisElem.outerWidth()),tbHeight=thisElem.outerHeight(),thisElem=thisElem.offset(),adj=jQuery.browser.msie?br=bl=0:(bl=parseInt(prevElement.css("borderLeftWidth"),10),br=parseInt(prevElement.css("borderRightWidth"),10),optionsDisplay?0:-1),optionsDisplay=(prevElement.css("top",thisElem.top+tbHeight+(optionsDisplay?-1:-2)+"px").css("left",thisElem.left+"px").width(tbWidth-bl-br+adj+"px"),parseInt(this.options.zIndex,10)),prevElement=(prevElement.css("zIndex",optionsDisplay),jQuery(this._gol.optionsList));prevElement[0].onscroll=function(){},prevElement.scrollTop(0),prevElement[0].onscroll=function(){that.sgData.hasScrolled=!0},this._gol.isIE6&&((prevElement=jQuery(this._gol.optionsBox.iframe)).css("top",thisElem.top+tbHeight+"px").css("left",thisElem.left+"px").width(tbWidth-bl-br+adj+"px"),prevElement.css("zIndex",optionsDisplay-1))},_isActive:!1,_focused:function(){this._gol.activeElement!==this.element&&this._hideOptions(),this._setActivedescendant(),this._positionOptionsBox(),this.options.isEnabled&&(this._isActive=!0,this._hasBeenEscaped=!1),0===this.options.minLength&&this.options.localData&&this._keyUp({})},_lastEnteredTerm:null,_isCached:!1,_hasBeenEscaped:!1,_lastKeyPressDwnUpScroll:new Date,_lastFoundMatch:null,_findMatchInCache:function(txt){if(this._lastFoundMatch=null,void 0!==this._localCache[this.options.dictionary]){var limit="l"+(this.options.maxListLimit||"n");if(void 0!==this._localCache[this.options.dictionary][limit])for(var cnt=0;1<txt.length||cnt<10;){txt=txt.substr(0,txt.length-1);var cacheObj=this._localCache[this.options.dictionary][limit][txt];if(cacheObj){if(cacheObj.isCompleteList)return this._lastFoundMatch=txt,!0;break}cnt++}}return!1},_cloneMatchObject:function(orgData){var obj={};return obj.matchedText=orgData.matchedText.toString(),obj.matches=orgData.matches?orgData.matches.slice():[],obj.isCompleteList=!0===orgData.isCompleteList,obj},_timerTriggerEnterEvent:null,_clearTriggerEnterEvent:function(){this._timerTriggerEnterEvent=null},_triggerEnterEvent:function(){var that=this;this._timerTriggerEnterEvent||(this._timerTriggerEnterEvent=window.setTimeout(function(){that._clearTriggerEnterEvent()},50),this.element.trigger("ncbiautocompleteenter",this.sgData),this.element.trigger("ncbiautocompletechange",this.sgData),this._sgSend())},_triggerTabEvent:function(){this.element.trigger("ncbiautocompletetab",this.sgData),this.element.trigger("ncbiautocompletechange",this.sgData),this._sgSend()},_keyPress:function(e,keyAction){var arrowKey=!1,that=this;if(e.keyCode===this._keys.enter||e.keyCode===this._keys.tab){var isEnter=e.keyCode===this._keys.enter,isEnterHandled=!1;if(this._isActive&&this.isOptionsBoxOpen())if(this._currIndex===this.options.maxListLimit&&jQuery("li:eq("+this._currIndex+")",this._gol.optionsList).hasClass("ui-ncbiautocomplete-show-more"))this._hideOptions(!0),this._gotoShowAll();else if(this.sgData.optionSelected===jQuery(this.element).val()){if(isEnterHandled=isEnter,this._timerTriggerEnterEvent||(this.sgData.selectionAction=isEnter?"enter":"tab",this.element.attr("valueId",this.element.attr("_optValue")||null),isEnter?this._triggerEnterEvent():(this._sentTab||this._triggerTabEvent(),this._sentTab=!0,window.setTimeout(function(){that._sentTab=!1},10))),this._hideOptions(!0),isEnter)return e.stopPropagation(),e.preventDefault(),!1}else e.keyCode===this._keys.tab&&this._hideOptions(!0);else e.keyCode!==this._keys.tab||this._tabCalled||(this._hideOptions(!0),this._tabCalled=!0,window.setTimeout(function(){that._tabCalled=!1},10));isEnter&&!isEnterHandled&&(this._hideOptions(!0),this._triggerEnterEvent())}else if(0!==jQuery(this.element).val().length||this.options.localData){if(e.keyCode===this._keys.up)arrowKey=!0,this._scrollUpDownRateLimiter(-1);else if(e.keyCode===this._keys.down&&!e.shiftKey){if(jQuery(this.element).val().length>=this.options.minLength&&!this.isOptionsBoxOpen())return void(arrowKey=!(this._reopenOptions=!0));arrowKey=!(this._reopenOptions=!1),this._scrollUpDownRateLimiter(1)}}else this._hideOptions(!0);this._lastKeyAction&&keyAction!==this._lastKeyAction||(this._lastKeyAction=keyAction,this._prevWasArrow=this._usedArrow,this._usedArrow=arrowKey)},_scrollUpDownRateLimiter:function(dir){new Date-this._lastKeyPressDwnUpScroll<90||(this._moveSelection(dir),this._lastKeyPressDwnUpScroll=new Date)},_checkArrowSelection:function(e){this._prevWasArrow&&e.keyCode!==this._keys.down&&e.keyCode!==this._keys.up&&e.keyCode!==this._keys.tab&&e.keyCode!==this._keys.enter&&this._isActive&&this.isOptionsBoxOpen()&&(this.sgData.selectionAction="arrows","undefined"!=typeof ncbi&&ncbi.sg&&ncbi.sg.ping&&ncbi.sg.ping(this.sgData,!1),this._prevWasArrow=!1,this._usedArrow=!1)},_keyUp:function(e){var txt,limit;this.options.isEnabled&&!this._hasBeenEscaped&&(this._checkArrowSelection(e),txt=jQuery(this.element).val().toLowerCase().replace(/^\s+/,"").replace(/\s+$/," "),limit="l"+(this.options.maxListLimit||"n"),e.keyCode!==this._keys.up&&e.keyCode!==this._keys.down&&e.keyCode!==this._keys.enter||this._reopenOptions)&&(e.keyCode===this._keys.tab&&this._isOptionsBoxFocused?(this._isOptionsBoxFocused=!1,this._isActive=!1,"keyup"!==e.type&&this._hideOptions(!0)):e.keyCode===this._keys.escape?(this._isOptionsBoxFocused=!1,this._isActive=!1,this._hasBeenEscaped=!0,this._hideOptions(!0)):this._lastEnteredTerm!==txt&&e.keyCode!==this._keys.shift&&(this._localCache[this.options.dictionary]&&this._localCache[this.options.dictionary][limit]&&this._localCache[this.options.dictionary][limit][txt]?(this._isActive=!0,this._resetValueId(txt),this._lastEnteredTerm=txt,this._displayOptions(this._localCache[this.options.dictionary][limit][txt])):this._isCached&&this._findMatchInCache(txt)?(this._isActive=!0,this._localCache[this.options.dictionary][limit][txt]=this._cloneMatchObject(this._localCache[this.options.dictionary][limit][this._lastFoundMatch]),this._resetValueId(txt),this._lastEnteredTerm=txt,this._filteredCache(txt)):txt.length>=this.options.minLength&&this.options.localData?(this._localCache&&this._localCache[this.options.dictionary]&&this._localCache[this.options.dictionary][limit]&&this._localCache[this.options.dictionary][limit]["*_*_local_*_*"]||(e={matchedText:"*_*_local_*_*",matches:this.options.localData.slice(),isCompleteList:!0},this._putInCache(e,"*_*_local_*_*")),this._isActive=!0,this._localCache[this.options.dictionary][limit][txt]=this._cloneMatchObject(this._localCache[this.options.dictionary][limit]["*_*_local_*_*"]),this._resetValueId(txt),this._lastEnteredTerm=txt,this._filteredCache(txt)):txt.length>=this.options.minLength&&this.options.webserviceUrl?(this._isActive||(this._isActive=!0,this._focused()),this._lastEnteredTerm!==txt&&(this._resetValueId(txt),this._lastEnteredTerm=txt,this._fecthOptions(txt))):(this._resetValueId(txt),this._hideOptions())))},_resetValueId:function(txt){this._lastEnteredTerm&&this._lastEnteredTerm.toLowerCase()===txt||this._lastTextInTextbox&&this._lastTextInTextbox.toLowerCase()===txt||this.element.attr("valueId",null)},_changeFired:function(){this._lastEnteredTerm!==this.element.val()&&this._resetValueId()},_webSerivcePath:null,_setWebServicePath:function(){var wsUrl,userPath=this.options.webserviceUrl;userPath&&(wsUrl="",this.options.isCrossDomain?this._webSerivcePath="https://www.ncbi.nlm.nih.gov/portal/utils/autocomp.fcgi":(this.options.isUrlRelative||(wsUrl=window.location.protocol+"//"+window.location.host,"/"!==userPath.charAt(0)&&(userPath="/"+userPath)),this._webSerivcePath=wsUrl+userPath))},_fecthOptions:function(txt,callback){null!==this._activeRequest&&this._activeRequest.abort();var that=this,format="old"===this.options.responseFormat?"text":"json",data={dict:this.options.dictionary};data[this.options.queryParameter]=txt,this.options.isCrossDomain?(this._addGlobalListener("NSuggest_CreateData"),jQuery.ajax({url:this._webSerivcePath,dataType:"script",data:data,cache:!0})):this._activeRequest=jQuery.get(this._webSerivcePath,data,function(x,y){that._handleResponse(x,y)},format)},_validSeverCall:function(txt){var isValid=!1,data,format,xhr,data,callbackName,value;return this.options.isCrossDomain?("undefined"!=typeof console&&console.warn&&console.warn("Can not do this test with cross domain calls"),!1):(0<this.options.dictionary.length&&(format="old"===this.options.responseFormat?"text":"json",data={dict:this.options.dictionary},data[this.options.queryParameter]=txt,xhr=jQuery.ajax({url:this._webSerivcePath,data:data,async:!1,dataTypeString:format}),200===xhr.status)&&(data=xhr.responseText,callbackName="NSuggest_CreateData_test"+(new Date).getTime(),this._addGlobalListener(callbackName,!0),value=eval(data.replace("NSuggest_CreateData",callbackName)),window[callbackName]=null,isValid=this._isValidCheck(txt,value.matches)),isValid)},_handleResponse:function(data,status){this._activeRequest=null,"success"===status?this.options.responseProcessor?this._customFormat(data):"old"===this.options.responseFormat?this._oldFormat(data):this._displayOptions(data):this.turnOff()},_addGlobalListener:function(methName,returnData){var that=this;window[methName]=function(txt,matches,cacheStatus){txt={matchedText:txt,matches:matches,isCompleteList:1===cacheStatus};if(returnData)return txt;that._displayOptions(txt)}},_oldFormat:function(data){-1!==data.indexOf("_dictionary_error")?this.turnOff(!0):-1!==jQuery.trim(data).indexOf("NSuggest_CreateData")?(this._addGlobalListener("NSuggest_CreateData_new"),eval(data.replace("NSuggest_CreateData","NSuggest_CreateData_new"))):this._hideOptions()},_localCache:{},_putInCache:function(dataObj,overrideLastTerm){var limit;this.options.disableCache||(limit="l"+(this.options.maxListLimit||"n"),this._localCache[this.options.dictionary]||(this._localCache[this.options.dictionary]={}),this._localCache[this.options.dictionary][limit]||(this._localCache[this.options.dictionary][limit]={}),this._localCache[this.options.dictionary][limit][overrideLastTerm||this._lastEnteredTerm])||(this._localCache[this.options.dictionary][limit][overrideLastTerm||this._lastEnteredTerm]=dataObj)},_setActivedescendant:function(){var tbId=this.element.attr("id");tbId||(tbId=jQuery.ui.jig._generateId("ncbiautocomplete"),this.element.attr("id",tbId)),jQuery(this._gol.optionsBox).find("ul:eq(0)").attr("aria-activedescendant",tbId)},_displayOptions:function(dataObj){this._setActivedescendant(),this._putInCache(dataObj);var matchedText=dataObj.matchedText,matches=dataObj.matches||[];if(matchedText!==this._lastEnteredTerm)dataObj.isCompleteList=!0,this._filteredCache(this._lastEnteredTerm,dataObj);else{this.sgData.userTyped=this._lastEnteredTerm,this.sgData.optionsCount=matches,this._positionOptionsBox();var that=this;if("_dictionary_error"===matchedText)this.turnOff(!0);else{this._isCached=dataObj.isCompleteList;matchedText=dataObj.previousFormat;if(!matchedText){for(var maxListLimit=this.options.maxListLimit,remainingNumber=0,maxListLimit=(null===maxListLimit||matches.length<=maxListLimit?startPoint=matches.length:remainingNumber=matches.length-(startPoint=maxListLimit),(this._lastEnteredTerm||"").replace(/([\^\$\\\?\(\)\[\]\*\+\{\}\|\/\.\,])/g,"\\$1")),lastTextRegExp=new RegExp("("+maxListLimit+")","i"),highMatches=new Array(matches.length),hasRelatedMatches=this.options.hasRelatedMatches,i=startPoint-1;0<=i;i--){var optText=matches[i],optVal="",indLoc=optText.indexOf("@");-1!==indLoc&&(optVal='valueId="'+optText.substr(indLoc+1)+'"',optText=optText.substr(0,indLoc),hasRelatedMatches=!0),highMatches[i]="<li role='menuitem' "+optVal+">"+optText.replace(lastTextRegExp,"<span>$1</span>").replace(/\\"/g,'"')+"</li>"}if(0<remainingNumber&&highMatches.push("<li class='ui-ncbiautocomplete-show-more' role='menuitem' moreOption='true'>See all results</li>"),matchedText=highMatches.join(""),0===highMatches.length||!hasRelatedMatches&&-1===matchedText.indexOf("<span>"))return void this._hideOptions();dataObj.previousFormat=matchedText}var maxListLimit=jQuery(this._gol.optionsBox),startPoint=jQuery(this._gol.optionsList),dataObj=(startPoint.scrollTop(0),startPoint.html(matchedText),"block"!==maxListLimit.css("display")&&this._isActive?(maxListLimit.css("display","block"),this._gol.isIE6&&(remainingNumber=jQuery(this._gol.optionsBox.iframe).css("display","block")).height(remainingNumber.height()+jQuery(this._gol.optionsActions).height())):this._isActive||this._hideOptions(),jQuery(".ui-ncbiautocomplete-options li")),matchedText=(dataObj.eq(0).outerHeight()||20)*dataObj.length,remainingNumber=(dataObj.closest(".ui-ncbiautocomplete-holder").height(matchedText).css("min-height",matchedText+"px"),dataObj.closest(".ui-ncbiautocomplete-options").height(matchedText).css("overflow-y","hidden"),maxListLimit.width(),jQuery("li",startPoint).hover(function(){that._addHightlightMouse(this)},function(){that._removeHighlight("mouse")}).click(function(){return that._optionClicked(this),!1}),jQuery(startPoint).mouseleave(function(){that._removeHighlight("mouse"),that._resetCurrentIndex()}),this._resetCurrentIndex(),jQuery("li",maxListLimit)),dataObj=jQuery(this._gol.optionsBox).width(),supportsEllipse=jQuery.browser.msie&&!this._gol.isIE6||jQuery.browser.safari||jQuery.browser.opera,matchedText=remainingNumber.eq(0),maxListLimit=(parseFloat(matchedText.css("padding-left")),matchedText.html()),avgCharWidth=(matchedText.html("<span>MMMMMMMMM.</span>"),matchedText.children("span:first").width()/10),listWidth=(matchedText.html("<span>&hellip;<span>"),matchedText.children("span:first").width(),matchedText.html(maxListLimit),startPoint.width()),maxChars=Math.floor(dataObj/avgCharWidth);remainingNumber.each(function(){var spanOpen,spanClosed,spanCut,fitText,orgHeight,newHeight,elem=jQuery(this),txt=(elem.css("white-space","nowrap"),elem.html());elem.attr("fullText",txt).attr("acValue",txt.replace(/<\/?span>/gi,"")),elem.width()/elem.attr("acValue").length<9&&(supportsEllipse?elem.attr("partialText",elem.html()).attr("isIEExpand",!0).css("width",listWidth-28+"px"):(spanOpen=txt.toLowerCase().indexOf("<span>"),spanClosed=txt.toLowerCase().indexOf("</span>"),spanCut=function(cutLoc){var addCloseSpan=!1;return spanOpen<=cutLoc&&cutLoc<spanOpen+6&&(cutLoc=spanOpen+(cutLoc-spanOpen),addCloseSpan=!0),{cutLoc:cutLoc=spanClosed<=cutLoc&&cutLoc<spanClosed+7?spanClosed+(cutLoc-spanClosed):cutLoc,addSpan:addCloseSpan}},txt.length,fitText=function(curLoc,min,max,lastText,lastGood){txt.indexOf("Journal of magnetic");var x,curLoc=spanCut(curLoc),displayText=txt.substr(0,curLoc.cutLoc)+(curLoc.addCloseSpan?"</span>":"")+"&hellip;";elem.html(displayText),displayText===lastText?(elem.height()!==newHeight&&void 0!==lastGood&&(displayText=lastGood),elem.attr("partialText",displayText).css("white-space","nowrap")):elem.height()===newHeight?(lastText=displayText.toString()+"",x=Math.floor((curLoc.cutLoc+max)/2),fitText(x,curLoc.cutLoc,max,displayText,lastText)):(x=Math.floor((parseInt(curLoc.cutLoc,10)+parseInt(min,10))/2),fitText(x,min,curLoc.cutLoc,displayText,lastGood))},elem.css("white-space","normal").css("width",listWidth-22+"px"),orgHeight=elem.height(),elem.html("."),newHeight=elem.height(),elem.html(txt),newHeight<orgHeight&&fitText(maxChars,0,txt.length)))}),startPoint.scrollTop(0),this._removeHighlight("mouse"),this._hideOptionsIfOffPage()}}},_filteredCache:function(txt,data){var matchObj,showOptions=!0,limit="l"+(this.options.maxListLimit||"n");if(null===txt)showOptions=!1;else{data?(matchObj=data,void 0===this._localCache[this.options.dictionary]?this._localCache[this.options.dictionary]={}:void 0===this._localCache[this.options.dictionary][limit]&&(this._localCache[this.options.dictionary][limit]={})):matchObj=this._localCache[this.options.dictionary][limit][txt],matchObj.matchedText=txt;var showALL=0===this.options.minLength&&0===txt.length;if(!this.options.hasRelatedMatches){for(var data=txt.replace(/([\^\$\\\?\(\)\[\]\*\+\{\}\|\/\.\,])/g,"\\$1"),matchRE=new RegExp(data,"ig"),orgMatches=matchObj.matches.join("!!!~~~!!!").split("!!!~~~!!!"),i=orgMatches.length-1;0<=i;i--)showALL||null!==orgMatches[i].match(matchRE)||orgMatches.splice(i,1);matchObj.matches=orgMatches,this._localCache[this.options.dictionary][limit][txt]=matchObj,matchObj=null,showOptions=0<orgMatches.length}}showOptions?this._displayOptions(this._localCache[this.options.dictionary][limit][txt]):this._hideOptions()},_removeHighlight:function(evtName){var that;"mouse"===evtName&&new Date-this._lastKeyPressDwnUpScroll<100||(that=this,jQuery("li",this._gol.optionsList).removeClass("ui-ncbiautocomplete-options-high").each(function(){that._collapseOption(this)}))},_addHightlightMouse:function(elem){100<new Date-this._lastKeyPressDwnUpScroll&&(this._resetCurrentIndex(),this._currIndex=jQuery(elem).prevAll("li").length,this._addHightlight(elem))},_addHightlight:function(elem){this._removeHighlight(),jQuery(elem).addClass("ui-ncbiautocomplete-options-high");var that=this;this._expandTimer&&window.clearTimeout(this._expandTimer),this._expandTimer=window.setTimeout(function(){that._expandOption(elem)},this.options.expandPauseTime)},_expandOption:function(elem){var fText;jQuery(elem).hasClass("ui-ncbiautocomplete-options-high")&&(fText=(elem=jQuery(elem).attr("isExpanded",!0)).attr("fullText"),elem.html()===fText&&!elem.attr("isIEExpand")||(elem.html(fText).css("text-overflow","").css("white-space","normal").css("-o-text-overflow",""),this._scrollIntoView()))},_collapseOption:function(elem){(elem=jQuery(elem)).attr("isIEExpand")?elem.css("text-overflow","ellipsis").css("white-space","nowrap").css("-o-text-overflow","ellipsis"):elem.css("white-space","nowrap").html(elem.attr("partialText"))},_optionClicked:function(elem){var txt;(elem=jQuery(elem)).hasClass("ui-ncbiautocomplete-show-more")?this._gotoShowAll():(txt=this._cleanUpSelectionText(elem),elem=elem.attr("valueId")||null,this.sgData.optionSelected=txt,this.sgData.optionIndex=this._currIndex,this.sgData.valueId=elem,this.sgData.selectionAction="click",this._sgSend(),(txt=jQuery(this.element).val(txt)).attr("valueid",elem),txt.trigger("ncbiautocompleteoptionclick",this.sgData),txt.trigger("ncbiautocompletechange",this.sgData)),this._isOptionsBoxFocused=!1,this._hideOptions()},isOptionsBoxOpen:function(){return"block"===jQuery(this._gol.optionsBox).css("display")},_hideOptions:function(isForceClose){var box,list;this._gol.activeElement=null,this._isOptionsBoxFocused&&!isForceClose||(box=jQuery(this._gol.optionsBox),isForceClose&&jQuery(this._gol.optionsBox).css("display","none"),box.attr("aria-activedescendant")===this.element.attr("id")&&box.attr("aria-activedescendant",""),this._gol.isIE6&&jQuery(this._gol.optionsBox.iframe).css("display","none"),this._resetCurrentIndex(),this._isActive=!1,this._lastEnteredTerm=null,box=jQuery(this._gol.optionsBox),list=jQuery(this._gol.optionsList),box.css("display","none"),list.html(""),box=this.element.val(),this._lastTextInTextbox=box,this.options.requireValidation&&0<box.length&&this.options.isEnabled&&(!this.element.is(":focus")||isForceClose)&&(list=!(box.length<this.options.minLength)&&this.isInDictionary(box),this._trigger(list?"validselection":"invalidselection")))},_setTextCursorToEnd:function(txt){var elem=this.element;jQuery(elem).val(txt),elem.createTextRange&&((txt=elem.createTextRange()).moveStart("character",elem.value.length),txt.collapse(),txt.select())},_resetCurrentIndex:function(){this._currIndex=-1},_cleanUpSelectionText:function(li){return jQuery.trim(li.attr("acValue")).replace(/&amp;/gi,"&").replace(/\\"/g,'"')},_currIndex:-1,_moveSelection:function(dir){var txt,cnt;this._isActive&&(this.sgData.usedArrows=!0,cnt=jQuery("li",this._gol.optionsList).length,this._currIndex+=dir,this._removeHighlight(),dir="",null===(txt=this._lastEnteredTerm)||txt.length<this.options.minLength||((this._currIndex<0||this._currIndex>=cnt)&&(-2===this._currIndex?this._currIndex=cnt-1:this._currIndex=-1),-1===this._currIndex||(cnt=jQuery("li:eq("+this._currIndex+")",this._gol.optionsList),this._addHightlight(cnt),this._currIndex===this.options.maxListLimit)?(this.sgData.optionSelected="",this.sgData.valueId=""):(txt=this._cleanUpSelectionText(cnt),dir=cnt.attr("valueId")||null,this.sgData.optionSelected=txt,this.sgData.valueId=dir),this.element.attr("_optValue",dir),this.element.attr("valueId",dir),this._setTextCursorToEnd(txt),this._scrollIntoView(),this.sgData.optionIndex=this._currIndex))},_scrollIntoView:function(){var box,boxHeight,boxTop,offset,nextLi,li=jQuery("li:eq("+this._currIndex+")",this._gol.optionsList);0!==li.length&&(boxHeight=(box=jQuery(this._gol.optionsList)).height(),(boxTop=box.scrollTop())<(offset=li[0].offsetTop)-boxHeight+(li=li.height())?(nextLi=1===(nextLi=jQuery("li:eq("+(this._currIndex+1)+")",this._gol.optionsList)).length?nextLi[0].offsetTop:offset+li+10,box.scrollTop(nextLi-boxHeight)):offset<boxTop&&box.scrollTop(offset))},enableAutocomnplete:function(){this.options.isEnabled=!0},disableAutocomnplete:function(){this.disableAutocomplete()},disableAutocomplete:function(){this.options.isEnabled=!1,this._isOptionsBoxFocused=!1,this._hideOptions()},turnOff:function(isError){this.disableAutocomplete();var originalTitle=this.element.data("ncbiautocompleteOriginalTitle");originalTitle&&this.element.attr("title",originalTitle),isError||("undefined"!=typeof ncbi&&ncbi.sg&&ncbi.sg.ping&&ncbi.sg.ping(this.element[0],"autocompleteoffclick","dictionary="+this.options.dictionary),this.element.trigger("ncbiautocompletedisableclicked"),null!==(originalTitle=this.options.disableUrl)&&0<originalTitle.length&&("function"==typeof(isError=jQuery.ui.jig._getFncFromStr(originalTitle))?isError():jQuery.get(originalTitle)))},_prefLinkClick:function(){"undefined"!=typeof ncbi&&ncbi.sg&&ncbi.sg.ping&&ncbi.sg.ping(this.element[0],"autocompleteprefclick","dictionary="+this.options.dictionary)},_checkClickEvent:function(e){this._isActive&&jQuery(this.element)[0]!=e.target&&(this._isOptionsBoxFocused=!1,this._isActive=!1,this._hideOptions())},_sgSend:function(){"undefined"!=typeof ncbi&&void 0!==ncbi.sg&&void 0!==ncbi.sg.ping&&ncbi.sg.ping(this.sgData)},getSgData:function(){return this.sgData},_gotoShowAll:function(){var txtBox=jQuery(this.element),term=txtBox.val(),dict=this.options.dictionary;txtBox.trigger("ncbiautocompleteshowall",{value:term,dictionary:dict})},_hideOptionsIfOffPage:function(){var that,lis,h,holder,winHeight,posTop,totlalH,lookupId,cnt,checkHeight,details,count;this.options.maxListLimit&&(that=this,lis=jQuery(".ui-ncbiautocomplete-options li"),h=lis.eq(0).outerHeight()||20,holder=jQuery(this._gol.optionsBox),winHeight=jQuery(window).height(),posTop=holder.position().top,totlalH=posTop+holder.outerHeight()-(document.body.scrollTop||document.documentElement.scrollTop||window.pageYOffset||0),lis.last().hasClass("ui-ncbiautocomplete-show-more")?(lookupId=posTop+"-"+winHeight+"-"+totlalH,this.choppedDetails||(this.choppedDetails={}),details=this.choppedDetails[lookupId],cnt=0,checkHeight=function(){var ind;totlalH=posTop+holder.outerHeight()-(document.body.scrollTop||document.documentElement.scrollTop||window.pageYOffset||0),winHeight<totlalH?0<=(ind=(lis=jQuery(".ui-ncbiautocomplete-options li")).length-2)&&(lis.eq(ind).remove(),sz=h*(lis.length-1),lis.closest(".ui-ncbiautocomplete-holder").height(sz).css("min-height",sz+"px"),lis.closest(".ui-ncbiautocomplete-options").height(sz).css("overflow-y","hidden"),cnt++,checkHeight()):that.choppedDetails[lookupId].count=cnt},details?(0<(count=details.count)&&(details=2*details.length-count-lis.length-2,lis.filter(":lt("+(lis.length-1)+")").filter(":gt("+details+")").remove(),lis=jQuery(".ui-ncbiautocomplete-options li"),sz=h*lis.length,lis.closest(".ui-ncbiautocomplete-holder").height(sz).css("min-height",sz+"px"),lis.closest(".ui-ncbiautocomplete-options").height(sz).css("overflow-y","hidden")),cnt=count):this.choppedDetails[lookupId]={count:0,length:lis.length},checkHeight()):(details=Math.floor((winHeight-posTop)/h)*h,(count=lis.length*h)<details&&(details=count),lis.closest(".ui-ncbiautocomplete-holder").height(details).css("min-height",details+"px"),lis.closest(".ui-ncbiautocomplete-options").height(details).css("overflow-y","auto")))},isValid:function(){return this.isInDictionary(this.element.val())},isInDictionary:function(txt){var isValid=!1;if(txt&&txt.length>=this.options.minLength&&this.options.dictionary&&0<this.options.dictionary.length&&this.options.isEnabled){var skipServerCheck=!1,limit="l"+(this.options.maxListLimit||"n"),lcTxt=txt.toLowerCase();if(this._localCache[this.options.dictionary]&&this._localCache[this.options.dictionary][limit]){var possibleValues=this._localCache[this.options.dictionary][limit],skipServerCheck=!0;if(possibleValues[lcTxt])isValid=this._isValidCheck(lcTxt,possibleValues[lcTxt].matches);else for(var key in possibleValues)if(isValid=this._isValidCheck(lcTxt,possibleValues[key].matches))break}isValid||skipServerCheck||(isValid=this._validSeverCall(txt))}return isValid},_isValidCheck:function(txt,matches){var re,isValid=!1;return matches&&!(isValid=-1<jQuery.inArray(txt.toLowerCase(),matches))&&(re=new RegExp("(^|@)("+txt.toLowerCase()+")(@|$)","i"),jQuery.each(matches,function(index,item){if(item.match(re))return!(isValid=!0)})),isValid},_customFormat:function(data){"string"==typeof this.options.responseProcessor&&(fnc=jQuery.ui.jig._getFncFromStr(this.options.responseProcessor),this.options.responseProcessor=fnc);var fnc=this.options.responseProcessor.call(this,data),data={matchedText:this._lastEnteredTerm,matches:fnc,isCompleteList:0};this._displayOptions(data)}}),jQuery.ui.ncbiautocomplete._globalOptionsList=null,jQuery.ui.jig.widget("ui.ncbigrid",{selector:"div.jig-ncbigrid table,div.jig-ncbigrid-scroll table,table.jig-ncbigrid,table.jig-ncbigrid-scroll, table[data-jig=ncbigrid], [data-jig=ncbigrid] table",options:{isScrollable:!1,height:"10em",hortScrollbarEnabled:!1,width:null,isPageable:!1,currentPage:1,isPageToolbarHideable:!0,pageSize:10,isSortable:!1,columnTypes:[],sortFunctions:[],isPresorted:!1,sortColumn:-1,sortColumnDir:1,sortRowIndex:0,titleAscending:"sort ascending",titleDescending:"sort descending",ariaLabelAscending:"activate to sort column ascending",ariaLabelDescending:"activate to sort column descending",regExp:!1,checkboxToolbarEnabled:!1,filterToolbarEnabled:!1,filterToolbarIsCaseInsensitive:null,filterToolbarColumnIndex:null,filterToolbarIsInverse:null,isLoadingMessageShown:!0,loadingText:"Loading",collapseRowsEnabled:!1,addCommas:!1},_init:function(){},_create:function(){this._isStartPageOne=1===this.options.currentPage,this._wrapTable(),this._addBasicStyles(),this._checkIfCSSIsScrollable(),this._attachLoadingMessageListener(),(this.options.isScrollable||this.options.isSortable||this.options.isPageable||this.options.checkboxToolbarEnabled||this.options.filterToolbarEnabled)&&this._addAriaRolesAndStates(),this._addRowClickWatcher(),this.options.isScrollable&&this._createScrollable(),(this.options.isPageable||this.options.isPagable)&&(this.options.isPageable=!0,this._createPageGrid()),this.options.isSortable?(this._createSortGrid(),this.updateAriaTH()):this._enableCollapseTbodyRows(),this.options.checkboxToolbarEnabled&&this._createCheckboxSelectors(),this.options.filterToolbarEnabled&&this._createFilterBarControl(),this._addRowHoverEvent(),this._addContentsAdjustmentEvent(),this._adjustContents()},destroy:function(){jQuery.Widget.prototype.destroy.apply(this,arguments),this.options.isScrollable&&this._destroyScrollable(),(this.options.isPageable||this.options.isPagable)&&this._destroyPageGrid(),this._destroyRowHoverEvent()},_addBasicStyles:function(){this.element.addClass("ui-ncbigrid").attr("cellpadding","0").attr("cellspacing","0")},_checkIfCSSIsScrollable:function(){this.element.hasClass("jig-ncbigrid-scroll")&&(this.options.isScrollable=!0)},_wrapTable:function(){var wrapper=this.element.parent().parent(),width=(wrapper.hasClass("ui-ncbigrid-outer-div")||(this.element.wrap('<div class="ui-ncbigrid-outer-div"><div class="ui-ncbigrid-inner-div"></div></div>'),wrapper=this.element.parent().parent()),0<this.element.find("caption").length&&wrapper.addClass("caption-exists"),this.options.width);width&&wrapper.css("width",width)},_addRowHoverEvent:function(){jQuery(this.element).on("mouseenter","tbody > tr",function(){var tr=jQuery(this);tr.hasClass("ignoreHoverHighlight")||tr.addClass("ui-ncbigrid-row-hover")}).on("mouseleave","tbody > tr",function(){jQuery(this).removeClass("ui-ncbigrid-row-hover")})},_destroyRowHoverEvent:function(){jQuery(this.element).off("mouseenter mouseleave","tr")},_addContentsAdjustmentEvent:function(){var that=this;this.element.on("ncbigridupdated",function(){that._adjustContents()})},_getNumCommaIndices:function(){var columnTypes=this.options.columnTypes;if(!columnTypes)return[];for(var indices=[],i=0;i<columnTypes.length;i++)"numComma"!=columnTypes[i]&&"numberComma"!=columnTypes[i]||indices.push(i);return indices},_getCommaSeparatedValue:function(value){var num=parseInt(value);return isNaN(num)?value:(value=(num=value.split("."))[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),num[1]?value+"."+num[1]:value)},_adjustContentsForCommas:function(){var that,numCommaIndices=this._getNumCommaIndices();numCommaIndices.length&&(that=this,jQuery(this.element).find("tbody td").each(function(){var cell=jQuery(this),index=cell.parent().find("td").index(cell);-1!=jQuery.inArray(index,numCommaIndices)&&cell.html(that._getCommaSeparatedValue(cell.html()))}))},_adjustContents:function(){this.options.addCommas&&this._adjustContentsForCommas()},_addAriaRolesAndStates:function(){var table=this.element;table.attr("id")||table.attr("id",jQuery.ui.jig._generateId(this.widgetName)),table.parent().parent().attr("role","grid").attr("tabindex","0"),table.children("thead").children("tr").attr("role","row").children("th").attr({"aria-controls":table.attr("id"),role:"columnheader",tabindex:"0"}),table.children("tbody").attr({role:"alert","aria-live":"polite","aria-relevant":"text"})},updateAriaTH:function(){var table,that;this.options.isSortable&&(table=this.element,that=this,table.parent().parent().find("div, table").attr("tabindex","0").end().find("thead").find("th").each(function(index,item){var currentSort="",nextSort=that.options.ariaLabelAscending,item=(jQuery(item).is(".sortDsc")?(currentSort="descending",nextSort=that.options.ariaLabelAscending):jQuery(item).is(".sortAsc")&&(currentSort="ascending",nextSort=that.options.ariaLabelDescending),jQuery(item).children("a"));jQuery(item).attr("aria-label",jQuery(item).text()+": "+nextSort),""==currentSort?jQuery(item).removeAttr("aria-sort"):jQuery(item).attr("aria-sort",currentSort)}))},_createScrollable:function(){this._storeRefs(),this._addScrollClasses(),this._copyCaptionHeader(),this._setWidthHeight(),this._setWidths(),this._registerScrollableListeners()},_destroyScrollable:function(){if(this._removeScrollClasses(),this.parts){for(var part in this.parts.scrollWrapper.removeClass("ui-ncbigrid-scroll"),this.parts.headerWrapper.remove(),this.parts)this.parts[part]=null;this.parts=null}this._windowResize&&jQuery(window).unbind("resize",this._windowResize)},_storeRefs:function(){var table=this.element;this.parts={table:table,ths:table.find("> thead th")}},_addScrollClasses:function(){var userAgent,table=this.element,scrollWrapper=table.parent().addClass("ui-ncbigrid-scroll");this.parts.scrollWrapper=scrollWrapper,jQuery.browser.webkit&&0<(userAgent=navigator.userAgent).indexOf("AppleWebKit")&&-1==userAgent.indexOf("Chrome")&&table.addClass("safari"),this.options.hortScrollbarEnabled&&scrollWrapper.addClass("ui-ncbigrid-hort-scroll")},_removeScrollClasses:function(){this.element.removeClass("ui-ncbigrid").removeClass("safari").parent().removeClass("ui-ncbigrid-scroll")},_copyCaptionHeader:function(){var table=this.element,scrollWrapper=table.parent(),clonedCaption=(scrollWrapper.parent(),table.find("caption").clone()),table=table.find("> thead").clone(),clonedCaption=jQuery("<div class='ui-ncbigrid-header-wrapper'></div>").append("<table cellpadding='0' cellspacing='0' class='ui-ncbigrid ui-ncbigrid-header'></table>").find("table").append(clonedCaption).append(table).end(),table=(clonedCaption.insertBefore(scrollWrapper),clonedCaption.find("caption"));table.wrapInner("<div></div>"),this.parts.captionDiv=table.find("div"),this.parts.headerWrapper=clonedCaption,this.parts.headerThs=clonedCaption.find("thead th")},_setWidthHeight:function(){null!==this.options.height&&this.parts.scrollWrapper.height(this.options.height)},_setWidths:function(){var elems=this.parts,table=elems.table,ths=elems.ths,scrollWrapper=elems.scrollWrapper,headerWrapper=elems.headerWrapper,elems=elems.headerThs,isIE=jQuery.browser.msie,widths=(!this.options.hortScrollbarEnabled&&!0!==table.data("isMinSet")&&this.element.is(":visible")&&(tableWidth=table.outerWidth(),table.width()>scrollWrapper.width())&&(scrollWrapper.css("min-width",tableWidth+16),table.data("isMinSet",!0)),ths.length,[]);ths.each(function(ind){var wid=0;jQuery(this).is(":visible")&&(wid=jQuery(this).width()+0),widths.push(wid)});var tableWidth=table.height()>scrollWrapper.height()?16:0,ths=this.options.isSortable&&isIE&&parseInt(jQuery.browser.version,10)<8?tableWidth:0,isIE=(table.parent().parent().find("table.ui-ncbigrid-header").width(table.width()+2-ths),scrollWrapper.width()-tableWidth);headerWrapper.width(isIE),this.parts.captionDiv&&this.parts.captionDiv.width(isIE),elems.each(function(ind){jQuery(this).width(widths[ind])})},_handleScroll:function(scollDiv,scrollHeader,isRepeat){var scrollLeft=scollDiv.scrollLeft,that=(scrollHeader.scrollLeft=scrollLeft,this.parts.captionDiv&&this.parts.captionDiv.css("margin-left",scrollLeft+"px"),this);function repeat(){that._handleScroll(scollDiv,scrollHeader,!0)}isRepeat||(window.setTimeout(repeat,1),window.setTimeout(repeat,5))},_registerScrollableListeners:function(){var that=this,scrollHeader=(this._windowResize=function(){that._setWidths()},jQuery(window).resize(this._windowResize),this.element.parent().parent().find(".ui-ncbigrid-header-wrapper")[0]);this.element.parent().scroll(function(){that._handleScroll(this,scrollHeader)}),this.element.bind("ncbigridupdated",function(){that._setWidths()}),this.element.bind("resetScroll",function(){that._resetScrollToTop()})},_resetScrollToTop:function(){this.parts.scrollWrapper.scrollTop(0)},_createPageGrid:function(){this._createPageBars(),this._addPagingEvents(),this._gotoPage(this.options.currentPage)},_destroyPageGrid:function(){this._pageBars&&(this._removePagingEvents(),this._removePageBars())},_pagingControlsHTML:'                                         <div class="ui-ncbigrid-paged-toolbar">                                                <div class="ui-ncbigrid-paged-countItems">Items <span class="ui-ncbigrid-paged-startRow">1</span> - <span class="ui-ncbigrid-paged-endRow">10</span> of <span class="ui-ncbigrid-paged-totalRows">10</span></div>                                                <div class="ui-ncbigrid-paged-pageControl pagination">                        <a href="#" class="ui-ncbigrid-paged-pageControl-first page_link" title="Goto First Page">&lt;&lt; First</a>                        <span class="ui-ncbigrid-paged-pageControl-first page_link" title="Inactive Goto First Page">&lt;&lt; First</span>                        <a href="#" class="ui-ncbigrid-paged-pageControl-previous page_link prev" title="Goto Previous Page">&lt; Prev</a>                        <span class="ui-ncbigrid-paged-pageControl-previous page_link prev" title="Inactive Goto Previous Page">&lt; Prev</span>                        <label>Page</label> <input type="text" value="1" size="2" title="current page number"/> of <span class="ui-ncbigrid-paged-endPage">2</span>                        <a href="#" class="ui-ncbigrid-paged-pageControl-next next page_link" title="Goto Next Page">Next &gt;</a>                        <span class="ui-ncbigrid-paged-pageControl-next next page_link" title="Inactive Goto Next Page">Next &gt;</span>                        <a href="#" class="ui-ncbigrid-paged-pageControl-last page_link" title="Goto Last Page">Last &gt;&gt;</a>                        <span class="ui-ncbigrid-paged-pageControl-last page_link" title="Inactive Goto Last Page">Last &gt;&gt;</span>                        </div>                                            </div>',_createPageBars:function(){this._pageToolBar_top=jQuery(this._pagingControlsHTML).addClass("ui-ncbigrid-paged-toolbar-top"),this._pageToolBar_bottom=jQuery(this._pagingControlsHTML).addClass("ui-ncbigrid-paged-toolbar-bottom");var table=this.element,gridWrapper=table.parent().parent();gridWrapper.prepend(this._pageToolBar_top),gridWrapper.append(this._pageToolBar_bottom),gridWrapper.children(".ui-ncbigrid-paged-toolbar-top").children(".ui-ncbigrid-paged-countItems").attr("id",jQuery.ui.jig._generateId("ui-ncbigrid-paged-countItems")),table.attr("aria-describedby",this._pageToolBar_top.children(".ui-ncbigrid-paged-countItems").attr("id")),this._pageBars=this._pageToolBar_top.add(this._pageToolBar_bottom),this._pageBars.find(":input").each(function(index,item){jQuery(item).attr("id",jQuery.ui.jig._generateId("ui-ncbigrid-paged-current-page")).prev().attr("for",jQuery(item).attr("id"))})},_removePageBars:function(){this._pageToolBar_top.remove(),this._pageToolBar_top=null,this._pageToolBar_bottom.remove(),this._pageToolBar_bottom=null,this._pageBars=null,this.element.removeAttr("aria-describedby")},_addPagingEvents:function(){var that=this,buttonsFirst=this._pageBars.find("a.ui-ncbigrid-paged-pageControl-first"),buttonsPrev=this._pageBars.find("a.ui-ncbigrid-paged-pageControl-previous"),buttonsNext=this._pageBars.find("a.ui-ncbigrid-paged-pageControl-next"),buttonsLast=this._pageBars.find("a.ui-ncbigrid-paged-pageControl-last"),textInputs=this._pageBars.find("input");buttonsFirst.click(function(e){that.gotoFirstPage(),e.preventDefault()}),buttonsPrev.click(function(e){that.gotoPrevPage(),e.preventDefault()}),buttonsNext.click(function(e){that.gotoNextPage(),e.preventDefault()}),buttonsLast.click(function(e){that.gotoLastPage(),e.preventDefault()}),textInputs.keypress(function(e){13===e.keyCode&&(that.gotoPage(this.value.replace(/,/g,"")),e.preventDefault())})},_removePagingEvents:function(){this._pageBars.find("a").unbind("click").end().find("input").unbind("keypress")},_showHidePageToolbar:function(){this._pageBars&&this.options.isPageToolbarHideable&&(parseInt(this.getRowCount())<=parseInt(this.options.pageSize)?this._pageBars.hide():this._pageBars.show())},_setPage:function(){this.element.trigger("resetScroll"),this.element.trigger("pagechanged");var currentPage=this._getCurrentPage(),maxPage=this.getMaxPage();this._showHidePageToolbar(),this._updateRows(currentPage,maxPage),this._updateButtons(currentPage,maxPage),this._updatePagingText(currentPage,maxPage),this._updateGoto(currentPage,maxPage),this._updateItemRange(currentPage,maxPage),this._pageBars.find(".ui-ncbigrid-paged-pageControl").attr({"aria-valuemin":"1","aria-controls":this.element.attr("id"),"aria-valuemax":maxPage,"aria-valuenow":currentPage}),this._notifyGridUpdated()},_updateRows:function(currentPage){var pageSize=this.options.pageSize,rowCount=this.getRowCount(),currentPage=(currentPage-1)*pageSize,pageSize=currentPage+pageSize,trs=this.element.find("> tbody > tr:not(.ncbigrid-row-filtered)"),hasMultiTbody=1<this.element.find("> tbody").length,prevThCount=0,filterSelector=(hasMultiTbody&&0<currentPage&&(prevThCount=trs.filter(":lt("+currentPage+")").filter(":has(th)").length),""),rowCount=(pageSize<rowCount&&(filterSelector+=":lt("+(pageSize+prevThCount)+")"),0<currentPage&&(filterSelector+=":gt("+(currentPage-1+prevThCount)+")"),trs);if(0<filterSelector.length&&(trs.not(".ui-ncbigrid-rowHidden").addClass("ui-ncbigrid-rowHidden"),rowCount=trs.filter(filterSelector)),rowCount.removeClass("ui-ncbigrid-rowHidden"),hasMultiTbody){var thCount=rowCount.filter(":has(th)").length;if(0<thCount)for(var addCount=0,nextRow=rowCount.last().next();addCount<thCount&&1===nextRow.length;)nextRow.hasClass("ncbigrid-row-filtered")||(nextRow.has("th")||addCount++,nextRow.removeClass("ui-ncbigrid-rowHidden")),nextRow=nextRow.next()}this._notifyGridUpdated()},_updateButtons:function(currentPage,maxPage){var isOnly2Pages=2===maxPage,prevDisabled=1===currentPage,firstLink=this._pageBars.find("a.ui-ncbigrid-paged-pageControl-previous,a.ui-ncbigrid-paged-pageControl-first").css("display",prevDisabled?"none":"inline").filter("a.ui-ncbigrid-paged-pageControl-first"),prevDisabled=this._pageBars.find("span.ui-ncbigrid-paged-pageControl-previous,span.ui-ncbigrid-paged-pageControl-first").css("display",prevDisabled?"inline":"none").filter("span.ui-ncbigrid-paged-pageControl-first"),currentPage=currentPage===maxPage||0==maxPage,maxPage=this._pageBars.find("a.ui-ncbigrid-paged-pageControl-next,a.ui-ncbigrid-paged-pageControl-last").css("display",currentPage?"none":"inline").filter("a.ui-ncbigrid-paged-pageControl-last"),currentPage=this._pageBars.find("span.ui-ncbigrid-paged-pageControl-next,span.ui-ncbigrid-paged-pageControl-last").css("display",currentPage?"inline":"none").filter("span.ui-ncbigrid-paged-pageControl-last");isOnly2Pages&&firstLink.add(prevDisabled).add(maxPage).add(currentPage).css("display","none")},_updatePagingText:function(currentPage,maxPage){maxPage<1&&(maxPage=1),this.options.addCommas&&(maxPage=this._getCommaSeparatedValue(""+maxPage)),this._pageBars.find("div.ui-ncbigrid-paged-pageControl").find("span.ui-ncbigrid-paged-endPage").html(maxPage)},_updateGoto:function(currentPage){this.options.addCommas&&(currentPage=this._getCommaSeparatedValue(""+currentPage)),this._pageBars.find("input").val(currentPage)},_updateItemRange:function(currentPage,maxPage){var pageSize=parseInt(this.options.pageSize,10),rowCount=this.getRowCount(),currentPage=(currentPage-1)*pageSize+1,pageSize=currentPage+pageSize-1,pageControl=(rowCount<pageSize&&(pageSize=rowCount),0==rowCount&&(currentPage=0),this.options.addCommas&&(rowCount=this._getCommaSeparatedValue(""+rowCount),currentPage=this._getCommaSeparatedValue(""+currentPage),pageSize=this._getCommaSeparatedValue(""+pageSize)),this._pageBars.find("div.ui-ncbigrid-paged-countItems"));pageControl.find("span.ui-ncbigrid-paged-startRow").html(currentPage),pageControl.find("span.ui-ncbigrid-paged-endRow").html(pageSize),pageControl.find("span.ui-ncbigrid-paged-totalRows").html(rowCount)},_getCurrentPage:function(){return this.options.currentPage},getCurrentPage:function(){return this._getCurrentPage()},getMaxPage:function(){return Math.ceil(this.getRowCount()/this.options.pageSize)},getRowCount:function(){return jQuery(this.element).find("> tbody > tr:not(.ncbigrid-row-filtered):not(:has(> th))").length},getHeaderRowCount:function(){return jQuery(this.element).find("tbody > tr:has(th)").length},gotoFirstPage:function(){this._gotoPage(1)},gotoLastPage:function(){this._gotoPage(this.getMaxPage())},gotoNextPage:function(){this._gotoPage(this._getCurrentPage()+1)},gotoPrevPage:function(){this._gotoPage(this._getCurrentPage()-1)},gotoPage:function(pageNumber_IndexStartsAtOne){this._gotoPage(parseInt(pageNumber_IndexStartsAtOne,10))},_gotoPage:function(pageNum){(isNaN(pageNum)||pageNum<1||pageNum>this.getMaxPage()&&(pageNum=this.getMaxPage())<1)&&(pageNum=1),this.options.currentPage=pageNum,this._pagingSelectAllQuestions&&this._pagingSelectAllQuestions.hide(),this._setPage()},_createSortGrid:function(){var sortCol=this.options.sortColumn;-1!==this.options.sortColumn&&(this.options.sortColumn=-1!=(sortCol=sortCol-1)?sortCol:0),this._indexGrid(),this._addSortEvents(),this._setSortHeaders(),this._checkInitialState(),this._notifyGridUpdated()},_destroySortGrid:function(){},reindex:function(){for(var i=0;i<this.element.find("tbody tr:eq(0) td").length;i++)this.element.data("sort_order_col_"+i,null);this.element.data("rows",null),this._indexGrid()},_indexGrid:function(){var that=this,tbody=this.element.find("> tbody");if(0===tbody.length)this._isIndexed=!1;else for(var tb=0;tb<tbody.length;tb++)!function(currentTbody,tbIndex){var rows=[],header=[],rowsOrg=[],cntAdj=0,trs=jQuery(currentTbody).find("> tr"),cnt=0,rowCount=trs.length;0===rowCount?that._isIndexed=!1:(that._isIndexed=!0,function loopDeLoop(){for(var i=0;i<50&&cnt<rowCount;i++){var row=trs[cnt],rowData=that.getRowValues_DOM(row);0==rowData.length?(that._enableCollapseTbodyRows(row),header.push(row),cntAdj++):(rowData.unshift(cnt-cntAdj,row),rows.push(rowData),rowsOrg.push(rowData)),cnt++}cnt<rowCount?window.setTimeout(loopDeLoop,0):(that.element.data("tbody"+tbIndex+"-rows",rowsOrg),that.element.data("tbody"+tbIndex+"-header",header),that._presort(rows,tbIndex))}())}(tbody[tb],tb)},_presort:function(rows,tbodyIndex){var that=this;function mergeSortWrapper(data,column,onComplete){var custSort=function(column){var custSort=that.options.sortFunctions[column-2];if(custSort=custSort||that.element.find("> thead th:eq("+(column-2)+")").data("sortfunc")){if("function"==typeof custSort)return custSort;if(0===custSort.indexOf("fnc:")){for(var parts=custSort.substr(4,custSort.length).split("."),cType=window[parts[0]],i=1;i<parts.length;i++)cType=cType[parts[i]];return that.options.sortFunctions[column]=cType}}return null}(column);function mergeSort(arr){var left,middle;return arr.length<2?arr:(middle=parseInt(arr.length/2),left=arr.slice(0,middle),middle=arr.slice(middle,arr.length),function(left,right){var result=[];for(;left.length&&right.length;){var swap=!1;swap=custSort?-that.options.sortColumnDir==custSort.call(that,{data:left[0][column],row:jQuery(left[0][1])},{data:right[0][column],row:jQuery(right[0][1])}):left[0][column]<=right[0][column],result.push((swap?left:right).shift())}for(;left.length;)result.push(left.shift());for(;right.length;)result.push(right.shift());return result}(mergeSort(left),mergeSort(middle)))}var loopSize=jQuery.browser.msie?100:1e3,curInd=0,array=[];!function(){for(var j=0;j<loopSize&&curInd<data.length;j++)array.push(data[curInd]),curInd++;curInd<data.length?setTimeout(arguments.callee,0):onComplete(mergeSort(array),column)}()}function cacheOrder(array,column){var curInd=0,ord=[];!function(){for(var j=0;j<50&&curInd<array.length;j++)ord.push(array[curInd][0]),curInd++;curInd<array.length?setTimeout(arguments.callee,0):that.element.data("tbody"+tbodyIndex+"-sort_order_col_"+(column-2),ord)}()}for(var numColumns=rows[0].length,numCol=2;numCol<numColumns;numCol++)"none"!==this._getColumnType(numCol-2)&&mergeSortWrapper(rows,numCol,cacheOrder)},_getColumnType:function(colIndex){return this.options.columnTypes[colIndex]||this.element.find("> thead th:eq("+colIndex+")").data("columntype")||"str"},getColumnType:function(colIndex){return this._getColumnType(colIndex-1)},getRowValues:function(row){for(var out=[],tds=(row="number"==typeof row?this.element.find("tbody tr:eq("+row+")"):row)[0].getElementsByTagName("td"),tdsLength=tds.length,i=0;i<tdsLength;i++)out.push(this._getCellValueHelper(tds[i].innerHTML,i));return out},getRowValues_DOM:function(row){for(var out=[],tds=jQuery(row).children("td"),tdsLength=tds.length,i=0;i<tdsLength;i++)out.push(this._getCellValueHelper(tds[i].textContent||tds[i].innerText||"",i));return out},_getCellValue:function(cell,columnIndex){cell=cell.html();return this._getCellValueHelper(cell,columnIndex)},_getCellValueHelper:function(stringText,columnIndex){var cellType=this._getColumnType(columnIndex);switch(cellType){case"num":case"number":case"float":return void 0!==stringText&&0<stringText.length?parseFloat(stringText):Number.POSITIVE_INFINITY;case"int":return void 0!==stringText&&0<stringText.length?parseInt(stringText,10):Number.POSITIVE_INFINITY;case"numberComma":case"numComma":var str=(stringText||"").replace(/[, ]/g,"");return 0<str.length?parseFloat(str):Number.POSITIVE_INFINITY;case"date":return new Date(stringText);case"str-insensitive":return stringText.toLowerCase();default:if("function"==typeof cellType)return cellType(stringText);if(0!==cellType.indexOf("fnc:"))return stringText||"";for(var parts=cellType.substr(4,cellType.length).split("."),cType=window[parts[0]],i=1;i<parts.length;i++)cType=cType[parts[i]];return(this.options.columnTypes[columnIndex]=cType)(stringText)}},getCellValue:function(row,column){row=(row="number"==typeof row?this.element.find("tbody tr:eq("+row+")"):row).find("td:eq("+column+")");return this._getCellValue(row,column)},_addSortEvents:function(){var that=this,ths=this.element.find("> thead tr:eq("+this.options.sortRowIndex+") th"),linkStr=(this.element.bind("ncbigridcontentchanged",function(){that.reindex()}),"<a href='#' title='"+this.options.titleAscending+"'></a>");function addLinks(ind){"none"!==that._getColumnType(ind)&&jQuery(this).wrapInner(linkStr).find("a").data("index",ind)}ths.each(addLinks);this.parts&&this.parts.headerThs&&(this.parts.headerThs.each(addLinks),ths=ths.add(this.parts.headerThs)),ths.find("a").click(function(e){that._sort(jQuery(this).data("index")),e.preventDefault()})},sort:function(index,direction){this._sort(index-1,direction)},_sort:function(index,direction){this._isIndexed&&(this.options.isPageable&&this.element.trigger("resetCheckboxes"),void 0===(direction=direction)&&(direction=this.options.sortColumn!==index?1:-1*this.options.sortColumnDir),this.options.sortColumn=index,this.options.sortColumnDir=direction,this.element.trigger("ncbigridshowloadingbar"),this._setSortHeaders(),this._waitForCache())},_setSortHeaders:function(){var sortClass,titleText,tableThs=this.element.find("> thead tr:eq("+this.options.sortRowIndex+") th"),scrollThs=null,sortColumn=(this.parts&&this.parts.headerThs&&(scrollThs=this.parts.headerThs),tableThs.add(scrollThs).removeClass("sortAsc sortDsc").addClass("sortNone").find("a").attr("title",this.options.titleAscending),this.options.sortColumn);-1!==this.options.sortColumn&&(sortClass=1===this.options.sortColumnDir?"sortAsc":"sortDsc",titleText=1===this.options.sortColumnDir?this.options.titleDescending:this.options.titleAscending,tableThs.eq(sortColumn).addClass(sortClass).removeClass("sortNone").find("a").attr("title",titleText),scrollThs)&&scrollThs.eq(sortColumn).addClass(sortClass).removeClass("sortNone").find("a").attr("title",titleText),this.options.isSortable&&this.updateAriaTH()},_waitForCache:function(){for(var that=this,colIndex=this.options.sortColumn,tbodies=this.element.find("tbody"),i=0;i<tbodies.length;i++)!function(tbIndex){var fnc,rowOrder=that.element.data("tbody"+tbIndex+"-sort_order_col_"+colIndex);rowOrder?that._setTheRows(rowOrder,tbIndex):(fnc=arguments.callee,setTimeout(function(){fnc(tbIndex)},10))}(i)},_setTheRows:function(rowOrder,tbIndex){var header=this.element.data("tbody"+tbIndex+"-header"),rows=this.element.data("tbody"+tbIndex+"-rows"),tbIndex=this.element.find("tbody:eq("+tbIndex+")"),newTbody=jQuery("<tbody>"),headerLength=header.length;if(0<headerLength)for(var i=0;i<headerLength;i++){var newHeader=header[i];newTbody.append(newHeader)}if(1==this.options.sortColumnDir)for(i=0;i<rowOrder.length;i++){var newRow=rows[rowOrder[i]][1];newTbody.append(newRow)}else for(i=rowOrder.length-1;0<=i;i--){newRow=rows[rowOrder[i]][1];newTbody.append(newRow)}tbIndex.replaceWith(newTbody),this.element.trigger("ncbigridhideloadingbar"),this.options.isPageable&&(this._isStartPageOne?this.gotoFirstPage():(this._gotoPage(this.options.currentPage),this._isStartPageOne=!0)),this.element.trigger("ncbigridcolumnsorted",[this.options.sortColumn+1,this.options.sortColumnDir])},_checkInitialState:function(){this.options.isPresorted||-1===this.options.sortColumn||this._sort(this.options.sortColumn,this.options.sortColumnDir)},_checkboxControlsHTML:'                                         <div class="ui-ncbigrid-checkbox-toolbar">                        \t\t\t\t\t\t<label>Select:</label>\t\t\t\t\t\t<a href="#" class="ui-ncbigrid-select-all">All</a>\t\t\t\t\t\t<a href="#" class="ui-ncbigrid-select-none">None</a>\t\t\t\t\t\t<label>Selected:</label>\t\t\t\t\t\t<span class="ui-ncbigrid-selected-text">0</span>                                            </div>',_pagingSelectAllQuestionHTML:'<div class="ui-ncbigrid-select-question">All <span class="ui-ncbigrid-select-row-count">10</span> items on this page are <span class="selectText1">selected</span>. <a href="#" class="ui-ncbigrid-select-question-all"><span class="selectText2">Select</span> all rows in table</a> <a href="#" class="ui-ncbigrid-select-question-cancel">Cancel</a></div>',_createCheckboxSelectors:function(){this._createCheckboxBar(),this._addCheckboxEvents(),this._updateCount()},_createCheckboxBar:function(){this._checkboxToolBar_top=jQuery(this._checkboxControlsHTML).addClass("ui-ncbigrid-checkbox-toolbar-top"),this._checkboxToolBar_bottom=jQuery(this._checkboxControlsHTML).addClass("ui-ncbigrid-checkbox-toolbar-bottom");var gridWrapper=this.element.parent().parent();gridWrapper.prepend(this._checkboxToolBar_top),this.options.isPageable?(this._checkboxToolBar_bottom.insertBefore(this._pageToolBar_bottom),this._addSelectAllQuestionToolbar()):gridWrapper.append(this._checkboxToolBar_bottom),gridWrapper.find(".ui-ncbigrid-checkbox-toolbar").attr("aria-controls",this.element.attr("id")),this._chekboxBars=this._checkboxToolBar_top.add(this._checkboxToolBar_bottom)},_addCheckboxEvents:function(){var that=this;this._chekboxBars.find("a.ui-ncbigrid-select-all").click(function(event){that.checkAll(),that._askSelectAllQuestion(),event.preventDefault()}),this._chekboxBars.find("a.ui-ncbigrid-select-none").click(function(event){that.uncheckAll(),that._askSelectAllQuestion(!0),event.preventDefault()}),jQuery(this.element).on("click","tbody",function(event){that._rowClicked(event)}),this.element.bind("resetCheckboxes",function(){that.uncheckAll()}),this._addSelectAllQuestionToolbarEvents()},_addSelectAllQuestionToolbar:function(){this.options.checkboxToolbarEnabled&&(this._pagingSelectAllQuestion_top=jQuery(this._pagingSelectAllQuestionHTML).addClass("ui-ncbigrid-select-question-header"),this._pagingSelectAllQuestion_bottom=jQuery(this._pagingSelectAllQuestionHTML).addClass("ui-ncbigrid-select-question-footer"),this._pagingSelectAllQuestion_top.insertAfter(this._pageToolBar_top),this._pagingSelectAllQuestion_bottom.insertAfter(this._pageToolBar_bottom),this._pagingSelectAllQuestions=this._pagingSelectAllQuestion_top.add(this._pagingSelectAllQuestion_bottom),this._pagingSelectAllQuestions.find(".ui-ncbigrid-select-question-all").attr("aria-controls",this.element.attr("id")))},_addSelectAllQuestionToolbarEvents:function(){var that;this.options.checkboxToolbarEnabled&&((that=this)._pagingSelectAllQuestions.find("a.ui-ncbigrid-select-question-all").click(function(e){that[that._askAllSelectionMode](!0),that._pagingSelectAllQuestions.hide(),e.preventDefault()}),this._pagingSelectAllQuestions.find("a.ui-ncbigrid-select-question-cancel").click(function(e){that._pagingSelectAllQuestions.hide(),e.preventDefault()}),this.element.bind("ncbigridpagechanged checkboxrowclicked",function(){that._pagingSelectAllQuestions&&that._pagingSelectAllQuestions.hide()}))},_askSelectAllQuestion:function(isNone){this._askAllSelectionMode=isNone?"uncheckAll":"checkAll",this.options.isPageable&&(parseInt(this.getRowCount())>=parseInt(this.options.pageSize)?(this._pagingSelectAllQuestions.show(),this._updateSelectPageCount(isNone)):this._pagingSelectAllQuestions.hide())},_updateSelectPageCount:function(isNone){var selectedCount=this.element.find("> tbody > tr > td > input[type=checkbox]:visible").length;this._pagingSelectAllQuestions.find(".ui-ncbigrid-select-row-count").html(selectedCount),this._pagingSelectAllQuestions.find(".selectText1").html(isNone?"deselected":"selected"),this._pagingSelectAllQuestions.find(".selectText2").html(isNone?"Deselect":"Select")},_updateCount:function(){var cbs=this.element.find("tbody input[type=checkbox]"),cbs=(0<cbs.length?cbs.filter(":checked"):this.element.find("tbody tr.ui-ncbigrid-row-selected")).length;this._chekboxBars.find("span.ui-ncbigrid-selected-text").html(cbs)},_checkHelper:function(state,acrossAllPages){var cbs;acrossAllPages?(cbs=jQuery(this.element).find("> tbody > tr:not(.ncbigrid-row-filtered) > td > input[type=checkbox]"),this._trigger(state?"checkall":"uncheckall",null,[state]),this._checkAllState=state):cbs=state&&this.options.isPageable?this.element.find("> tbody > tr > td > input[type=checkbox]:visible"):this.element.find("> tbody > tr > td >  input[type=checkbox]"),cbs.prop("checked",state),acrossAllPages=0===cbs.length?this.element.find("tbody tr").data("row-selected",state):cbs.closest("tr"),state?acrossAllPages.addClass("ui-ncbigrid-row-selected"):acrossAllPages.removeClass("ui-ncbigrid-row-selected"),this._updateCount()},checkAll:function(acrossAllPages){this._checkHelper(!0,acrossAllPages),this._trigger("selectallclicked",null,[{acrossAllPages:acrossAllPages}])},uncheckAll:function(acrossAllPages){this._checkHelper(!1,acrossAllPages),this._trigger("selectnoneclicked",null,[{acrossAllPages:acrossAllPages}])},_rowClicked:function(event){var checkboxState,event=jQuery(event.target||event.srcElement),cb=null,event=(event.is("input[type=checkbox]")?checkboxState=(cb=event).is(":checked"):event.is("a")||(checkboxState=!(cb=event.closest("tr").find("input[type=checkbox]")).is(":checked"),cb.prop("checked",checkboxState)),event.closest("tr"));cb&&0===cb.length&&(checkboxState=!event.data("row-selected"),event.data("row-selected",checkboxState)),checkboxState?event.addClass("ui-ncbigrid-row-selected"):event.removeClass("ui-ncbigrid-row-selected"),this.element.trigger("checkboxrowclicked"),this._updateCount()},_filterBarControlsHTML:'                                         <div class="ui-ncbigrid-filter-toolbar">                        \t\t\t\t\t\t\t<label>Filter:</label>\t\t\t\t\t\t\t<input type="text" name="gridFilter" />                                            </div>',_createFilterBarControl:function(){this._createFilterBar(),this._addFilterEvents()},_createFilterBar:function(){this._filterToolBar=jQuery(this._filterBarControlsHTML);var gridWrapper=this.element.parent().parent(),gridFilterId=(gridWrapper.prepend(this._filterToolBar).children(".ui-ncbigrid-filter-toolbar").attr("aria-controls",this.element.attr("id")),gridWrapper.addClass("filterToolbar-exists"),jQuery.ui.jig._generateId("gridFilter"));gridWrapper.children(".ui-ncbigrid-filter-toolbar").children(":input").attr("id",gridFilterId).prev().attr("for",gridFilterId)},_addFilterEvents:function(){var that=this;this._filterToolBar.find("input[type=text]").keyup(function(event){that._filterGrid(event,this)})},_filterGrid:function(event,textbox){this._lastRunFilter||(this._lastRunFilter="");var textbox=textbox.value,isCaseInsensitive=this.options.filterToolbarIsCaseInsensitive||null,col=this.options.filterToolbarColumnIndex||null,isInverse=this.options.filterToolbarIsInverse||null;if(0<this._lastRunFilter.length&&0!==textbox.indexOf(this._lastRunFilter)&&this.removeFilterRows(),this._lastRunFilter=textbox,0<this._lastRunFilter.length){var skipFilter=!1;if(this.options.regExp)try{textbox=RegExp(textbox.replace(/(^\/)|(\/$)/g,""))}catch(e){skipFilter=!0}skipFilter||this.filterRows(textbox,isCaseInsensitive,col,isInverse)}},_custFilterCnt:0,filterRows:function(txt,isCaseInsensitive,col,isInverse){if(void 0!==txt&&0!==txt.length){this.element.trigger("ncbigridshowloadingbar"),jQuery.isArray(txt)||(txt=[[orgTxt=txt,isCaseInsensitive,col,isInverse]]);for(var remainingRows,isInverse=remainingRows=jQuery("tbody tr:not(.ncbigrid-row-filtered)",this.element),j=0;j<txt.length;j++){var cnt,currFilter=txt[j],currTxt=currFilter[0],_col=(currFilter[1],currFilter[2]),colMatch="",currFilter=(null!=_col&&(colMatch=":nth-child("+_col+")"),currFilter[3]?"not-":""),sen="",filterFnc=null;"function"==typeof currTxt?(sen="-functionTest",cnt=this._custFilterCnt,this._custFilterCnt=cnt+1,filterFnc="filter_temp_"+cnt,jQuery.ui.jig[filterFnc]=currTxt,currTxt="jQuery.ui.jig."+filterFnc):currTxt.constructor&&0<currTxt.constructor.toString().indexOf("RegExp")?sen="-regexp":isCaseInsensitive&&(sen="-insensitive"),remainingRows=null!==_col?remainingRows.find("td"+colMatch+":"+currFilter+"contains"+sen+"("+currTxt+")").parent():remainingRows.filter(":"+currFilter+"contains"+sen+"("+currTxt+")"),filterFnc&&(jQuery.ui.jig[filterFnc]=null)}var that=this;if(isInverse)for(var filteredRows,filteredCount=(filteredRows=isInverse.not(remainingRows)).length,cntRow=0;cntRow<filteredCount;)filteredRows.eq(cntRow).addClass("ncbigrid-row-filtered").attr("isfiltered","true"),cntRow++;completed()}function completed(){that.options.isPageable&&that._gotoPage(0),that.element.trigger("ncbigridfilterapplied",[txt,isCaseInsensitive,col,filteredRows,remainingRows]).trigger("ncbigridhideloadingbar"),that._notifyGridUpdated()}},removeFilterRows:function(txt,isCaseInsensitive,col,isUndo,isInverse){var filterTypeStart,filterTypeEnd,orgTxt,filterFnc,cnt,selText,whatToRemove=null,that=(whatToRemove=void 0!==txt&&0<txt.length?(filterTypeEnd=filterTypeStart="",((isUndo=void 0===isUndo?!0:isUndo)||isInverse)&&(filterTypeStart=":not(",filterTypeEnd=")"),orgTxt=isUndo="",filterFnc=null,"function"==typeof txt?(isUndo="-functionTest",cnt=this._custFilterCnt,this._custFilterCnt=cnt+1,filterFnc="filter_temp_"+cnt,jQuery.ui.jig[filterFnc]=txt,orgTxt=txt,txt="jQuery.ui.jig."+filterFnc):txt.constructor&&0<txt.constructor.toString().indexOf("RegExp")?isUndo="-regexp":isCaseInsensitive&&(isUndo="-insensitive"),null!=col?(selText="tbody tr[isfiltered='true'] td:nth-child("+col+")"+filterTypeStart+":"+(isInverse?"not-":"")+"contains"+isUndo+"("+txt+")"+filterTypeEnd,this.element.find(selText).parent()):(selText="tbody tr[isfiltered='true']"+filterTypeStart+":contains"+isUndo+"("+txt+")"+filterTypeEnd,this.element.find(selText))):this.element.find("tr.ncbigrid-row-filtered"),this);function completed(){filterFnc&&(jQuery.ui.jig[filterFnc]=null,txt=orgTxt),that.options.isPageable&&that._gotoPage(0),that.element.trigger("ncbigridfilterremoved",[txt,isCaseInsensitive,col]),that.options.isPageable?that._gotoPage(that.options.currentPage):that._notifyGridUpdated()}if(null!==whatToRemove)for(var whatToRemoveCount=whatToRemove.length,cntRow=0;cntRow<whatToRemoveCount;)whatToRemove.eq(cntRow).removeClass("ncbigrid-row-filtered").attr("isfiltered","false"),cntRow++;completed()},showColumn:function(col){var tables=this.element;(tables=this.options.isScrollable?tables.add(this.parts.headerWrapper.find("table")):tables).children().find(">tr>*:nth-child("+col+")").removeClass("ui-ncbigrid-column-hidden"),this._setColumnHiddenData(col,!1),this.element.trigger("showColumn",[col]),this._notifyGridUpdated()},hideColumn:function(col){var tables=this.element;(tables=this.options.isScrollable?tables.add(this.parts.headerWrapper.find(">table")):tables).children().find(">tr>*:nth-child("+col+")").addClass("ui-ncbigrid-column-hidden"),this._setColumnHiddenData(col,!0),this.element.trigger("hideColumn",[col]),this._notifyGridUpdated()},_setColumnHiddenData:function(col,isHidden){var dataHiddenCols=this.element.data("dataHiddenCols");(dataHiddenCols=dataHiddenCols||[])[col]=isHidden,this.element.data("dataHiddenCols",dataHiddenCols)},getHiddenShownColumns:function(){var colsHidden=[],colsShow=[],dataCols=this.element.data("dataHiddenCols");if(dataCols)for(var col in dataCols)(dataCols[col]?colsHidden:colsShow).push(col);return{hidden:colsHidden,shown:colsShow}},_attachLoadingMessageListener:function(){var that=this;this.element.bind("ncbigridshowloadingbar",function(){that._showLoadingMessage()}).bind("ncbigridhideloadingbar",function(){that._hideLoadingMessage()})},_showLoadingMessage:function(){this.options.isLoadingMessageShown&&(this.isPopperAttached||(this.element.parent().parent().ncbipopper({triggerPosition:"top center",destPosition:"top center",hasArrow:!1,closeEvent:"custom",openEvent:"custom",openAnimation:"none",closeAnimation:"none",destText:this.options.loadingText,isDestElementCloseClick:!1,isDocumentElementCloseClick:!1,isEscapeKeyClose:!1,isTriggerElementCloseClick:!1}),this.isPopperAttached=!0),this.element.parent().parent().ncbipopper("open"))},_hideLoadingMessage:function(){this.options.isLoadingMessageShown&&this.element.parent().parent().ncbipopper("close")},_addRowClickWatcher:function(){var that=this;jQuery(this.element).on("click","tbody",function(obj){var row,obj=jQuery(obj.srcElement||obj.target).closest("td");1===obj.length&&(row={row:row=obj.closest("tr"),cell:obj,rowIndex:row[0].rowIndex,cellIndex:obj[0].cellIndex},that.element.trigger("ncbigridrowclick",[row]))})},_notifyGridUpdated:function(){this.element.trigger("ncbigridupdated")},_notifyGridContentChanged:function(){this.element.trigger("ncbigridupdated"),this.element.trigger("ncbigridcontentchanged")},addHTMLRowData:function(htmlStr,indx,loc,tbodyIndex){var rowCount=this.getRowCount(),selector="",selector=void 0===indx?":last-child":(rowCount<indx?indx=rowCount:indx<0&&(indx=1,loc="before"),":nth-child("+indx+")"),indx=void 0!==tbodyIndex?":eq("+tbodyIndex+")":"";0===rowCount?jQuery("tbody"+indx+selector,this.element).append(htmlStr):loc&&"before"===loc.toLowerCase()?jQuery("tbody"+indx+" tr"+selector,this.element).before(htmlStr):jQuery("tbody"+indx+" tr"+selector,this.element).after(htmlStr),this.options.isPageable?this._gotoPage(this.options.currentPage):this._notifyGridUpdated(),this._notifyGridContentChanged()},_deleteRowHelper:function(selector,tbodyIndex){tbodyIndex=void 0!==tbodyIndex?":eq("+tbodyIndex+")":"";selector?this.element.find("tbody"+tbodyIndex+" tr"+selector).remove():this.element.find("tbody"+tbodyIndex).empty()},deleteAllRows:function(){this._deleteRowHelper(),this.options.isPageable&&this._gotoPage(0),this._notifyGridUpdated(),this._notifyGridContentChanged()},deleteRow:function(ind,tbodyIndex){if(void 0!==ind){for(var i=(ind=jQuery.isArray(ind)?ind.sort():[ind]).length-1;0<=i;i--)this._deleteRowHelper(":nth-child("+ind[i]+")",tbodyIndex);this.options.isPageable&&this._gotoPage(this.options.currentPage),this._notifyGridUpdated(),this._notifyGridContentChanged()}},getCellData:function(rowIndex,columnIndex,tbodyIndex){if(void 0!==rowIndex&&void 0!==columnIndex)return 0==(tbodyIndex=jQuery("tbody"+(void 0!==tbodyIndex?":eq("+tbodyIndex+")":"")+" tr:nth-child("+rowIndex+") td:nth-child("+columnIndex+")",this.element)).length?null:this._getCellValue(tbodyIndex,columnIndex)},getColumnCount:function(returnAll){returnAll=!1===returnAll?":visible":"",returnAll=jQuery(this.element).find("tbody tr:not(.ui-ncbigrid-rowHidden):eq(0) td"+returnAll).length;return returnAll=0===returnAll?jQuery(this.element).find("> thead tr:last th").length:returnAll},getColumnData:function(col,tbodyIndex){if(void 0===col)return null;if(jQuery.isArray(col)){for(var colData=[],i=0;i<col.length;i++)(col[i]<=0||col[i]>this.getColumnCount())&&colData.push(null),colData.push(this._getColumnDataHelper(col[i]),tbodyIndex);return colData}return col<=0||col>this.getColumnCount()?void 0:this._getColumnDataHelper(col,tbodyIndex)},_getColumnDataHelper:function(col,tbodyIndex){var rows=[],ref=this,colType=this._getColumnType(col-1),tbodyIndex=("str"!==colType&&colType||(colType="str-sensitive"),void 0!==tbodyIndex?":eq("+tbodyIndex+")":"");if(jQuery("tbody"+tbodyIndex+" tr td:nth-child("+col+")",this.element).each(function(ind,obj){rows.push(ref._csColumnTypeConversion(obj,colType,!0))}),0!==rows.length)return rows},getRowData:function(row,tbodyIndex){if(void 0!==row){if(jQuery.isArray(row)){for(var rowData=[],i=0;i<row.length;i++)rowData.push(this._getRowDataHelper(row[i]),tbodyIndex);return rowData}return this._getRowDataHelper(row,tbodyIndex)}},_getRowDataHelper:function(row,tbodyIndex){var cols=[],that=this,tbodyIndex=void 0!==tbodyIndex?":eq("+tbodyIndex+")":"";if(jQuery("tbody"+tbodyIndex+" tr:nth-child("+row+") td",this.element).each(function(ind,obj){cols.push(that._getCellValue(jQuery(this),ind))}),0!==cols.length)return cols},highlightRows:function(txt,isCaseInsensitive,col,isInverse){var highlightedRows,sen,isIE6=jQuery.browser.msie&&parseFloat(jQuery.browser.version)<7;if(void 0!==txt&&0!==txt.length)return this.element.trigger("ncbigridshowloadingbar"),highlightedRows=[],sen=isCaseInsensitive?"-insensitive":"",isInverse=isInverse?"not-":"",txt.constructor&&0<txt.constructor.toString().indexOf("RegExp")&&(sen="-regexp",isInverse=""),void 0!==col?jQuery("tbody tr td"+(":nth-child("+col+")")+":"+isInverse+"contains"+sen+"("+txt+")",this.element).each(function(ind,obj){var obj=jQuery(obj).parent(),classToAdd="ui-ncbigrid-high";isIE6&&(classToAdd=obj.hasClass("ui-ncbigrid-row-even")?"ui-ncbigrid-row-even-high-IE6":"ui-ncbigrid-row-odd-high-IE6"),obj.addClass(classToAdd),-1===jQuery.inArray(obj,highlightedRows)&&highlightedRows.push(obj)}):jQuery("tbody tr:"+isInverse+"contains"+sen+"("+txt+")",this.element).each(function(ind,obj){var obj=jQuery(obj),classToAdd="ui-ncbigrid-high";isIE6&&(classToAdd=obj.hasClass("ui-ncbigrid-row-even")?"ui-ncbigrid-row-even-high-IE6":"ui-ncbigrid-row-odd-high-IE6"),obj.addClass(classToAdd),highlightedRows.push(obj)}),this.element.trigger("ncbigridhighlightapplied",[txt,isCaseInsensitive,col,highlightedRows]).trigger("ncbigridhideloadingbar"),{highlightedRows:highlightedRows}},removeHighlightRows:function(txt,isCaseInsensitive,col,isInverse){var highlightedRows,sen,isIE6=jQuery.browser.msie&&parseFloat(jQuery.browser.version)<7;void 0!==txt&&0<txt.length?(highlightedRows=[],sen=isCaseInsensitive?"-insensitive":"",isInverse=isInverse?"not-":"",txt.constructor&&0<txt.constructor.toString().indexOf("RegExp")&&(sen="-regexp",isInverse=""),void 0!==col?jQuery("tbody tr td"+(":nth-child("+col+")")+":"+isInverse+"contains"+sen+"("+txt+")",this.element).each(function(ind,obj){obj=jQuery(obj).parent().removeClass("ui-ncbigrid-high");isIE6&&obj.removeClass("ui-ncbigrid-row-odd-high-IE6").removeClass("ui-ncbigrid-row-even-high-IE6"),-1===jQuery.inArray(obj,highlightedRows)&&highlightedRows.push(obj)}):jQuery("tbody tr:"+isInverse+"contains"+sen+"("+txt+")",this.element).each(function(ind,obj){obj=jQuery(obj).removeClass("ui-ncbigrid-high");isIE6&&obj.removeClass("ui-ncbigrid-row-odd-high-IE6").removeClass("ui-ncbigrid-row-even-high-IE6"),highlightedRows.push(obj)})):(jQuery(".ui-ncbigrid-high",this.element).removeClass("ui-ncbigrid-high"),isIE6&&jQuery(".ui-ncbigrid-row-odd-high-IE6, .ui-ncbigrid-row-even-high-IE6",this.element).removeClass("ui-ncbigrid-row-odd-high-IE6").removeClass("ui-ncbigrid-row-even-high-IE6")),this.element.trigger("ncbigridhighlightremoved",[txt,isCaseInsensitive,col])},setCellData:function(row,col,text,tbodyIndex){jQuery("tbody"+(void 0!==tbodyIndex?":eq("+tbodyIndex+")":"")+" tr:nth-child("+row+") td:nth-child("+col+")",this.element).text(text),this.element.trigger("ncbigridcellchange",[row,col,this.getCellData(row,col)]),this._notifyGridUpdated(),this._notifyGridContentChanged()},setRowData:function(row,data,tbodyIndex){jQuery("tbody"+(void 0!==tbodyIndex?":eq("+tbodyIndex+")":"")+" tr:nth-child("+row+") td",this.element).each(function(ind,obj){jQuery(obj).text(data[ind])}),this.element.trigger("ncbigridrowchange",[row,this.getRowData(row,tbodyIndex)]),this._notifyGridUpdated(),this._notifyGridContentChanged()},_enableCollapseTbodyRows:function(row){var that;this.options.collapseRowsEnabled&&(row=row||jQuery(this.element).find("tbody tr:has(th)"),that=this,jQuery(row).each(function(){jQuery(this).addClass("ui-ncbigrid-collapsable").find("th").eq(0).prepend('<span class="collapsableTbodyIcon ui-icon ui-icon-plus-minus-big-open"></span>').find("span").click(function(e){e.stopPropagation(),that._collapseTbodyRows(this.parentNode.parentNode)}).end().end().not(".ignoreCollapse").click(function(){that._collapseTbodyRows(this.parentNode)})}))},_collapseTbodyRows:function(rowHeading){jQuery(rowHeading).find("th span.collapsableTbodyIcon").toggleClass("ui-icon-plus-minus-big").toggleClass("ui-icon-plus-minus-big-open").end().siblings().toggleClass("collapsed")}}),jQuery.extend(jQuery.expr[":"],{"contains-insensitive":function(elem,i,match,array){return 0<=(elem.textContent||elem.innerText||"").toLowerCase().indexOf((match[3]||"").toLowerCase())}}),jQuery.extend(jQuery.expr[":"],{"contains-regexp":function(elem,i,match,array){var elem=jQuery.trim(elem.textContent||elem.innerText||""),match=match[3],matchGlobal=match.match(/\/([gi]+)$/),matchGlobal=null!==matchGlobal?matchGlobal[1]:"",match=match.replace(/\/[gi]?$/,"").replace(/^\//,""),match=new RegExp(match,matchGlobal);return null!==elem.match(match)}}),jQuery.extend(jQuery.expr[":"],{"contains-functionTest":function(elem,i,match,array){elem=elem.textContent||elem.innerText||"";return jQuery.ui.jig._getFncFromStr(match[3])(elem)}}),jQuery.extend(jQuery.expr[":"],{"not-contains":function(elem,i,match,array){return-1===(elem.textContent||elem.innerText||"").indexOf(match[3]||"")}}),jQuery.extend(jQuery.expr[":"],{"not-contains-insensitive":function(elem,i,match,array){return-1===(elem.textContent||elem.innerText||"").toLowerCase().indexOf((match[3]||"").toLowerCase())}}),$.ui.jig.widget("ui.ncbihelpwindow",{options:{status:!1,toolbar:!1,location:!1,menubar:!1,personalbar:!1,resizable:!0,scrollbars:!0,height:700,width:600,windowName:null},_init:function(){},_create:function(){this._addClickEvent()},_addClickEvent:function(){var that=this;this.element.click(function(e){return!!that._openWindow()||(e.preventDefault(),!1)})},_openWindow:function(){var opts=this.options,url=this.element.prop("href"),windowWidth=jQuery(window).width(),windowHeight=jQuery(window).height(),windowHeight=Math.floor((windowHeight-opts.height)/2),windowWidth=Math.floor((windowWidth-opts.width)/2),windowHeight="status="+(opts.status?"yes":"no")+", toolbar="+(opts.toolbar?"yes":"no")+", location="+(opts.location?"yes":"no")+", menubar="+(opts.menubar?"yes":"no")+", personalbar="+(opts.personalbar?"yes":"no")+", resizable="+(opts.resizable?"yes":"no")+", scrollbars="+(opts.scrollbars?"yes":"no")+", height="+opts.height+", width="+opts.width+", top="+windowHeight+", left="+windowWidth+",screenX="+windowHeight+",screenY="+windowWidth,windowWidth=(windowWidth=opts.windowName||this.element.attr("target")||"_blank").replace(/\s/,"_"),opts=(this.winPop&&!this.winPop.closed&&this.winPop.focus(),window.open(url,windowWidth,windowHeight)),url=null==(this.winPop=opts);return this._callStat(url),this._trigger("opened"),url},_callStat:function(isBlocked){"undefined"!=typeof ncbi&&ncbi.sg&&ncbi.sg.ping&&ncbi.sg.ping(this.element[0],"ncbihelpwindow","isBlocked="+isBlocked)}}),jQuery.ui.jig.widget("ui.ncbiplaceholder",{options:{},_label:null,_create:function(){var type;jQuery.ui.ncbiplaceholder.hasPlaceholderSupport()||"hidden"!=(type=this.element.attr("type"))&&"button"!=type&&"submit"!=type&&"radio"!=type&&"checkbox"!=type&&"image"!=type&&"reset"!=type&&this._doFakeLabel()},destroy:function(){this._removeFakeLabel()},_setLabelPosition:function(self){var position=self.element.offset(),width=self.element.outerWidth(),height=self.element.outerHeight(),indentTop=parseInt(self.element.css("borderTopWidth"),0),indentLeft=parseInt(self.element.css("borderLeftWidth"),0);self.element.offsetParent().position();self._label&&self._label.offset&&self._label.offset({top:position.top+indentTop,left:position.left+indentLeft}).css({width:width,height:height})},_doFakeLabel:function(){var that=this;0<this.element.closest(".ui-dialog:hidden, .ui-ncbipopper-basic:hidden, .ui-tabs-panel:hidden").length&&jQuery(document).on("ncbitabsshow tabsshow ncbidialogopen ncbipopperopencomplete",function(){that._setLabelPosition(that)}),this._fakeLabel(this)},_fakeLabel:function(self){var that=self,placeholder_text=self.element.attr("placeholder").replace(/<br\s?\/?>/,"");this._label=jQuery('<label class="ui-ncbiplaceholder-label" aria-hidden="true">'+placeholder_text+"</label>").insertAfter(self.element),this._setLabelPosition(self);jQuery(["paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","lineHeight","fontFamily","width","fontWeight"]).each(function(){that._label.css(self.toString(),that.element.css(self.toString()))}),0!==self.element.val().length&&self._label.hide(),self._label.on("click",function(){that.element.focus()}),self.element.on("focus.ncbiplaceholder",function(){that._label.hide()}),self.element.on("blur.ncbiplaceholder",function(){0===that.element.val().length&&that._label.show()})},_removeFakeLabel:function(){this._label&&this._label.remove(),this.element.off("blur.ncbiplaceholder"),this.element.off("focus.ncbiplaceholder")},value:function(){return this.element.val()},hasValue:function(){return 0!==this.element.val().length}}),jQuery.ui.ncbiplaceholder.hasPlaceholderSupport=function(){var hasSupport="placeholder"in document.createElement("input");return jQuery.ui.ncbiplaceholder.hasPlaceholderSupport=function(){return hasSupport},hasSupport},$.widget("ui.ncbiprogressbar",$.ui.progressbar,{}),!function(){var gridOpts=jQuery.ui.ncbigrid.prototype.options,orgCreate=(gridOpts.webservice=null,gridOpts.webserviceParams=null,gridOpts.isServersideLoad=!1,gridOpts.isServersidePaging=!1,gridOpts.isServersidePagingCached=!1,gridOpts.isServersideSort=!1,gridOpts.maxRowCount=null,gridOpts.columnNames=null,gridOpts.webserviceReturnsJSON=!1,gridOpts.columns=null,gridOpts.record=null,gridOpts.groupField=null,gridOpts.localJSON=null,jQuery.ui.ncbigrid.prototype._create),org_killActiveSort=jQuery.ui.ncbigrid.prototype._killActiveSort,org_sort=jQuery.ui.ncbigrid.prototype._sort,org_indexGrid=jQuery.ui.ncbigrid.prototype._indexGrid,org_waitForCache=jQuery.ui.ncbigrid.prototype._waitForCache,org_filterRows=jQuery.ui.ncbigrid.prototype.filterRows,org_removeFilterRows=jQuery.ui.ncbigrid.prototype.removeFilterRows,orgUpdateRows=jQuery.ui.ncbigrid.prototype._updateRows,orgGetMaxPage=(jQuery.ui.ncbigrid.prototype.getRowCount,jQuery.ui.ncbigrid.prototype.getMaxPage),orgUpdateCount=jQuery.ui.ncbigrid.prototype._updateCount,orgGotoPage=jQuery.ui.ncbigrid.prototype._gotoPage,orgCheckAll=jQuery.ui.ncbigrid.prototype.checkAll,orgUncheckAll=jQuery.ui.ncbigrid.prototype.uncheckAll;jQuery.ui.jig.widget("ui.ncbiservergrid",jQuery.ui.ncbigrid,{selector:"div.jig-ncbiservergrid table,div.jig-ncbiservergrid-scroll table,table.jig-ncbiservergrid,table.jig-ncbiservergrid-scroll, [data-jig=ncbiservergrid] table, table[data-jig=ncbiservergrid]",_loadCreateCallback:!1,_create:function(){this._checkForTemplating(),this.options.maxRowCount&&(this.options.maxRowCount=parseInt(this.options.maxRowCount)),this.options.isServersidePaging&&(this.options.isPageable=!0,this.options.isServersideLoad)&&!this.options.maxRowCount&&1<this.options.currentPage&&(this.options.maxRowCount=this.options.currentPage*this.options.pageSize),this.options.isServersideSort&&(this.options.isSortable=!0,this._isIndexed=!0),null!==this.options.localJSON?(this._loadCreateCallback=!0,this._processData(this.options.localJSON,"success",{})):this.options.isServersideLoad&&!this.options.isServersidePaging?(this._loadCreateCallback=!0,this._fetchData()):orgCreate.apply(this,arguments)},_checkForTemplating:function(){this.options.columns&&(this.options.isServersideLoad=!0,this._createHeaders())},_createHeaders:function(){var thead=jQuery("<thead></thead>"),tr=jQuery("<tr></tr>"),cols=this.options.columns;this._numColHead=cols.length;for(var i=0;i<cols.length;i++){var curCol=cols[i],isHidden=curCol.isHidden?" class='ui-ncbigrid-column-hidden'":"",columnType=!1===curCol.isSortable?"none":curCol.columnType||"str";jQuery("<th"+isHidden+"></th>").html(curCol.header).data("columntype",columnType).appendTo(tr)}thead.append(tr),this.element.append(thead)},_processTemplating:function(records,dataType){var that=this,record=this.options.record,cols=this.options.columns,cnt=this._numColHead,isXML="xml"===dataType,isJSON="json"===dataType;if(isXML)var rows=records.getElementsByTagName(record);else if(isJSON)for(var parts=record.split(/\./),rows=records,i=0;i<parts.length;i++)rows=rows[parts[i]];var newRows={},grpField=this.options.groupField,groupNames=[],rowCnt=0,rowLen=rows.length,loopSize=jQuery.browser.msie?300:2e3,groupCount=0;!function loopDeLoopTemplate(){for(var i=0;i<loopSize&&rowCnt<rowLen;i++){for(var rowData=jQuery(rows[i]),currRow=["<tr>"],grpFieldName="__DEFAULT__",col=0;col<cnt;col++){for(var colData=cols[col],props=colData.dataIndex,isHidden=colData.isHidden?" class='ui-ncbigrid-column-hidden'":"",nodTxtValues=(jQuery.isArray(props)||(props=[props]),[]),itm=0;itm<props.length;itm++){var prop=props[itm];if(isXML){var nodeTxt=rowData.find(prop).text();nodeTxt=(nodeTxt=(nodeTxt=nodeTxt||rowData.attr(prop))||rowData.find("["+prop+"]").attr("prop"))||" "}else if(isJSON){for(var thePath=prop.split("."),lookupNode=rowData[0],p=0;p<thePath.length&&void 0!==(lookupNode=lookupNode[thePath[p]]);p++);nodeTxt=lookupNode||""}nodTxtValues.push(nodeTxt)}if(colData.renderer)var displayText=colData.renderer.apply(that,nodTxtValues);else if(colData.template)for(var displayText=colData.template,iReplace=0;iReplace<props.length;iReplace++)displayText=displayText.replace(new RegExp("\\$\\{"+props[iReplace].replace(/\./g,"\\.")+"\\}","g"),nodTxtValues[iReplace]);else displayText=nodTxtValues.join("");currRow.push("<td"+isHidden+">"+displayText+"</td>"),null!==grpField&&grpField===prop&&(grpFieldName=displayText)}currRow.push("</tr>"),newRows[grpFieldName]||(newRows[grpFieldName]=[],groupCount++,groupNames.push(grpFieldName)),newRows[grpFieldName].push(currRow.join("")),rowCnt++}var grpNamesSorted=groupNames.sort();if(rowLen<=rowCnt)if(1==groupCount){var rowsOut="";for(sect in newRows)rowsOut=newRows[sect].join("");that._wrapUpProcessing("success",rowsOut)}else{for(i=0;i<grpNamesSorted.length;i++){var sect=grpNamesSorted[i],rowsOut="<tbody><tr><th colspan='"+that.options.columns.length+"'>"+sect+"</th></tr>";rowsOut+=newRows[sect].join("")+"</tbody>",that.element.append(rowsOut)}that._wrapUpProcessing("multipleTBodies",null)}else window.setTimeout(function(){loopDeLoopTemplate()},0)}()},getMaxPage:function(){var maxPage=this.options.isServersidePaging?Math.ceil(this.getRowCount()/this.options.pageSize):orgGetMaxPage.apply(this,arguments);return 0===maxPage?1:maxPage},getRowCount:function(){var orgRowCount=jQuery.ui.ncbigrid.prototype.getRowCount.apply(this,arguments);return orgRowCount?this.options.isServersidePaging?this.options.maxRowCount||0:orgRowCount:0},_updateRows:function(){if(!this.options.isServersidePaging&&!this.options.isServersideSort)return orgUpdateRows.apply(this,arguments);this._updateRowsServer(),this._wasSorted&&(this._wasSorted=!1,this.element.trigger("ncbigridcolumnsorted",[this.options.sortColumn+1,this.options.sortColumnDir]))},_updateRowsServer:function(){var rows=null;(rows=this.options.isServersidePagingCached?this.isInCache():rows)?this._displayTheRows(rows):this._isInitialFetch&&!this.options.isServersideLoad?(this.addToCache(this.element.find("tbody").html()),this._isInitialFetch=!1):this._fetchData(this._isInitialFetch)},_isInitialFetch:!0,_fetchData:function(){var that=this,wsParameters=(this.element.trigger("ncbigridshowloadingbar"),this._activeRequest&&this._activeRequest.readyState<4&&this._activeRequest.abort(),this._handlewebserviceParams()),initial=(this.options.isServersidePaging&&(wsParameters.parameters.page=this.getCurrentPage(),wsParameters.parameters.pageSize=this.options.pageSize),this.options.isServersideSort&&-1!==this.options.sortColumn&&(colNames=this.options.columnNames,wsParameters.parameters.sortCol=colNames?colNames[this.options.sortColumn]:this.options.sortColumn+1,wsParameters.parameters.sortDir=this.options.sortColumnDir),arguments[0]),colNames={url:wsParameters.url,data:wsParameters.parameters,success:function(data,status,obj){that._processData(data,status,obj,initial)},error:function(XMLHttpRequest,textStatus,errorThrown){that._processError(XMLHttpRequest,textStatus,errorThrown)}};this.options.webserviceReturnsJSON&&(colNames.dataType="json"),this._activeRequest=jQuery.ajax(colNames)},_handlewebserviceParams:function(){var url=this.options.webservice,optParams=this.options.webserviceParams||this.options.webServiceParams,parameters={};if(optParams)if("string"==typeof optParams)var questionmark="?"!==optParams.charAt(0)||-1===url.indexof("?")?"?":"",url=url+questionmark+optParams;else for(var x in optParams)parameters[x]=optParams[x];var filterParams=this.options.webserviceFilterParams;if(filterParams)for(var x in filterParams)parameters[x]=filterParams[x];return{url:url,parameters:parameters}},_activeRequest:null,_processData:function(data,status,obj,initial){var totalCount=null;obj.responseXML?this._processTemplating(obj.responseXML,"xml"):"object"!=typeof data||data.htmlRows?(obj=this.options.webserviceReturnsJSON?(data.pageNumber,data.pageSize,totalCount=data.totalRowCount,data.htmlRows):((obj=data.match(/<!--\s*(\d+)\s+(\d+)\s+(\d+)/))&&(parseInt(obj[1],10),parseInt(obj[2],10),totalCount=parseInt(obj[3],10)),data),this._wrapUpProcessing(status,obj,initial),null!=totalCount&&(this.options.maxRowCount=parseInt(totalCount)),(initial&&this.options.isServersidePaging||null!=totalCount&&totalCount!==this.getRowCount())&&this._setPageInit()):this._processTemplating(data,"json")},_wrapUpProcessing:function(status,htmlRows,initial){"success"===status&&(this._displayTheRows(htmlRows,initial),this._checkAllState&&this.checkAll(!0),this.addToCache(htmlRows)),this._loadCreateCallback&&(orgCreate.apply(this),!this.options.isServersideSort)&&this.options.isSortable&&(org_indexGrid.apply(this,arguments),this._showHidePageToolbar()),this._trigger("responseprocessed"),this._trigger("ncbigridresponseprocessed")},_processError:function(XMLHttpRequest,textStatus,errorThrown){"undefined"!=typeof console&&console.warn&&(console.group&&console.group("Failed Request"),console.warn("The request failed to retrieve the rows"),console.info&&(console.info(XMLHttpRequest),console.info(textStatus),console.info(errorThrown)),console.group)&&console.groupEnd("Failed Request")},_displayTheRows:function(rows,initial){this.element.trigger("ncbigridresetscroll"),this.element.trigger("ncbigridhideloadingbar");for(var tbody=this.element.find("tbody"),tbody=((tbody=0===tbody.length?jQuery("<tbody></tbody>").appendTo(this.element):tbody).html(rows),this.getHiddenShownColumns()),hiddenCols=tbody.hidden,shownCols=tbody.shown,i=0;i<hiddenCols.length;i++)this.hideColumn(hiddenCols[i]);for(i=0;i<shownCols.length;i++)this.showColumn(shownCols[i]);this._showHidePageToolbar(),this.element.trigger("rowsAdded"),this.element.trigger("ncbiservergridrowsadded"),this._notifyGridUpdated()},_cachedRows:{},getCacheKey:function(){var knownKeys=this.getCurrentPage().toString()+"_"+this.options.pageSize.toString()+"_"+this.options.sortColumn.toString()+"_"+this.options.sortColumnDir.toString(),wsp=this.options.webserviceParams,unknownKeys="";if("string"==typeof wsp)unknownKeys+="_"+wsp;else for(var prop in wsp)unknownKeys+="_"+wsp[prop];var filterParams=this.options.webserviceFilterParams;if(filterParams)for(var x in filterParams)unknownKeys+="_"+filterParams[x];return knownKeys+unknownKeys},addToCache:function(rows,key){this.options.isServersidePagingCached&&(this._cachedRows[key||this.getCacheKey()]=rows)},isInCache:function(key){return this._cachedRows[key||this.getCacheKey()]||null},_sort:function(){this._wasSorted=!0,org_sort.apply(this,arguments)},_killActiveSort:function(){this.options.isServersideSort||org_killActiveSort.apply(this,arguments)},_waitForCache:function(){this.options.isServersideSort?this._updateRows():org_waitForCache.apply(this,arguments)},_indexGrid:function(){},filterRows:function(txt,isCaseInsensitive,col,isInverse){this.options.isServersideLoad&&!this.options.isServersidePaging?org_filterRows.apply(this,arguments):(this.options.webserviceFilterParams={},this.options.webserviceFilterParams.filterText=txt||"",null!=isCaseInsensitive&&(this.options.webserviceFilterParams.filterCaseInsen=isCaseInsensitive),null!=col&&(this.options.webserviceFilterParams.filterCol=col),this.options.isServersidePaging?this.gotoPage(0):this._updateRows(),this.element.trigger("ncbigridfilterapplied",[txt,isCaseInsensitive,col,null,null]).trigger("ncbiservergridfilterapplied",[txt,isCaseInsensitive,col,null,null]))},removeFilterRows:function(){this.options.isServersideLoad&&!this.options.isServersidePaging?org_removeFilterRows.apply(this,arguments):(this.options.webserviceFilterParams={},this.options.isServersidePaging?this.gotoPage(0):this._updateRows()),this.element.trigger("ncbigridfilterremoved",[null,null,null]).trigger("ncbiservergridfilterremoved",[null,null,null])},refresh:function(stayOnCurrentPage,checkAll){this._checkAllState=!!checkAll,this.options.isServersidePagingCached&&(this._cachedRows={}),this.options.isServersidePaging?(checkAll=this.options.currentPage,stayOnCurrentPage||(checkAll=0,this.options.currentPage=-1,this.element.find("tbody").children().find("input[type='checkbox']").prop("checked",this._checkAllState)),this.gotoPage(checkAll)):this._updateRows(),this.options.checkboxToolbarEnabled&&this._updateCount()},_cachedPageCheckHelper:function(state,acrossAllPages){if(acrossAllPages)for(var addRemoveClass=state?"addClass":"removeClass",currentCacheKey=this.getCacheKey()||"",partialCacheKey=currentCacheKey.replace(/^\d+/,""),maxPage=this.getMaxPage(),i=1;i<=maxPage;i++){var cKey=i+partialCacheKey,rows=this.isInCache(cKey);(rows=cKey===currentCacheKey?this.element.find("tbody tr"):rows)&&((rows=jQuery(rows)).find(":checkbox").prop("checked",state).closest("tr")[addRemoveClass]("ui-ncbigrid-row-selected"),this.addToCache(rows,cKey))}},checkAll:function(acrossAllPages){this._cachedPageCheckHelper(!0,acrossAllPages),orgCheckAll.apply(this,arguments)},uncheckAll:function(acrossAllPages){this._cachedPageCheckHelper(!1,acrossAllPages),orgUncheckAll.apply(this,arguments)},_updateCount:function(){if(this.options.isServersidePagingCached){for(var initialCount=0,countChecked="filter",cnt=(this._checkAllState&&(initialCount=this.getRowCount(),countChecked="not"),0),currentCacheKey=this.getCacheKey()||"",partialCacheKey=currentCacheKey.replace(/^\d+/,""),maxPage=this.getMaxPage(),i=1;i<=maxPage;i++){var cKey=i+partialCacheKey,rows=this.isInCache(cKey);(rows=cKey===currentCacheKey?this.element.find("tbody tr"):rows)&&(cnt+=jQuery(rows).find(":checkbox")[countChecked](":checked").length||0)}initialCount=this._checkAllState?initialCount-cnt:cnt,this._chekboxBars.find("span.ui-ncbigrid-selected-text").html(initialCount)}else orgUpdateCount.apply(this,arguments)},_gotoPage:function(){var isServersidePagingCached=this.options.isServersidePagingCached;isServersidePagingCached&&this._prevCacheKey&&-1!==this.options.currentPage&&this.addToCache(this.element.find("tbody tr"),this._prevCacheKey),orgGotoPage.apply(this,arguments),isServersidePagingCached&&(this._prevCacheKey=this.getCacheKey())},_cbSerialize:function(cbs){var out=[];return cbs.each(function(i){out.push(this.name+"="+(this.checked?"on":"off"))}),out.join("&")},serializeCachedCheckboxes:function(state){var retVal=null;if(this.options.isServersidePagingCached){for(var temp=[],currentCacheKey=this.getCacheKey()||"",partialCacheKey=currentCacheKey.replace(/^\d+/,""),maxPage=this.getMaxPage(),i=1;i<=maxPage;i++){var cKey=i+partialCacheKey,rows=this.isInCache(cKey);(rows=cKey===currentCacheKey?this.element.find("tbody tr"):rows)&&(cKey=void 0===state?this._cbSerialize(jQuery(rows).find(":checkbox")):state?jQuery(rows).find(":checkbox").serialize():this._cbSerialize(jQuery(rows).find(":checkbox").not(":checked")))&&0<cKey.length&&temp.push(cKey)}retVal=temp.join("&")}return retVal},_setPageInit:function(){this.element.trigger("resetScroll");var currentPage=this._getCurrentPage(),maxPage=this.getMaxPage();this._showHidePageToolbar(),this._updateButtons(currentPage,maxPage),this._updatePagingText(currentPage,maxPage),this._updateGoto(currentPage,maxPage),this._updateItemRange(currentPage,maxPage),this._pageBars.find(".ui-ncbigrid-paged-pageControl").attr({"aria-valuemin":"1","aria-controls":this.element.attr("id"),"aria-valuemax":maxPage,"aria-valuenow":currentPage})}})}(),!function($){$.ui.jig.widget("ui.ncbitoggler",{selector:function(baseSelector){return baseSelector+", .jig-ncbitoggler-open"},styles:{ariaWrapper:"ui-ncbitoggler-live",groupMasterReplaceNode:"span.ui-ncbitoggler-group-replace-txt",groupMasterStateClose:"ui-ncbitoggler-group-master-to-close",groupMasterStateOpen:"ui-ncbitoggler-group-master-to-open",master:"ui-ncbitoggler",masterOpen:"ui-ncbitoggler-open",target:"ui-ncbitoggler-slave",targetOpen:"ui-ncbitoggler-slave-open",icon:"ui-icon-triangle-1-e",iconOpen:"ui-icon-triangle-1-s",iconPlusMinusBig:"ui-icon-plus-minus-big",iconPlusMinusBigOpen:"ui-icon-plus-minus-big-open",iconArrowStop:"ui-icon-arrowthickstop-1-s",iconArrowStopOpen:"ui-icon-arrowthickstop-1-n"},options:{animation:"slide",closedAppendText:"",cookieNamePrefix:"jig-tog-rem-",indicator:"small-arrow",initOpen:!1,isIcon:!0,liveRegions:!0,openedAppendText:"",remember:!1,speed:50,targets:""},_cachedTargetData:{},_create:function(){this._setOption("disabled",!1),this.addedHref=null,this.cookieName=null,this.remember=null,this.rememberCookie=null,this.startOpen=null,this.iconSpan=null,this.initTargetsClass=null,this.appendTextNode=null;var master=this.element,masterD=master[0],styles=this.styles,that=this,isIcon=this.options.isIcon,href=(master.data("isOpen",!1),master.addClass("ui-widget ui-ncbitoggler"),isIcon||master.addClass("ui-ncbitoggler-no-icon"),master.attr("href"));if(this.addedHref=!href,this._validate(href),0===master.children("span.ui-ncbitoggler-master-text").length&&master.contents().filter(function(){return 3===this.nodeType}).each(function(){var el=$(this);0<jQuery.trim(this.nodeValue).length&&el.wrap('<span class="ui-ncbitoggler-master-text"></span>')}),""===this.options.openedAppendText&&""===this.options.closedAppendText||(this.appendTextNode=master.children("span.ui-ncbitoggler-appended-text"),0!==this.appendTextNode.length)||this.initOpen||(this.appendTextNode=$('<span class="ui-ncbitoggler-appended-text">'+this.options.closedAppendText+"</span>"),master.find(".ui-ncbitoggler-master-text").after(this.appendTextNode)),this.remember=this.options.remember||!1,this.remember){href=this.element.attr("id");if(!href)return void(window.console&&console.error&&console.error("ncbitoggler: master node "+masterD+" must have a unique id attribute when remembering state"));this.cookieName=this.options.cookieNamePrefix+href,this.rememberCookie=$.cookie(this.cookieName)}this.rememberCookie?this.startOpen="open"===this.rememberCookie:this.startOpen=!!(master.hasClass("jig-ncbitoggler-open")||master.hasClass(styles.masterOpen)||this.options.initOpen),this.startOpen?(this.element.data("isOpen",!0),master.removeClass(this.styles.master),master.addClass(styles.masterOpen),this._targetsOpen=!0):(this.element.data("isOpen",!1),master.removeClass(this.styles.masterOpen),master.addClass(styles.master)),isIcon&&this._initMasterIcon(),this.targets=this._getTargets(),this.targets.addClass("ui-ncbitoggler").removeClass("ui-ncbitoggler-disabled ui-state-disabled"),this.startOpen?(this.targets.removeClass(styles.target),this.targets.addClass(styles.targetOpen),this.initTargetsClass=styles.targetOpen):(this.targets.removeClass(styles.targetOpen),this.targets.addClass(styles.target),this.initTargetsClass=styles.target),this._initAria(),this._doGrouping(),master.click(function(e){that.toggle(e,that)}),this._saveReferences()},_getGroupMaster:function(){for(var styles=this.styles,classNames=this.element[0].className.split(/\s+/),i=0;i<classNames.length;i++){var groupMasterClass=classNames[i].match(/ui-ncbitoggler-group-(.+)$/);if(groupMasterClass){var groupMasterClass=groupMasterClass[1],groupMaster=$("a.ui-ncbitoggler-group-open-"+groupMasterClass+", a.ui-ncbitoggler-group-close-"+groupMasterClass,this.options.contextNode);if(1===groupMaster.length)return groupMaster.hasClass("ui-ncbitoggler-group-open-"+groupMasterClass)&&groupMaster.addClass(styles.groupMasterStateOpen),groupMaster.hasClass("ui-ncbitoggler-group-close-"+groupMasterClass)&&groupMaster.addClass(styles.groupMasterStateClose),groupMaster}}},_doGrouping:function(){var that,styles,togglers,replaceTxtNode,groupMaster=this._getGroupMaster();groupMaster&&(styles=(that=this).styles,togglers=groupMaster.data("togglers"),this.element.id||$.ui.jig._generateId(this.widgetName),this.element[0].id||(this.element[0].id=$.ui.jig._generateId(this.widgetName)),(void 0===togglers?(groupMaster.data("togglers",[]),groupMaster.data("togglers")):togglers).push(this.element),replaceTxtNode=groupMaster.find(styles.groupMasterReplaceNode),groupMaster.click(function(e){e.preventDefault();e=groupMaster.data("togglers"),e=e[e.length-1][0];groupMaster.hasClass(styles.groupMasterStateOpen)?(that.open(),0<replaceTxtNode.length&&replaceTxtNode.text(that.options.groupMasterCloseReplaceText),that.element[0]===e&&groupMaster.removeClass(styles.groupMasterStateOpen).addClass(styles.groupMasterStateClose)):(that.close(),0<replaceTxtNode.length&&replaceTxtNode.text(that.options.groupMasterOpenReplaceText),that.element[0]===e&&groupMaster.removeClass(styles.groupMasterStateClose).addClass(styles.groupMasterStateOpen))}))},_initAria:function(){var master=this.element,open=this.startOpen;master.attr({role:"button","aria-expanded":open}),this.options.liveRegions&&this.targets.each(function(){var target=$(this);0!==target.find("table").length||target.parent("div").hasClass("ui-helper-reset")||target.wrap('<div class="ui-helper-reset" aria-live="assertive">'),target.attr("aria-hidden",open?"false":"true")})},_validate:function(href){var el=this.element,validTags=["a"],masterTagName=el[0].tagName.toLowerCase();if(-1===$.inArray(masterTagName,validTags))throw new Error("ncbitoggler: master node must be one of the following elements: "+validTags.toString());href||el.attr("href","#")},_initMasterIcon:function(){var el=this.element,styles=this.styles;"plus-minus-big"==this.options.indicator?(this.iconOpenClass=styles.iconPlusMinusBigOpen,this.iconCloseClass=styles.iconPlusMinusBig):"arrow-stop"==this.options.indicator?(this.iconOpenClass=styles.iconArrowStopOpen,this.iconCloseClass=styles.iconArrowStop):(this.iconOpenClass=styles.iconOpen,this.iconCloseClass=styles.icon),this.iconSpan=el.find("span.ui-icon"),0===this.iconSpan.length?(this.iconSpan=$('<span class="ui-icon"></span>'),this.startOpen?this.iconSpan.addClass(this.iconOpenClass):this.iconSpan.addClass(this.iconCloseClass),el.append(this.iconSpan)):this.startOpen&&(this.iconSpan.removeClass(this.iconCloseClass),this.iconSpan.addClass(this.iconOpenClass))},getSlaves:function(){return this._targets},getTargets:function(){return this.getSlaves()},_getTargets:function(){var el=this.element,togglesAttr=el.attr("toggles")||el.attr("data-ncbitoggler-toggles");if(togglesAttr?jQuery.ui.jig._isConsole("warn")&&console.warn('The attributes "toggles" and "data-ncbitoggler-toggles" are deprecated. Please use the "targets" attribute instead (see documentation).'):togglesAttr=this.options.targets,togglesAttr&&"object"==typeof togglesAttr){var sel,targetsSelector="";for(sel in togglesAttr)targetsSelector+=sel+", ";var targetsSelector=targetsSelector.replace(/,\s$/,""),targets=$(targetsSelector)}else if(togglesAttr){if(0===(targets=$(togglesAttr)).length){this.isSibling=!1;for(var ids=togglesAttr.split(/ +/),selector="",i=0;i<ids.length;i++)i!==ids.length-1?selector+="#"+ids[i]+",":selector+="#"+ids[i];targets=$(selector)}}else targets=(0<el.parent(":header").length?(el.parent(":header").parent().css("zoom","1"),this.isSibling=!0,el.parent(":header").css("zoom","1")):(this.isSibling=!0,el)).next();return this._targets=this._normalizeTargets(targets),this._targets},_normalizeTargets:function(targets){var tmp=[];return targets.each(function(){var target=this,$target=$(this);$target.hasClass("ui-helper-reset")&&(target=$target.children().get(0)),tmp.push(target)}),ret=$(tmp)},_getCachedTargetData:function(targetSel){return this._cachedTargetData[targetSel]},_cacheTargetData:function(targetSel,data){this._cachedTargetData[targetSel]=data},_openAjaxTarget:function(targetSel,ajaxUri){var that=this,data=this._getCachedTargetData(targetSel);data?$(targetSel).html(data):$.get(ajaxUri,function(data){that._cacheTargetData(targetSel,data),$(targetSel).html(data)})},_openTargets:function(){if(!(this._targetsOpening||this._targetsClosing||this._targetOpen)){this._targetsOpening=!0;var targets=this.targets,styles=(this.iconSpan,this.styles),ajaxUris=(targets.removeClass(styles.target).addClass(styles.targetOpen).attr("aria-hidden","false"),this.options.targets);if("object"==typeof ajaxUris){var that=this;for(targetSel in ajaxUris)!function(targetSel){that._openAjaxTarget(targetSel,ajaxUris[targetSel])}(targetSel)}styles=this.options.openedAppendText;""!==styles&&this.appendTextNode.html(styles),targets.css("display",""),this._targetsOpening=!1,this._targetsOpen=!0}},_closeTargets:function(){var targets,styles;this._targetsOpening||this._targetsClosing||!this._targetsOpen||(this._targetsClosing=!0,targets=this.targets,this.iconSpan,styles=this.styles,targets.removeClass(styles.targetOpen).addClass(styles.target).attr("aria-hidden","true"),""!==(styles=this.options.closedAppendText)&&this.appendTextNode.html(styles),targets.css("display",""),this._targetsClosing=!1,this._targetsOpen=!1)},_fixHasLayout:function(that){window.setTimeout(function(){that.targets.addClass("foo").removeClass("foo")},1)},open:function(callback){var master=this.element,that=this,styles=this.styles;return master.hasClass(styles.master)&&(this.updateState("open"),"slide"===this.options.animation?this.targets.slideToggle(this.options.speed,function(){that._openTargets(),$.browser.msie&&that._fixHasLayout(that),master.data("isOpen",!0),master.trigger("ncbitoggleropen"),callback&&callback()}):(this._openTargets(),$.browser.msie&&that._fixHasLayout(that),master.data("isOpen",!0),master.trigger("ncbitoggleropen"),callback&&callback()),this._updateReferences("open")),master},close:function(callback){var master=this.element,that=this,styles=this.styles;return master.hasClass(styles.masterOpen)&&(this.updateState("closed"),"slide"===this.options.animation?this.targets.slideToggle(this.options.speed,function(){that._closeTargets(),master.trigger("ncbitogglerclosed").trigger("ncbitogglerclose"),master.data("isOpen",!1),callback&&callback()}):(this._closeTargets(),master.data("isOpen",!1),master.trigger("ncbitogglerclosed"),callback&&callback()),this._updateReferences("closed")),master},toggle:function(e,that,callback){var argLen=arguments.length,argLen=(0===argLen||1===argLen?(that=this,1===argLen&&(callback=e)):e.preventDefault(),this.element);this.styles,this.iconSpan;argLen.hasClass(this.styles.master)?that.open(callback):that.close(callback)},updateState:function(state){var master=this.element,classOld=(state=state||(master.hasClass(styles.master)?"open":"closed"),this.styles.master),classNew=this.styles.masterOpen,classIconOld=this.iconCloseClass,classIconNew=this.iconOpenClass;"closed"==state&&(classOld=this.styles.masterOpen,classNew=this.styles.master,classIconOld=this.iconOpenClass,classIconNew=this.iconCloseClass),master.removeClass(classOld).addClass(classNew).attr("aria-expanded","closed"==state?"false":"true"),this.options.isIcon&&this.iconSpan.removeClass(classIconOld).addClass(classIconNew),this.remember&&$.cookie(this.cookieName,state)},_removeHandlers:function(){this.element.unbind("click")},destroy:function(){$.Widget.prototype.destroy.apply(this,arguments);var el=this.element,styles=this.styles,styles=(el.removeClass(styles.master+" "+styles.masterOpen+" ui-state-disabled ui-widget ui-ncbitoggler-disabled").removeAttr("role").removeAttr("aria-expanded"),this.targets.removeClass("ui-ncbitoggler ui-ncbitoggler-slave ui-ncbitoggler-slave-open ui-state-disabled ui-ncbitoggler-disabled"),this.targets.removeAttr("aria-hidden"),this.options.isIcon&&(styles=el.find("span.ui-icon")[0],el[0].removeChild(styles)),this.targets.each(function(){var target=jQuery(this),wrappingDiv=target.parent("div.ui-helper-reset");0<wrappingDiv.length&&(target.insertBefore(wrappingDiv),wrappingDiv.remove())}),el.find("span.ui-ncbitoggler-master-text")),spanHTML=styles.html();return styles.remove(),el.html(spanHTML),this._removeHandlers(),this},disable:function(){return $.Widget.prototype.disable.apply(this,arguments),this._removeHandlers(),this.targets.addClass("ui-ncbitoggler-disabled ui-state-disabled"),this},enable:function(){$.Widget.prototype.enable.apply(this,arguments),this.targets.removeClass("ui-ncbitoggler-disabled ui-state-disabled");var that=this;return this.element.click(function(e){that.toggle(e,that)}),this},_saveReferences:function(){var that=this;this._targets.each(function(){void 0===$(this).data("ncbitoggler-masters")&&$(this).data("ncbitoggler-masters",new Array),$(this).data("ncbitoggler-masters").push(that.element)})},_updateReferences:function(state){var that=this;$.each(this._targets.data("ncbitoggler-masters"),function(){that.element!=this&&$(this).ncbitoggler("updateState",state)})}})}(jQuery),document.times=0,$.ui.jig.widget("ui.ncbipopper",{destTextCallbackCalledCount:0,options:{openMethod:"",openEvent:"mouseover",openAnimation:"slideDown",openAnimationTime:290,closeMethod:"",closeEvent:"mouseout",closeAnimation:"slideUp",closeAnimationTime:150,isEscapeKeyClose:!0,isSourceElementCloseClick:!1,isTriggerElementCloseClick:!0,isTargetElementCloseClick:!1,isDestElementCloseClick:!1,isDocumentCloseClick:!0,addCloseButton:!1,adjustFit:"autoAdjust",delayTimeout:300,sourcePosition:"",destPosition:"top left",sourceSelector:"",destSelector:"",targetPosition:"",triggerPosition:"bottom right",sourceText:null,destText:null,multipleHandlesSelector:"",openAtTarget:!1,hasArrow:!1,arrowDirection:"left",groupName:null,width:null,height:null,cssClass:null,excludeBasicCssStyles:!1,wrapElement:!1,loadingText:"loading...",showLoadingMessage:!0,isDestTextCacheable:!0,resizable:!1,openAtMousePosition:!1},_create:function(){this._setUpDestElem(),this._addEventHandlers(),this._addEscapeListener(),this._addDocumentClickListener(),this._addResizeListener(),this._addCloseButton(),this._addSharingDetails(),this._addPopperHover(),this.addTriggerAria()},updateTriggers:function(){this._addEventHandlers(),this._addDocumentClickListener(),this.addTriggerAria()},destroy:function(){jQuery.Widget.prototype.destroy.apply(this,arguments);var isPopperShared=this.isPopperShared();this._destroyPopperHover,this._destroyDestAria(),this._destroyTriggerAria(),this._removeSharingDetails(),this._destroyCloseButton(isPopperShared),this._destroyResizeListener(),this._destroyDocumentClickListener(),this._destroyEscapeListener(),this._removeEventHandlers(),this._destroyDestElem(isPopperShared)},getDestElement:function(isBeingRendered){var popper=this.destElem;if(this.origDestElem||(this.origDestElem=popper),popper)isBeingRendered&&this._isWaitingToBeAddedToDom&&(isBeingRendered=1===(isBeingRendered=jQuery("div.grid")).length?isBeingRendered:jQuery(document.body),popper.appendTo(isBeingRendered),this._isWaitingToBeAddedToDom=!0,this._getActualText(popper));else{var isBeingRendered=this.options.destSelector||this.options.sourceSelector||this.element.prop("hash"),destText=this.options.destText||this.options.sourceText;if(isBeingRendered)0===(popper=jQuery(isBeingRendered)).length&&(popper=this._createTextHolder());else{if(!destText)throw"The popper can not find the popper element or text to display";popper=this._createTextHolder()}this.options.wrapElement&&(popper.parent().hasClass("ui-ncbipopper-wrapper")||(popper.wrap('<div style="display:none"></div>'),popper.show()),this.origDestElem||(this.origDestElem=popper),popper=popper.parent()),this.destElem=popper,this._addDestAria()}return this.origDestElem||(this.origDestElem=this.destElem),popper},_createTextHolder:function(){var elem=jQuery('<div><div class="ui-ncbipopper-content"></div></div>');return this._isWaitingToBeAddedToDom=!0,elem},_getActualText:function(elem){var theText,customFnc;this.isFunctionResultCached||(theText=this.options.destText||this.options.sourceText,"function"==typeof(customFnc=this._getFunction(theText))&&(theText=this._getText(customFnc)),elem.css("display","none").attr("generated","true").find(".ui-ncbipopper-content").html(theText))},_getFunction:function(theText){var fnc=null;return jQuery.ui.jig&&jQuery.ui.jig._getFncFromStr?fnc=jQuery.ui.jig._getFncFromStr(theText):"function"==typeof theText&&(fnc=theText),fnc},getDestTextCallbackCalledCount:function(){return this.destTextCallbackCalledCount},_getText:function(customFunc){var that,fncString;if(!(this.options.isDestTextCacheable&&this.getTextCalled||this.callbackInProgress))return this.getTextCalled=!0,customFunc||(fncString=this.options.destText||this.options.sourceText,customFunc=this._getFunction(fncString)),(that=this).callbackInProgress=!0,(fncString=customFunc.call(this.element[0],function(html){that._setHTML(html),that.destTextCallbackCalledCount++,that.callbackInProgress=!1})||this.options.loadingText)!==this.options.loadingText&&(this.isFunctionResultCached=this.options.isDestTextCacheable),fncString},reloadContent:function(){var theText=this._getText(),elm=this.getDestElement().find(".ui-ncbipopper-content");return elm&&elm.html(theText),this.element},_setHTML:function(html){var elm=this.getDestElement().find(".ui-ncbipopper-content");elm&&(elm.html(html),this.isFunctionResultCached=this.options.isDestTextCacheable,this.options.showLoadingMessage||this.isPopperDisplayed||this._openAnimation())},_setUpDestElem:function(){var popper=this.getDestElement().addClass("ui-ncbipopper-wrapper"),custCSS=(this.options.excludeBasicCssStyles||popper.addClass("ui-ncbipopper-basic"),this.options.resizable&&popper.resizable(),this.options.cssClass);custCSS&&popper.addClass(custCSS),null!==this.options.width&&popper.width(this.options.width),null!==this.options.height&&popper.height(this.options.height),this._resetElementPosition(popper),popper.removeClass("offscreen_noflow").hide(),popper.data("isOpen",!1)},_setArrowDirection:function(dir){var arrowDirection;this.options.hasArrow&&(arrowDirection=this.options.arrowDirection,this._arrow)&&this._arrow.removeClass("ui-ncbipopper-arrow-top ui-ncbipopper-arrow-bottom  ui-ncbipopper-arrow-left  ui-ncbipopper-arrow-right").addClass("ui-ncbipopper-arrow-"+arrowDirection)},_setUpArrow:function(e,hide,isOnOpen){var arrowDirection;this.options.hasArrow&&(arrowDirection=this.options.arrowDirection,this._arrow?this._arrow.removeClass("ui-ncbipopper-arrow-top ui-ncbipopper-arrow-bottom  ui-ncbipopper-arrow-left  ui-ncbipopper-arrow-right").addClass("ui-ncbipopper-arrow-"+arrowDirection):this._arrow=jQuery('<div class="ui-ncbipopper-arrow-image ui-ncbipopper-arrow-'+arrowDirection+'">&nbsp;</div>').appendTo(document.body),arrowDirection=this._getPositionSettings(e,"arrow",isOnOpen),this._arrow.show().position({my:arrowDirection.dest,of:this._activeTrigger||arrowDirection.triggerElement||this.element,at:arrowDirection.trigger,collision:"none"}),hide||this._arrowOverlapsPopper())&&this._arrow.hide()},_destroyDestElem:function(isPopperShared){isPopperShared||this.getDestElement().removeClass("ui-ncbipopper-wrapper ui-ncbipopper-basic ui-ncbipopper-wrapper-relative-parent").attr("style","").show(),this.options.wrapElement&&this.origDestElem.unwrap(),this.destElem=null},_addEventHandlers:function(){var that=this,trigger=this.element,multipleTriggers=this.options.multipleHandlesSelector,openEvent=(multipleTriggers&&0<multipleTriggers.length&&(trigger=trigger.add(multipleTriggers)),this.options.openMethod||this.options.openEvent),closeEvent=this.options.closeMethod||this.options.closeEvent;openEvent===closeEvent&&"click"===closeEvent?(this._openFunction=function(e){that._toggle(e,e.currentTarget),e.preventDefault()},trigger.on("click",this._openFunction)):(multipleTriggers={timeout:this.options.delayTimeout},"mouseover"===openEvent?multipleTriggers.over=function(e){that._isOverTrigger=!0,that.open(e,this)}:(multipleTriggers.over=function(){that._isOverTrigger=!0},this._openFunction=function(e){"click"===openEvent?that.option.isTriggerElementCloseClick?(that._toggle(e,this),e.preventDefault()):(that.isOpen(this)||e.preventDefault(),that.open(e,this)):that.open(e,this)},trigger.on(openEvent,this._openFunction)),"mouseout"===closeEvent?multipleTriggers.out=function(){that._isOverTrigger=!1,that.isOpen(this)&&!that._isOverPopper&&that.close()}:(multipleTriggers.out=function(){},this._closeFunction=function(e){that.close(),"click"===closeEvent&&e.preventDefault()},trigger.on(closeEvent,this._closeFunction)),"mouseover"!==openEvent&&"mouseout"!==closeEvent||trigger.hoverIntent(multipleTriggers),this.options.isTriggerElementCloseClick&&"click"!==closeEvent&&"click"!==openEvent&&(this._closeFunction2=function(e){that.isOpen(trigger)&&that.close(),e.preventDefault()},trigger.on("click",this._closeFunction2))),this.options.isDestElementCloseClick&&(this._closeFunctionPopper=function(e){that.isOpen(trigger)&&that.close(),e.preventDefault()},this.getDestElement().on("click",this._closeFunctionPopper))},_removeEventHandlers:function(){var trigger=this.element,popper=this.getDestElement(),multipleTriggers=this.options.multipleHandlesSelector;(trigger=multipleTriggers&&0<multipleTriggers.length?trigger.add(multipleTriggers):trigger).off("mouseover mouseout"),this._openFunction&&(multipleTriggers=this.options.openMethod||this.options.openEvent,trigger.off(multipleTriggers,this._openFunction),this._openFunction=null),this._closeFunction&&(multipleTriggers=this.options.closeMethod||this.options.closeEvent,trigger.off(multipleTriggers,this._closeFunction),this._closeFunction=null),this._closeFunction2&&(trigger.off("click",this._closeFunction2),this._closeFunction2=null),this._closeFunctionPopper&&(popper.off("click",this._closeFunctionPopper),this._closeFunctionPopper=null)},_toggle:function(e,currentTrigger){this.isOpen(currentTrigger)?this.close():this.open(e,currentTrigger);return e&&e.preventDefault&&e.preventDefault(),this.element},_arrowOverlapsPopper:function(){var popper=this.getDestElement(),popperTop=Math.floor(popper.position().top),popperLeft=Math.floor(popper.position().left),popperRight=Math.floor(popperLeft+popper.outerWidth()),popper=Math.floor(popperTop+popper.height()),arrow=this._arrow,arrowTop=Math.floor(arrow.position().top),arrowLeft=Math.floor(arrow.position().left),arrowBottom=(Math.floor(arrowLeft+arrow.width()),Math.floor(arrowTop+arrow.height())),popperLeft=popperLeft<arrowLeft&&arrowLeft<popperRight||arrowLeft+arrow.css("width")>popperLeft&&arrowLeft+arrow.css("width")<popperRight,arrowLeft=popperTop<arrowTop&&arrowTop<popper||arrowTop+arrow.css("height")>popperTop&&arrowBottom+arrow.css("height")<popper;return popperLeft&&arrowLeft},_openAnimation:function(e){function finishedLoading(){that._trigger("opencomplete"),that.getDestElement().data("isOpening",null),jQuery.browser.msie&&parseInt(jQuery.browser.version,10)<=7&&that._positionPopper(e,!1,!0);var popperHeight=popper.outerHeight(),windowHeight=jQuery(window).height();windowHeight<popperHeight&&popper.css({"max-height":windowHeight-45+"px",overflow:"auto"}),jQuery(window).trigger("documentresize")}var that=this,popper=this.getDestElement().data("isOpening",this.element).stop(!0,!0),arrow=this._arrow,openAnimation=this.options.openAnimation;function arrowDelay(delayMS){arrow.fadeTo(0,0),window.setTimeout(function(){arrow.stop(!0,!0).show(),that._arrowOverlapsPopper()||arrow.css("opacity",1)},delayMS)}var openAnimationTime,diff,delay;"none"===openAnimation||this.isOpen()?(popper.show(),arrow&&arrowDelay(0),finishedLoading()):(openAnimationTime=this.options.openAnimationTime,arrow&&(this.options.arrowDirection,delay=0,"top"===arrow?delay=0:("bottom"===arrow||openAnimationTime<(delay=(diff=parseInt(arrow.css("top"),10)-parseInt(popper.css("top"),10))/(popper.height()||diff)*openAnimationTime))&&(delay=openAnimationTime),arrowDelay(delay)),popper[openAnimation](openAnimationTime,finishedLoading))},open:function(e,currentTrigger){currentTrigger=currentTrigger||this.element,this.options.openAtTarget?(this._activeTrigger!==currentTrigger&&(this.getDestElement().hide(),this.getDestElement().data("isOpen",!1)),this._activeTrigger=currentTrigger):this._activeTrigger=this.element;var currentTrigger=this.getDestElement(),prevOwner=currentTrigger.data("isOpening");return prevOwner&&prevOwner[0]!==this.element[0]&&(currentTrigger.data("closeFnc")||function(){})(!0),this._handleSharedPoppersOpen(),this._handleGroupsOpen(),currentTrigger.data("isOpening",this.element),this._setUpArrow(e,!0,!0),jQuery.browser.msie&&this._positionPopper(e,!0,!0),this._setParentsZIndex(11),this._positionPopper(e,!0,!0),this._trigger("open"),this.options.destText&&!this.options.showLoadingMessage&&!this.isFunctionResultCached||this._openAnimation(e),this._setAriaState(!0),this.getDestElement().data("isOpen",!0),this.element},_handleGroupsOpen:function(){var groupName=this.options.groupName;groupName&&(this.closeGroup(groupName),jQuery.ui.ncbipopper.openGroups[groupName]=this.element)},_closeAnimation:function(forceClose){function finishedClosing(){that._setParentsZIndex(1),that._trigger("closecomplete")}for(var p,that=this,openElem=this.getDestElement().data("isOpening"),triggers=(openElem&&this.element[0]!=openElem[0]?finishedClosing():(popper=this.getDestElement().stop(!0,!0),"none"===(openElem=this.options.closeAnimation)||forceClose?(popper.hide(),this._resetElementPosition(popper),finishedClosing()):(p=popper)[openElem](this.options.closeAnimationTime,function(){that._resetElementPosition(p),finishedClosing()})),this.getDestElement().data("popperTriggers")),i=0;i<triggers.length;i++){var popper,arrow=(popper=jQuery.ui.jig.getElementWidgets(triggers[i],"ncbipopper")[0])._arrow;arrow&&(arrow.stop(!0,!0).hide(),popper._resetElementPosition(arrow))}},close:function(forceClose){if(this.isOpen(this._activeTrigger))return this._handleGroupsClose(forceClose),this._trigger("close"),this._activeTrigger=null,this._closeAnimation(forceClose),this._setAriaState(!1),this.getDestElement().data("isOpen",!1),this.element},closeGroup:function(groupName){return(groupName=groupName||this.options.groupName)&&(groupName=jQuery.ui.ncbipopper.openGroups[groupName])&&jQuery.ui.jig.getElementWidgets(groupName,"ncbipopper")[0].close(!0),this.element},_handleGroupsClose:function(forceClose){var groupName=this.options.groupName;!forceClose&&groupName&&(jQuery.ui.ncbipopper.openGroups[groupName]=null)},_determineAutoPosition:function(leftRight){var posT,popperWidth,triggerWidth,scrollLeft,trigger=jQuery(this._activeTrigger||this.element),triggerPos=trigger.offset(),destElem=this.getDestElement(!0),win=jQuery(window);return trigger=destElem=leftRight?(leftRight=win.width(),popperWidth=destElem.outerWidth(),triggerWidth=trigger.width(),scrollLeft=win.scrollLeft(),popperWidth+triggerWidth+triggerPos.left<leftRight+scrollLeft?(posT="right","left"):(posT="left","right")):(popperWidth=win.height(),triggerWidth=destElem.outerHeight(),leftRight=trigger.height(),scrollLeft=win.scrollTop(),triggerWidth+leftRight+triggerPos.top<popperWidth+scrollLeft?(posT="bottom","top"):(posT="top","bottom")),{posT:posT,posP:destElem,arrow:trigger}},_getPositionSettings:function(e,elementType,isOnOpen){var xOffset,destPosition=this.options.sourcePosition||this.options.destPosition,trigPosition=this.options.targetPosition||this.options.triggerPosition,destPosition=destPosition.split(/\s/),trigPosition=trigPosition.split(/\s/),posResults=("middle"===destPosition[0]&&(destPosition[0]="center"),"middle"===destPosition[1]&&(destPosition[1]="center"),"middle"===trigPosition[0]&&(trigPosition[0]="center"),"middle"===trigPosition[1]&&(trigPosition[1]="center"),this.options.sourcePosition=null,this.options.destPosition=destPosition.join(" "),this.options.targetPosition=null,this.options.triggerPosition=trigPosition.join(" "),"auto"===destPosition[0]&&(posResults=this._determineAutoPosition(!1),destPosition[0]=posResults.posP,trigPosition[0]=posResults.posT,this.options.arrowDirection=posResults.arrow,this._setArrowDirection(posResults.arrow)),"auto"===destPosition[1]&&(posResults=this._determineAutoPosition(!0),destPosition[1]=posResults.posP,trigPosition[1]=posResults.posT,this.options.arrowDirection=posResults.arrow,this._setArrowDirection(posResults.arrow)),"0px 0px"),e=(this.options.hasArrow&&(posResults="popper"===elementType?this._getPopperOffsets(destPosition[0],destPosition[1]):this._getArrowOffsets(destPosition[0],destPosition[1])),this.options.openAtMousePosition&&isOnOpen&&(posResults.xOffset=e.pageX-jQuery(e.target).offset().left+ +posResults.xOffset+1,posResults.yOffset=e.pageY-jQuery(e.target).offset().top+ +posResults.yOffset),void 0===this._isArea&&(this._isArea="AREA"===(!!this._activeTrigger&&this._activeTrigger[0]||this.element[0]).nodeName.toUpperCase()),this._isArea?(elementType=this._areaElementAdjustment(posResults,trigPosition),triggerElement=elementType.positionElement,posResults=elementType.offset):triggerElement=null,destPosition[1]+" "+destPosition[0]),elementType=(destPosition="string"==typeof posResults?2==(elementType=posResults.replace(/px/g,"").split(" ")).length?(xOffset=elementType[0].trim(),elementType[1].trim()):xOffset=0:(xOffset=posResults.xOffset.replace(/px/,""),posResults.yOffset.replace(/px/,"")),xOffset=0<=parseInt(xOffset)?"+"+xOffset:xOffset,destPosition=0<=parseInt(destPosition)?"+"+destPosition:destPosition,trigPosition[1]+xOffset+" "+trigPosition[0]+destPosition);return this._isArea&&(elementType="left top"),{dest:e,trigger:elementType=this.options.openAtMousePosition&&isOnOpen?"left top":elementType,triggerElement:triggerElement}},_getArrowOffsets:function(yPosition,xPosition){var xOffset="0",yOffset="0";switch(this.options.arrowDirection){case"left":case"right":switch(yPosition){case"top":yOffset="-13";break;case"center":yOffset="0";break;case"bottom":yOffset="13";break;default:yOffset="0"}break;case"top":case"bottom":switch(xPosition){case"left":xOffset="-13";break;case"center":xOffset="0";break;case"right":xOffset="13";break;default:xOffset="0"}break;default:throw"Valid arrow directions are top, bottom, left, right"}return{xOffset:xOffset,yOffset:yOffset}},_getPopperOffsets:function(yPosition,xPosition){var xOffset="0",yOffset="0",arrowDirection=this.options.arrowDirection;switch(arrowDirection){case"left":case"right":switch(xOffset="left"===arrowDirection?"7":"-7",yPosition){case"top":yOffset="-13";break;case"center":yOffset="0";break;case"bottom":yOffset="13";break;default:yOffset="0"}break;case"top":case"bottom":switch(yOffset="top"===arrowDirection?"7":"-7",xPosition){case"left":xOffset="-13";break;case"center":xOffset="0";break;case"right":xOffset="13";break;default:xOffset="0"}break;default:throw"Valid arrow directions are top, bottom, left, right"}return{xOffset:xOffset,yOffset:yOffset}},_areaElementAdjustment:function(offsets,trigPosition){offsets="string"==typeof offsets?offsets.split(" "):[offsets.xOffset,offsets.yOffset];var offsetX=parseInt(offsets[0],10),offsets=parseInt(offsets[1],10),positionElem=jQuery(this._activeTrigger||this.element).parent(),area=jQuery(this._activeTrigger||this.element[0])[0],attachedImage=positionElem[0].name||positionElem[0].id,attachedImage=jQuery("img[usemap='#"+attachedImage+"']"),shape=area.shape||"rect",area=(area.coords||"").split(/\s?,\s?/g),positionElem=attachedImage,attachedImage=0,top=0;return"circle"===shape?("top"==trigPosition[0]?top=parseFloat(area[1])-parseFloat(area[2]):"bottom"==trigPosition[0]?top=area[3]+parseFloat(area[2]):"center"==trigPosition[0]&&(top=parseFloat(area[1])),"left"===trigPosition[1]?attachedImage=area[0]-parseFloat(area[2]):"right"===trigPosition[1]?attachedImage=area[2]+parseFloat(area[2]):"center"===trigPosition[1]&&(attachedImage=parseFloat(area[0]))):("top"==trigPosition[0]?top=parseFloat(area[1]):"bottom"==trigPosition[0]?top=parseFloat(area[3]):"center"==trigPosition[0]&&(top=(parseFloat(area[1])+parseFloat(area[3]))/2),"left"===trigPosition[1]?attachedImage=parseFloat(area[0]):"right"===trigPosition[1]?attachedImage=parseFloat(area[2]):"center"===trigPosition[1]&&(attachedImage=(parseFloat(area[0])+parseFloat(area[2]))/2)),{positionElement:positionElem,offset:(attachedImage+=offsetX)+"px "+(top+=offsets)+"px"}},_getCollisionSetting:function(){var collision=this.options.adjustFit;return collision="autoAdjust"===collision||"slide"===collision?"fit":"none"},_resetElementPosition:function(elem){elem.css("top","-100px").css("left","-100px")},_positionPopper:function(e,hide,isOnOpen){var e=this._getPositionSettings(e,"popper",isOnOpen),isOnOpen=this._getCollisionSetting(),attachedTo=e.triggerElement||this.options.openAtTarget&&this._activeTrigger||this.element,e=this.getDestElement(!0).stop().show().position({my:e.dest,of:attachedTo,at:e.trigger,collision:isOnOpen}).data("attached-to",attachedTo);hide&&e.hide(),document.times++},_addEscapeListener:function(){var that;this.options.isEscapeKeyClose&&(this._registerGlobalEscapeListener(),(that=this)._ncbipopperescapepressedFunction=function(){that.close()},jQuery(document).bind("ncbipopperescapepressed",this._ncbipopperescapepressedFunction))},_destroyEscapeListener:function(){this._ncbipopperescapepressedFunction&&(jQuery(document).unbind("ncbipopperescapepressed",this._ncbipopperescapepressedFunction),this._ncbipopperescapepressedFunction=null)},_registerGlobalEscapeListener:function(){var obj,meth;jQuery.ui.ncbipopper.globalEvents.isGlobalEscapeRegistered||(jQuery.ui.ncbipopper.globalEvents.isGlobalEscapeRegistered=!0,obj=document,meth="keypress",jQuery.browser.msie||jQuery.browser.mozilla||(obj=window,meth="keydown"),jQuery(obj)[meth](function(e){27===e.keyCode&&jQuery(document).trigger("ncbipopperescapepressed")}))},_addDocumentClickListener:function(){var that;this.options.isDocumentCloseClick&&(this._registerGlobalClickListener(),(that=this)._ncbipopperdocumentclickFunction=function(obj,element){that._checkDocumentClick(obj,element)},jQuery(document).bind("ncbipopperdocumentclick",this._ncbipopperdocumentclickFunction))},_destroyDocumentClickListener:function(){this._ncbipopperdocumentclickFunction&&jQuery(document).unbind("ncbipopperdocumentclick",this._ncbipopperdocumentclickFunction)},_registerGlobalClickListener:function(){jQuery.ui.ncbipopper.globalEvents.isGlobalClickRegistered||(jQuery.ui.ncbipopper.globalEvents.isGlobalClickRegistered=!0,jQuery(document).click(function(e){jQuery(document).trigger("ncbipopperdocumentclick",[e.srcElement||e.target])}))},_checkDocumentClick:function(obj,element){if(element&&this.isOpen()&&(element=jQuery(element),!(this._isSameElementOrChild(jQuery(this.element),element)||this._isSameElementOrChild(this.getDestElement(),element)||jQuery.ui.jig.getElementWidgets(jQuery(element),"ncbipopper")[0]&&this.getDestElement()[0]==jQuery.ui.jig.getElementWidgets(jQuery(element),"ncbipopper")[0].getDestElement()[0]))){var multipleHandles=this.options.multipleHandlesSelector;if(multipleHandles){var isHandle=!1,that=this;if(jQuery(multipleHandles).each(function(){that._isSameElementOrChild(jQuery(this),element)&&(isHandle=!0)}),isHandle)return}this.close()}},_isSameElementOrChild:function(parent,child){return parent[0]==child[0]||1===jQuery(parent).has(child).length},_addResizeListener:function(){this._registerGlobalResizeListener();var that=this;this.ncbipopperdocumentresizeFunction=function(e){that._pageResized(e)},jQuery(window).bind("ncbipopperdocumentresize",this.ncbipopperdocumentresizeFunction)},_destroyResizeListener:function(){this.ncbipopperdocumentresizeFunction&&(jQuery(window).unbind("ncbipopperdocumentresize",this.ncbipopperdocumentresizeFunction),this.ncbipopperdocumentresizeFunction=null)},_registerGlobalResizeListener:function(){jQuery.ui.ncbipopper.globalEvents.isGlobalResizeRegistered||(jQuery.ui.ncbipopper.globalEvents.isGlobalResizeRegistered=!0,jQuery(window).on("resize scroll",function(e){jQuery(window).trigger("ncbipopperdocumentresize")}))},_pageResized:function(e){this.isOpen()&&(this._positionPopper(e),this._setUpArrow(e))},_addCloseButton:function(){var popper,closeButton,that;this.options.addCloseButton&&(0===(closeButton=(popper=this.getDestElement()).find(".ui-ncbipopper-close-button, .ncbipopper-close-button")).length&&(closeButton=jQuery("<button class='ui-ncbipopper-close-button ui-ncbipopper-close-button-generated'><span class='ui-button-text'>x</span></button>").attr("generated","true").prependTo(popper)).ncbibutton({color:"blue"}),closeButton)&&((that=this)._closeButtonFunction=function(e){that.close(),e.preventDefault()},closeButton.on("click",this._closeButtonFunction))},_destroyCloseButton:function(isPopperShared){this._closeButtonFunction&&this.getDestElement().find(".ui-ncbipopper-close-button, .ncbipopper-close-button").off("click",this._closeButtonFunction).filter(function(){return!isPopperShared}).filter(".ui-ncbipopper-close-button-generated").ncbibutton("destroy").remove()},isPopperShared:function(){return 1<(this.getDestElement().data("popperTriggers")||[]).length},_addSharingDetails:function(){var popper=this.getDestElement(),sharedPoppers=popper.data("popperTriggers")||[];sharedPoppers.push(this.element),popper.data("popperTriggers",sharedPoppers)},_removeSharingDetails:function(){for(var popper=this.getDestElement(),sharedPopper=popper.data("popperTriggers"),domTrigger=this.element[0],i=0;i<sharedPopper.length;i++)if(sharedPopper[i][0]==domTrigger){sharedPopper.splice(i,1);break}0===sharedPopper.length?popper.removeData("popperTriggers"):popper.data("popperTriggers",sharedPopper)},_handleSharedPoppersOpen:function(){if(this.isPopperShared())for(var sharedPopper=this.getDestElement().data("popperTriggers"),domTrigger=this.element[0],i=0;i<sharedPopper.length;i++)if(sharedPopper[i][0]!=domTrigger&&jQuery.ui.jig.getElementWidgets(sharedPopper[i],"ncbipopper")[0].isOpen()){jQuery.ui.jig.getElementWidgets(sharedPopper[i],"ncbipopper")[0].close(!0);break}},_addPopperHover:function(){var contentElement,that,config;"mouseout"===(this.options.closeMethod||this.options.closeEvent)&&(contentElement=this.getDestElement(),this._arrow&&(contentElement=contentElement.add(this._arrow)),config={timeout:(that=this).options.delayTimeout,over:function(){},out:function(){that._overPopper(!1)}},jQuery(contentElement).hoverIntent(config),jQuery(contentElement).mouseenter(function(){that._overPopper(!0),that._lastOver=new Date}),jQuery(contentElement).mouseleave(function(){new Date-that._lastOver<that.options.delayTimeout&&that._overPopper(!1)}).mouseout(function(e){var tar=jQuery(e.target||e.srcElement);(tar.hasClass("ui-ncbipopper-wrapper")||tar.hasClass("ui-ncbipopper-arrow-image"))&&0===tar.find(e.relatedTarget).length&&(that._isOverPopper=!1,that._outTimer=window.setTimeout(function(){that._overPopper(!1)},200))}))},_destroyPopperHover:function(){var jqContentElement=jQuery(this.getDestElement());jqContentElement.unbind("mouseenter").unbind("mouseleave"),jqContentElement.removeProp("hoverIntent_t"),jqContentElement.removeProp("hoverIntent_s")},_overPopper:function(isOver){var that;this._outTimer&&window.clearInterval(this._outTimer),isOver&&(this._pTimer=new Date),(this._isOverPopper=isOver)||(this._isOverTrigger?(that=this,window.setTimeout(function(){that._isOverPopper||that._isOverTrigger||that._overPopper(!1)},300)):this.close())},isOpen:function(currentTrigger){currentTrigger=currentTrigger||this._activeTrigger,currentTrigger=jQuery(currentTrigger);var activeTrigger=jQuery(this._activeTrigger),triggers=this.getDestElement().data("popperTriggers"),triggers=!(this.options.openAtTarget||1<triggers.length)||currentTrigger&&currentTrigger.length&&activeTrigger&&activeTrigger.length&&activeTrigger[0]===currentTrigger[0];return!(!this.getDestElement().data("isOpen")||!triggers)},_setParentsZIndex:function(index){var relInd,parentElem,pos;jQuery.browser.msie&&parseInt(jQuery.browser.version,10)<=7&&(parentElem=this.getDestElement().parents(),relInd=0,1<parentElem.length)&&(parentElem.each(function(ind){if("relative"===jQuery(this).css("position"))return relInd=0===ind?0:ind+1,!1}),pos=(parentElem=parentElem.eq(relInd)).css("position"),parentElem.data("orgPosition")||parentElem.data("orgPosition",pos),"static"!==pos&&"relative"!==pos||(pos=1===index?parentElem.data("orgPosition"):"relative",parentElem.css({position:pos,"z-index":index})))},addTriggerAria:function(link){var trigger=link;link||(trigger=this.element,(link=this.options.multipleHandlesSelector)&&0<link.length&&(trigger=trigger.add(link))),trigger.attr("role","button").attr("aria-expanded",!1).attr("aria-haspopup",!0)},_destroyTriggerAria:function(){var trigger=this.element,multipleTriggers=this.options.multipleHandlesSelector;(trigger=multipleTriggers&&0<multipleTriggers.length?trigger.add(multipleTriggers):trigger).removeAttr("role aria-expanded aria-haspopup")},_addDestAria:function(){this.getDestElement().attr("aria-live","assertive").attr("aria-hidden",!0).addClass("ui-helper-reset")},_destroyDestAria:function(){this.getDestElement().removeAttr("aria-live aria-hidden").removeClass("ui-helper-reset")},_setAriaState:function(isOpen,trigger,popper){trigger=trigger||this.element,popper=popper||this.getDestElement();trigger.attr("aria-expanded",isOpen),popper.attr("aria-hidden",!isOpen)}}),jQuery.ui.ncbipopper.openGroups={},jQuery.ui.ncbipopper.globalEvents={isGlobalEscapeRegistered:!1,isGlobalClickRegistered:!1,isGlobalResizeRegistered:!1},$.ui.jig.widget("ui.ncbibasicmenu",{options:{defaultSelection:-1,allowMultipleSelections:!1,orientation:"vertical",preventDefaultCheck:!0,stopPropagationCheck:!0,normalizeSubsToOneLevel:!1,disableSelect:!1},styles:{itemNoHilite:"ui-ncbimenu-item-no-hlt",itemSkip:"ui-ncbimenu-item-skip"},_init:function(){this._loadedOnce&&this.rescan(),this._loadedOnce=!0},_create:function(){this._setSelectorString(),this._addClasses(),this._formatList(),this._addEvents(),this._setUpDefaults(),this._setTabIndex(),this._addAria()},rescan:function(){this._addClasses(),this._setTabIndex(),this._addAria(),this._destroyFocusEvents(),this._setUpFocusEvents()},destroy:function(){this._destroyTabIndex(),this._destroyClasses(),this._destroyEvents(),this._destroyAria(),this._destroyFormatList()},_setSelectorString:function(){var limitChar=">";this.options.normalizeSubsToOneLevel&&(limitChar="",this.element.addClass("oneLevel")),this._liSelector=limitChar+"li:not(.ui-ncbimenu-item-skip)"},_addClasses:function(){this.isVert="vertical"===this.options.orientation;var classesToAdd="ui-ncbibasicmenu";this.isVert||(classesToAdd+=" orientation_hort"),this.element.addClass(classesToAdd)},_destroyClasses:function(){this.element.removeClass("ui-ncbibasicmenu")},_setUpDefaults:function(){if(this.selectedOption=this.options.defaultSelection,-1!==this.selectedOption){var anchors=this.element.find(this._liSelector+">a");if(this.options.allowMultipleSelections)for(var i=0;i<this.selectedOption.length;i++)this._makeSelection(anchors.eq(this.selectedOption[i]),"load");else this._makeSelection(anchors.eq(this.selectedOption),"load")}},_formatList:function(){},_destroyFormatList:function(){},_setTabIndex:function(){var anchors=this.element.find(this._liSelector+">a").attr("tabindex","-1"),selected=this.element.find(this._liSelector+".selected>a");if(0<selected.length)var firstTab=selected.eq(0);else for(var index=0,firstTab=anchors.eq(0);firstTab.is("."+this.styles.itemSkip+" a")&&index<anchors.length-1;)firstTab=anchors.eq(index+=1);this.options.nested||firstTab.removeAttr("tabindex")},_destroyTabIndex:function(){this.element.find(this._liSelector+">a").removeAttr("tabindex")},_addEvents:function(){this._setUpKeyListener(),this._setUpClickEvents(),this._setUpFocusEvents(),this._setUpHoverEvents()},_destroyEvents:function(){this._destroyKeyListener(),this._destroyClickEvents(),this._destroyFocusEvents(),this._destroyHoverEvents()},_setUpKeyListener:function(){var that;this._menuKeyListener||((that=this)._menuKeyListener=function(e){that.element.is(":visible")&&that._keyPressDetected(e.keyCode)&&(e.preventDefault(),that.options.stopPropagationCheck)&&e.stopPropagation()},jQuery(document).keydown(this._menuKeyListener))},_destroyKeyListener:function(){this._menuKeyListener&&(jQuery(window).unbind("keydown",this._menuKeyListener),this._menuKeyListener=null)},_setUpClickEvents:function(){var that=this;this._ulClickEvent=function(e){var elem=e.srcElement||e.target;elem&&(that.options.disableSelect||that._makeSelection(jQuery(elem),"click"),that.options.stopPropagationCheck&&e.stopPropagation(),that.options.preventDefaultCheck)&&1===jQuery(elem).siblings("ul").length&&e.preventDefault()},this.element.on("click.ncbibasicmenu",this._ulClickEvent)},_destroyClickEvents:function(){this.element.off("click",this._ulClickEvent)},_setUpFocusEvents:function(){var that=this;this._focusFnc=function(){that._menuFocused(this)},this._blurFnc=function(){that._menuBlured(this)},this.element.find(this._liSelector+">a").on("blur",this._blurFnc).on("focus",this._focusFnc)},_destroyFocusEvents:function(){this.element.find(this._liSelector+">a").off("blur",this._blurFnc).off("focus",this._focusFnc)},focus:function(){this._menuFocused(null)},_menuFocused:function(anchor){this._lastAnchor=anchor,this._isFocused=!0},_menuBlured:function(anchor){this._lastAnchor==anchor&&(this._isFocused=!1)},removeFocus:function(){this._menuBlured()},_setUpHoverEvents:function(){var that=this;this._mouseEnterFnc=function(e){e=jQuery(e.target).closest("li");e.hasClass(that.styles.itemNoHilite)||e.hasClass(that.styles.itemSkip)||e.addClass("hover")},this.mouseLeaveFnc=function(){jQuery(this).removeClass("hover")},this.element.on("mouseenter","li",this._mouseEnterFnc).on("mouseleave","li",this.mouseLeaveFnc)},_destroyHoverEvents:function(){this.element.off("mouseenter",this._mouseEnterFnc).off("mouseleave",this.mouseLeaveFnc),this._mouseEnterFnc=null,this.mouseLeaveFnc=null},_makeSelection:function(anchor,action){var previouslySelected,li=anchor.parent("li");1===li.length&&(previouslySelected=li.hasClass("selected"),this.options.allowMultipleSelections||this._removeAllSelections(),li.hasClass(this.styles.itemSkip)||(li.hasClass(this.styles.itemNoHilite)||li[previouslySelected?"removeClass":"addClass"]("selected"),"menunav"!==action&&this._trigger(previouslySelected?"unselected":"selected","x",[anchor,li,action]),"click"===action||"load"===action?this.selectedOption=this.element.find(this._liSelector+".selected").index():previouslySelected||li.find(">a").focus())),this._setTabIndex()},_keys:{up:38,down:40,left:37,right:39,enter:13,escape:27,tab:9},_keyPressDetected:function(keyCode){var k=this._keys,cancelAction=!1;if(this._isFocused&&this.element.has(this._liSelector+">a:focus"))switch(keyCode){case k.up:this._upDownPressed(-1),cancelAction=!0;break;case k.down:this._upDownPressed(1),cancelAction=!0;break;case k.left:this._leftRightPressed(-1),cancelAction=!0;break;case k.right:this._leftRightPressed(1),cancelAction=!0;break;case k.enter:this._enterSelected(),cancelAction=!1;break;case k.escape:this._escapeTyped(),cancelAction=!1;break;case k.tab:this._trigger("tab");default:cancelAction=!1}return cancelAction},_upDownPressed:function(dir){this.isVert?this._moveSelection(dir):this._trigger(1===dir?"actiondown":"actionup","x",this.focusedElement())},_leftRightPressed:function(dir){this.isVert?this._trigger(1===dir?"actionright":"actionleft","x",this.focusedElement()):this._moveSelection(dir)},focusedElement:function(){return-1!==this.selectedOption?this.element.find(this._liSelector).eq(this.selectedOption):this.element.find(this._liSelector+":has(>a:focus)")},moveSelection:function(dir){this._moveSelection(dir)},_getNextIndex:function(current,inc,listLength){current+=inc;return current<0?current=listLength-1:listLength-1<current&&(current=0),current},_moveSelection:function(dir){for(var anchors=this.element.find(this._liSelector+">a"),nextIndex=this._getNextIndex(this.selectedOption,dir,anchors.length);anchors.eq(nextIndex).closest("li").hasClass(this.styles.itemSkip);)nextIndex=this._getNextIndex(nextIndex,dir,anchors.length);this.selectedOption=nextIndex,this._makeSelection(anchors.eq(nextIndex),"keyboard")},removeAllSelections:function(){this.selectedOption=-1,this._removeAllSelections(),this._setTabIndex()},_removeAllSelections:function(){this.element.find(this._liSelector).removeClass("selected")},_enterSelected:function(){this._trigger("enter")},_escapeTyped:function(){this._trigger("escape","x",this.focusedElement())},_addAria:function(){var parentMenu=this.element.parents('[role="menubar"]'),lis=this.element.find(this._liSelector),anchors=lis.find(">a");this.element.attr("role",0===parentMenu.length?"menubar":"menu"),lis.attr("role","presentation"),anchors.attr("role","menuitem")},_destroyAria:function(){var lis=this.element.find(this._liSelector),anchors=lis.find(">a");this.element.removeAttr("role"),lis.removeAttr("role"),anchors.removeAttr("role")},selectFirstItem:function(){this.selectedOption=0,this._moveSelection(0)}}),!function($){$.ui.jig.widget("ui.ncbilinkedselects",{_selectEls:[],_localMap:null,options:{firstPopulatedFromDs:!0,localData:null,localDataCallback:null,initialSelected:null,selects:null,webservice:null,loadingSpinner:!0,loadingText:"Loading...",loadingImage:jQuery.ui.jig._baseURL+"/img/loading.gif"},_create:function(){this.options.localData?this._localMap=eval(this.options.localData):this._initResponseCache(),this._selectEls=this.getSelects(),this._prepareSelects(),this._setEvents(),this.options.firstPopulatedFromDs&&this._populateFirstSelect(),this.options.initialSelected&&this._selectInitialOptions()},_selectInitialOptions:function(){var initialSelectedIds=this.options.initialSelected.split(","),that=this,doSelection=function(e){for(var index,$select=$(this),i=0;i<that._selectEls.length;i++)if($select[0]===that._selectEls[i]){index=i;break}$select.find(initialSelectedIds[index]).attr("selected","selected"),$select.trigger("change"),$select[0]===that._selectEls[that._selectEls.length-1]&&$(document).unbind("ncbilinkedselectspopulated",doSelection)};$(this._selectEls).bind("ncbilinkedselectspopulated",doSelection)},_appendToSelect:function(selectNode,optionString){selectNode.append(optionString),selectNode.trigger("ncbilinkedselectspopulated")},_populateFirstSelect:function(){if(this.options.localData)for(var strOrObjects=this._getFirstOptionsFromLocalDs(),isString=this._isArrayOfStrings(strOrObjects),i=0;i<strOrObjects.length;i++){var strOrObj=strOrObjects[i];if(isString)this._appendToSelect(this.element,'<option value="'+strOrObj+'">'+strOrObj+"</option>");else for(var string in strOrObj)this._appendToSelect(this.element,'<option value="'+strOrObj[string]+'">'+string+"</option>")}else this._getAndAppendFromWebService(this.element,{})},_getFirstOptionsFromLocalDs:function(){var res=[];if(this.options.localDataCallback)res=this.options.localDataCallback.apply(this,[this._localMap]);else for(var i=0;i<this._localMap.length;i++){var opVal=this._localMap[i];("string"==typeof opVal||$.isPlainObject(opVal))&&res.push(opVal)}return res},getSelects:function(){if(this.options.selects)return restSelects=$(this.options.selects),this.element.add(restSelects);for(var restSelects=this.element.closest("fieldset, form"),selectsInCt=(0===restSelects.length&&$.ui.jig._isConsole("warn")&&console.warn("jig warning: ncbilinkedselects. Your select elements must be within either a fieldset or a form element"),restSelects.find("select")),thisElSeen=!1,selects=[],i=0;i<selectsInCt.length;i++){var selectInCt=selectsInCt[i];(thisElSeen=selectInCt==this.element[0]?!0:thisElSeen)&&!$(selectInCt).hasClass("ui-ncbilinkedselects-ignore")&&selects.push(selectInCt)}return $(selects)},_prepareSelects:function(){this._selectEls.each(function(){$(this).addClass("ui-ncbilinkedselect-element")})},_setEvents:function(){var self=this;this._selectEls.each(function(){var select=$(this),name=this.name;self._isLastSelect(name)||select.bind("change",function(e){self._resetNextSelects(name),self._populateNext(e)}),select.hasClass("jig-ncbiselect")&&select.bind("ncbilinkedselectspopulate",function(){select.ncbiselect("update")})})},_resetNextSelects:function(name){for(var currSelectSeenYet=!1,i=0;i<this._selectEls.length;i++){var sel=$(this._selectEls[i]);sel.attr("name")==name?currSelectSeenYet=!0:currSelectSeenYet&&sel.children("option").each(function(){var op=$(this);op.hasClass("ui-ncbilinkedselects-perm")||op.remove()})}},_getSelectPath:function(select){for(var path=[],sels=this.getSelects(),i=0;i<sels.length;i++){var currentSelect=sels[i];if(path.push($(currentSelect).val()),select.get(0)==currentSelect)break}return path},_getParamString:function(){var sels=this.getSelects(),selsAr=[];return sels.each(function(){$(this).find("option:selected").hasClass("ui-ncbilinkedselects-perm")||selsAr.push(this)}),$(selsAr).serialize()},_populateNext:function(e){var nextSelect,e=$(e.target),optionClicked=e.children("option:selected");optionClicked.hasClass("ui-ncbilinkedselects-perm")||(e.attr("name"),e.val(),nextSelect=this._getNextSelect(e.attr("name")),this.options.webservice?this._getAndAppendFromWebService(nextSelect):this.options.localData&&this._populateSelectFromLocalMap(e,optionClicked,nextSelect))},_initResponseCache:function(){this._responseCache={}},_setCachedResponse:function(response){var paramString=this._getParamString(),paramString=JSON.stringify(paramString);this._responseCache[paramString]=response},_getCachedResponse:function(){var paramString=this._getParamString(),paramString=JSON.stringify(paramString);return paramString in this._responseCache?this._responseCache[paramString]:null},_getAndAppendFromWebService:function(select){var self=this;if(!this.options.webservice)return $.ui.jig._isConsole("warn")&&(console.warn("Unknown webservice for"),console.warn(this.element)),!1;var firstOpt,loading,cachedResponse=this._getCachedResponse();cachedResponse?this._appendToSelect(select,cachedResponse):(this.options.loadingSpinner&&((firstOpt=select.find("option")).remove(),loading=this._addLoadingIndicator(select)),$.get(this.options.webservice,this._getParamString(),function(a,status,xmlhttpObj){response=xmlhttpObj.responseText,self.options.loadingSpinner&&(self._removeLoadingIndicator(loading),select.prepend(firstOpt)),self._setCachedResponse(response),self._appendToSelect(select,response)},"HTML"))},_addLoadingIndicator:function(select){var elToAttachLoading=select.hasClass("jig-ncbiselect")?select.ncbiselect("getGeneratedElem"):select,position=elToAttachLoading.offset(),width=elToAttachLoading.outerWidth(),height=elToAttachLoading.outerHeight(),elToAttachLoading=jQuery('<div class="ui-ncbilinkedselect-loading">').insertAfter(elToAttachLoading).css({left:position.left,top:position.top,width:width,height:height});return elToAttachLoading.append('<div class="ui-ncbilinkedselect-loading-overlay">'),jQuery('<div class="ui-ncbilinkedselect-loading-text"><img src="'+this.options.loadingImage+'" />'+this.options.loadingText+"</div>").css("line-height",height+"px").appendTo(elToAttachLoading),1<select.attr("size")&&elToAttachLoading.css("text-align","center"),elToAttachLoading},_removeLoadingIndicator:function(indicator){indicator.remove()},queryLocalService:function(valuePath){var res=[];return this._localMap[0],function getIndex(arr){for(var i in arr){var p,value=arr[i];for(p in value)if(value[p]==valuePath[0]){if(1==valuePath.length){for(var arrObjs=arr[parseInt(i)+1],l=0;l<arrObjs.length;l++){var arrOb=arrObjs[l];$.isArray(arrOb)||res.push(arrObjs[l])}return}valuePath.shift()}jQuery.isArray(value)&&getIndex(value)}}(this._localMap),res},_getOptionId:function(selectId,optionValue){return selectId+"-"+optionValue.replace(/\s/,"-")},_populateSelectFromLocalMap:function(currentSelect,optionClicked,nextSelect){for(var cb=this.options.localDataCallback,options=cb?cb.apply(this,[this._localMap,currentSelect,optionClicked,this._selectEls]):this.queryLocalService(this._getSelectPath(currentSelect)),selectId=currentSelect.attr("id"),arrayOfStrings=this._isArrayOfStrings(options),i=0;i<options.length;i++){var string,value,p,op=options[i];if(arrayOfStrings){var idStr=selectId?' id ="'+this._getOptionId(selectId,op)+'"':"";this._appendToSelect(nextSelect,'<option value="'+op+'"'+idStr+">"+op+"</option>")}else{for(p in op)value=op[string=p];idStr=selectId?' id="'+this._getOptionId(selectId,value)+'"':"";this._appendToSelect(nextSelect,'<option value="'+value+'"'+idStr+">"+string+"</option>")}}},_isArrayOfStrings:function(arr){return"string"==typeof arr[0]},_isLastSelect:function(name){return name===(els=this._selectEls)[els.length-1].name},_isFirstSelect:function(name){return name===(els=this._selectEls)[0].name},_getNextSelect:function(name){for(var i=0;i<this._selectEls.length;i++)if(this._selectEls[i].name==name)return $(this._selectEls[i+1])},change:function(selectIndex,value){$(this.getSelects()[selectIndex]).val(value).trigger("change")}})}(jQuery),!function(){jQuery.ui.jig.widget("ui.ncbilinksmenu",jQuery.ui.ncbipopper,{options:{openEvent:"click",closeEvent:"click",closeOnSelect:!0,openAnimation:"none",cssClass:"ui-ncbilinksmenu",ignoreSettingOutterWidth:!0,excludeBasicCssStyles:!0,wrapElement:!0,preventDefault:""},_create:function(){this._checkHrefForWebService(),this._setPopperOptions(),jQuery.ui.ncbipopper.prototype._create.apply(this,arguments),this._addMenuAria(),this._addOpenEvents()},destroy:function(){this._destroyMenuAria(),this._destroyMenu(),this._destroyOpenEvents(),jQuery.ui.ncbipopper.prototype.destroy.apply(this,arguments)},_checkHrefForWebService:function(){this.options.webservice||this.options.destSelector||this.options.localJSON||(this.options.webservice=this.element.attr("href"))},_setPopperOptions:function(){var opts=this.options;opts.loadingMessage&&(opts.showLoadingMessage=!0),opts.width||(opts.width="200px"),(this.options.webservice||this.options.localJSON)&&(this.options.destText="<ul class='linksmenu-ul'><li class='ui-ncbilinksmenu-loadingMessage'><span>"+this.options.loadingText+"</span></li></ul>")},open:function(){var that,selector,fetchURL;this._setTriggerId(),this.isLoaded?this.getDestElement().find("ul").eq(0).ncbibasicmenu("removeAllSelections").ncbibasicmenu("focus"):(that=this).options.webservice?(fetchURL=this.options.webservice,(selector=this.options.webserviceMenuSelector)||-1!==fetchURL.indexOf("#")&&(selector=fetchURL.match(/#.+/)[0]),jQuery.get(fetchURL,function(data){var menu;"string"==typeof data?(menu=data,selector&&(menu=jQuery("<div/>").html(data).find(selector)),that.getDestElement().empty().html(menu),that._createMenu()):that._loadContentJSON(data)}).error(function(){that.getDestElement().find("ul.linksmenu-ul").replaceWith("<ul class='linksmenu-ul'><li class='ui-ncbilinksmenu-errorMessage'><span>Error Loading Data</span></li></ul>"),that._logError(),window.setTimeout(function(){that.close()},4e3)})):this.options.localJSON?("function"==typeof(fetchURL=this.options.localJSON)&&(fetchURL=fetchURL()),this._loadContentJSON(fetchURL)):this._createMenu(),jQuery.ui.ncbipopper.prototype.open.apply(this,arguments)},_addMenuAria:function(){this.element.wrap("<span></span>").attr("role","menuitem").parent().attr("role","menubar")},_destroyMenuAria:function(){this.element.unwrap().removeAttr("role")},_createMenu:function(){this.isLoaded=!0;var that,selectedFnc,ul=this.getDestElement().find("ul").eq(0);ul.hasClass("ui-ncbibasicmenu")||(ul.ncbibasicmenu({stopPropagationCheck:!1,normalizeSubsToOneLevel:!0,disableSelect:!0}),(that=this)._selectedFnc=selectedFnc=function(event){var trigger=ul.closest(".ui-ncbilinksmenu").data("attachedTo"),linksmenuInstance=jQuery.ui.jig.getElementWidgets(trigger,"ncbilinksmenu")[0];(linksmenuInstance=linksmenuInstance||that).isOpen()&&("ncbibasicmenuescape"!=event.type&&linksmenuInstance.options.closeOnSelect&&linksmenuInstance.close(),ul.not(jQuery(event.target)).find("li.selected").not(jQuery(event.target).closest("li")).removeClass("selected"),"ncbibasicmenuescape"!=event.type)&&linksmenuInstance.options.closeOnSelect&&trigger.focus()},ul.on("ncbibasicmenuescape",selectedFnc),ul.on("click","a",selectedFnc))},_destroyMenu:function(){var ul=this.getDestElement().find("ul").eq(0);ul.ncbibasicmenu("destroy"),ul.ncbibasicmenu("focus").off("ncbibasicmenuescape",this._selectedFnc).off("ncbibasicmenuenter",this._selectedFnc).off("click",this._selectedFnc),this._selectedFnc=null},_loadContentJSON:function(data){"function"==typeof data&&data.apply(this);var that=this,menuUl=jQuery("<ul></ul>");function buildLink(menuItem,attachTo){var text=menuItem.text,href=menuItem.href||"#",target=menuItem.target||"",click=menuItem.click||"",rel=("string"==typeof click&&""!=click&&(eval("clicktmp = "+click),click=clicktmp),menuItem.rel||""),target=target&&' target="'+target+'"',rel=rel&&' rel="'+rel+'"',li=jQuery("<li></li>"),link=jQuery("<a href='"+href+"'"+target+rel+">"+text+"</a>");if(click)try{link.click(function(e){click.call(this,e,that),e.preventDefault&&jQuery(this).is(that.options.preventDefault)&&e.preventDefault()})}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}li.append(link),attachTo.append(li)}function buildMenu(linksList,parentNode){for(var i=0;i<linksList.length;i++){var li,currentNode=linksList[i],heading=currentNode.heading;heading?(li=jQuery("<li></li>").attr("role","heading"),heading=jQuery("<span>"+heading+"</span>"),li.append(heading),(heading=currentNode.links)&&(buildMenu(heading,heading=jQuery("<ul></ul>")),li.append(heading)),parentNode.append(li)):buildLink(currentNode,parentNode)}}var menuLinks=data.links,popper=(menuLinks&&buildMenu(menuLinks,menuUl),this._contentFetched=!0,this.isFunctionResultCached=this.options.isDestTextCacheable,this.getDestElement());popper.empty().append(menuUl),this._createMenu(),this._trigger("jsonmenuloaded")},_logError:function(){var statData,id,href,elem,webservice;"undefined"!=typeof ncbi&&ncbi.sg&&ncbi.sg.ping&&(statData={jsevent:"ncbilinksmenu_error"},id=(elem=this.element).attr("id")||null,href=elem.attr("href")||null,elem=elem.text()||null,webservice=this.options.webservice,id&&(statData.id=id),href&&(statData.href=href),elem&&(statData.text=elem),webservice&&(statData.webservice=webservice),ncbi.sg.ping(statData))},_setTriggerId:function(){var id=this.element.attr("id");id&&this.getDestElement().data("triggerId","#"+id).attr("data-jigtriggerid","#"+id).data("trigger",this.element)},_pingDetails:function(evt,elem,action){"undefined"!=typeof ncbi&&ncbi.sg&&ncbi.sg.ping&&ncbi.sg.ping(elem,evt.originalEvent,action,{})},_addOpenEvents:function(){var that=this;this._keyDownFnc=function(e){e=e.keyCode;38!==e&&40!==e||that.open()},this.element.on("keydown",this._keyDownFnc)},_destroyOpenEvents:function(){this.element.off("keydown",this._keyDownFnc),this._keyDownFnc=null}})}(),jQuery.ui.jig.widget("ui.ncbimenu",{options:{isSubMenuLimited:!1,delayTimeout:500,useHoverEvents:!0},_create:function(){this._addClasses(),this._addAria(),this._createMenus(),this._addListeners(),this._addEvents(),this._addAjaxEvents()},rescan:function(){this._destroyListeners(),this._destroyEvents(),this._addAria(),this._createMenus(),this._addListeners(),this._addEvents()},destroy:function(){this._destroyEvents(),this._destroyClasses(),this._destroyAria(),this._destroyListeners(),this._destroyMenus()},_addClasses:function(){this.element.addClass("ui-ncbimenu")},_destroyClasses:function(){this.element.removeClass("ui-ncbimenu")},_addAria:function(){this.element.attr("role","menubar").find("li").filter(":has(ul)").find("a").attr("aria-haspopup","true").end().find("ul").attr("aria-hidden","true")},_destroyAria:function(){this.element.removeAttr("role").find("li").removeAttr("role").filter(":has(ul)").find("a").removeAttr("aria-haspopup").removeAttr("role").end().find("ul").removeAttr("aria-hidden").removeAttr("role")},_createMenus:function(){this.element.ncbibasicmenu({orientation:"horizontal"});var level2=this.element.find(">li:has(>ul)");level2.find(">a").addClass("expandDown"),level2.find(">ul").ncbibasicmenu({nested:!0}),this.options.isSubMenuLimited||(level2.find(">ul ul").ncbibasicmenu({nested:!0}),level2.find(">ul ul").parent().find(">a").addClass("expandRight"))},_destroyMenus:function(){this.element.removeClass("jig-ncbimenu cf ui-ncbibasicmenu orientation_hort").find("ul").andSelf().show().ncbibasicmenu("destroy")},_addEvents:function(){var config,that=this;this._windowClickFnc=function(evt){evt=evt.target||evt.srcElement;that.element[0]!==evt&&1!==that.element.find(evt).length&&that.closeSub(that.element.find("ul"))},jQuery(window).on("click",this._windowClickFnc),this._unselectEverythingFnc=function(){that._unselectEverything()},this.element.find("li").not(":has(ul)").find("a").on("click",this._unselectEverythingFnc),this._blurFnc=function(){that._checkFocus()},this.element.on("blur","a",this._blurFnc),this.options.useHoverEvents&&(config={timeout:this.options.delayTimeout,over:function(){var anchor,li,selectedLi;that._isActive&&(0===(li=(anchor=jQuery(this)).parent()).has("ul").length?(selectedLi=li.siblings("li.selected").removeClass("selected"),that.closeSub(selectedLi),anchor.focus()):li.hasClass("selected")||anchor.focus().click())},out:function(){}},this.element.find(">li:not(:has(ul))>a,li:has(ul)>a").hoverIntent(config))},_destroyEvents:function(){jQuery(window).off("click",this._windowClickFnc),this._windowClickFnc=null,this.element.off("blur","a",this._blurFnc),this._blurFnc=null,this.element.find(">li:not(:has(ul))>a,li:has(ul)>a").unbind("mouseover mouseoff"),this.element.find("li").not(":has(ul)").find("a").off("click",this._unselectEverythingFnc)},_addAjaxEvents:function(){var that;0<this.element.find(">li:has(a.expandDown)").not(":has(ul)").length&&((that=this)._ajaxEnterFnc=function(){that._loadAjaxContent()},this.element.on("mouseenter",this._ajaxEnterFnc))},_loadAjaxContent:function(){var that=this,links=(this.element.off("mouseenter",this._ajaxEnterFnc),this._ajaxEnterFnc=null,this.element.find("a.expandDown")),pageURL=links.eq(0).prop("href").split("#");jQuery("<div/>").load(pageURL[0],function(){that._handleAjaxLoadCallback(this,links)})},_handleAjaxLoadCallback:function(externalPage,links){var wrapper=jQuery(externalPage);links.each(function(){var link=jQuery(this),hash=link.prop("href").split("#")[1],hash=wrapper.find("#"+hash);"li"===hash[0].tagName.toLowerCase()&&(hash=hash.find(">ul")),link.parent().append(hash)}),this._createMenus(),this._addEvents()},_checkFocus:function(){var that=this;window.setTimeout(function(){0===that.element.find("a:focus").length&&that._unselectEverything()},10)},_addListeners:function(){var that=this;this.element.find(">ul").andSelf().on("ncbibasicmenuunselected",function(evtObj,anchor,li,action){"click"===action&&that.closeSub(li)}).on("ncbibasicmenuselected",function(evtObj,anchor,li,action){("click"===action||0<(action=li.siblings().find("ul:visible")).length&&(action.each(function(){that.closeSub(jQuery(this))}),li.parent("ul").hasClass("ui-ncbimenu")))&&that.openSub(li)}).on("ncbibasicmenuactiondown ncbibasicmenuactionright",function(evtObj,li){var ul=(li=jQuery(li)).find(">ul");li.hasClass("selected")?1===ul.length&&ul.not(":visible")&&that.openSub(li):li.find(">a").click(),1===ul.length&&window.setTimeout(function(){ul.ncbibasicmenu("selectFirstItem")},10)}).on("ncbibasicmenuactionup ncbibasicmenuactionleft ncbibasicmenuescape",function(evtObj,li){var ul=(li=jQuery(li)).find(">ul");0<ul.length&&ul.is(":visible")?that.closeSub(jQuery(li)):((ul=li.parent("ul").parent("li")).find(">a").focus(),that.closeSub(ul))})},_destroyListeners:function(){this.element.find("ul").andSelf().off("ncbibasicmenuunselected").off("ncbibasicmenuselected")},openSub:function(li){var at,siblingsOpen,ul=li.find(">ul");1===ul.length&&(this._isActive=!0,0<(siblingsOpen=li.parent().find("li:has(ul:visible)")).length&&this.closeSub(siblingsOpen),siblingsOpen=li.parent().hasClass("orientation_hort")?(at="left bottom","fit flip"):(at="right center","flip fit"),ul.show().position({of:li,my:"left top",at:at,collision:siblingsOpen}).attr("aria-hidden","false"))},closeSub:function(liUl){liUl=liUl.is("li")?liUl.find("ul"):liUl;liUl.find("ul").andSelf().not(".ui-ncbimenu").hide().attr("aria-hidden","true").end().ncbibasicmenu("removeAllSelections").find("li.selected").removeClass("selected")},_unselectEverything:function(){var uls=this.element.find("ul:visible").andSelf();this.closeSub(uls),this._isActive=!1}}),jQuery.ui.jig.widget("ui.ncbiinpagenav",{selector:".jig-ncbiinpagenav, [data-jig-ncbiinpagenav]",options:{currentHeadingClass:"currentHeading",gotoLinkText:"Go to:",gotoLinkTitle:"Go to other sections in this page",gotoTopLink:!1,gotoTopLinkAttrs:{},gotoTopLinkHref:"#top",gotoTopLinkText:"Top&#9650;",headingLevel:null,allHeadingLevels:["h2","h3","h4","h5","h6"],headingExclude:".jig-ncbiinpagenav-heading-exclude",inHeadingExclude:".jig-ncbiinpagenav-inheading-exclude, .ui-helper-hidden-accessible",smoothScroll:!0,gotoPoppers:!0,topOfPageTOC:!1,tocTagName:"ul",addNumbers:!1,puncMark:"."},_create:function(){this._inPageNav(),this._scrollIntoView()},destroy:function(){jQuery.Widget.prototype.destroy.apply(this,arguments),this._removeGoto(),this._removeScrollListener(),this._removeTOC(),this.options.addNumbers&&this.element.find(".jig-ncbiinpagenav-number").remove()},_makeGotoDiv:function(headings,enableSmoothScroll,popMenuId){var gotoDiv='<div class="goto jig-ncbiinpagenav-goto-container">';if(this.options.gotoPoppers&&(gotoDiv=gotoDiv+'<a class="tgt_dark page-toc-label jig-ncbiinpagenav-goto-heading" href="#" title="'+this.options.gotoLinkTitle+'">'+this.options.gotoLinkText+"</a>"),this.options.gotoTopLink){for(var prop in gotoDiv=gotoDiv+'<ul class="links inline_list_right">'+("<li"+enableSmoothScroll+'><a href="'+this.options.gotoTopLinkHref+'"'),this.options.gotoTopLinkAttrs)gotoDiv+=" "+prop+'="'+this.options.gotoTopLinkAttrs[prop]+'"';gotoDiv+=">"+this.options.gotoTopLinkText+"</a></li></ul>"}gotoDiv+="</div>",headings.not(this.options.headingExclude).addClass("ui-helper-clearfix").before(gotoDiv)},_makeTopOfPageTOC:function(headings,widgetClassApplied,appendToElem){var headings=this._buildLis(headings,this.options.tocTagName,!0),enableSmoothScrollClass=this.options.smoothScroll?" jig-ncbismoothscroll":"",enableSmoothScrollConfig=this.options.smoothScroll?" data-jigconfig=\"topHref: '"+this.options.gotoTopLinkHref+"'\"":"",tocTagName=this.options.tocTagName;jQuery("<"+tocTagName+' id="'+this.getTocId()+'" class="jig-ncbiinpagenav-toc-container'+enableSmoothScrollClass+'"'+enableSmoothScrollConfig+">"+headings+"</"+tocTagName+">").prependTo(appendToElem)},_makeGotoPoppers:function(headings,widgetClassApplied,appendToElem,enableSmoothScroll){var popMenuId=this.getPopMenuId(),headings=this._buildLis(headings,"ul",!1),enableSmoothScroll=jQuery('<ul id="'+popMenuId+'"'+enableSmoothScroll+">"+headings+"</ul>").appendTo(appendToElem),headings=this.element.find(".jig-ncbiinpagenav-goto-heading"),appendToElem=headings.eq(0),headings=headings.filter(":gt(0)"),that=this;appendToElem.ncbilinksmenu({destSelector:"#"+popMenuId,multipleHandlesSelector:headings,openAtTarget:!0,triggerPosition:"bottom left"}).bind("ncbilinksmenuopen",function(){that._inPageNavMenuOpen()}).bind("ncbilinksmenuclose",function(){that._inPageNavMenuClose()}),this._firstAnchor=appendToElem,"undefined"!=typeof ncbi&&ncbi.sg&&ncbi.sg.scanLinks(enableSmoothScroll[0].getElementsByTagName("a"))},_buildLis:function(headings,tagName,nested){var numberingIndex,allHeadingLevels=jQuery.map(this.options.allHeadingLevels,function(str){return str.toLowerCase()}),headingLevel=this.options.headingLevel?this.options.headingLevel.toLowerCase():allHeadingLevels[0],headingExclude=this.options.headingExclude,lastTagLevel=allHeadingLevels.indexOf(headingLevel),str="",addNumbers=this.options.addNumbers;addNumbers&&(numberingIndex=[1]);for(var i=0;i<headings.length;i++){var node=headings[i],jqNode=jQuery(node),node=node.nodeName.toLowerCase();if((nested||node==headingLevel)&&(null==headingExclude||!jqNode.is(headingExclude))){var tagLevel=allHeadingLevels.indexOf(node);if(lastTagLevel<tagLevel&&0<i)for(;lastTagLevel<tagLevel;)str+="<"+tagName+"><li>",lastTagLevel+=1,addNumbers&&numberingIndex.push(1);else if(tagLevel==lastTagLevel&&0<i)str+="</li><li>",addNumbers&&(numberingIndex[numberingIndex.length-1]+=1);else if(tagLevel<lastTagLevel&&0<i){for(;tagLevel<lastTagLevel;)str+="</li></"+tagName+">",--lastTagLevel,addNumbers&&numberingIndex.pop();addNumbers&&(numberingIndex[numberingIndex.length-1]+=1),str+="</li><li>"}else str+=0==i?"<li>":"</li><li>";if(str+='<a href="#',""===jqNode.prop("id")&&jqNode.prop("id",jQuery.ui.jig._generateId("ncbiinpagenav-heading")),str=(str+=jqNode.prop("id"))+('">'+jqNode.clone().find(this.options.inHeadingExclude).remove().end().text()+"</a>"),this.options.addNumbers&&!jqNode.is(this.options.headingExclude)&&(node=jQuery.map(numberingIndex,function(num){return""+num}).join("."),puncMark=this.options.puncMark,jqNode.html('<span class="jig-ncbiinpagenav-number">'+node+"</span>"+puncMark+" "+jqNode.html())),lastTagLevel=tagLevel,i==headings.length-1){for(;0<lastTagLevel;)str+="</li></"+tagName+">",--lastTagLevel;str+="</li>"}}}return str},_inPageNav:function(){var allHeadingLevels=this.options.allHeadingLevels,headingLevel=this.options.headingLevel?this.options.headingLevel.toLowerCase():allHeadingLevels[0],headingLevel=allHeadingLevels.indexOf(headingLevel),allHeadingLevels=jQuery.map(allHeadingLevels.slice(headingLevel),function(s){return s+":visible"}).join(", "),headingLevel=this.element.find(allHeadingLevels),allHeadingLevels=this.element,appendToElem=allHeadingLevels.length?allHeadingLevels:jQuery(document.body),enableSmoothScroll=this.options.smoothScroll?' class="jig-ncbismoothscroll" data-jigconfig="topHref: \''+this.options.gotoTopLinkHref+"'\"":"";(this.options.gotoTopLink||this.options.gotoPoppers)&&this._makeGotoDiv(headingLevel,enableSmoothScroll),this.options.gotoPoppers&&this._makeGotoPoppers(headingLevel,allHeadingLevels,appendToElem,enableSmoothScroll),this.options.topOfPageTOC&&this._makeTopOfPageTOC(headingLevel,allHeadingLevels,appendToElem)},getTocId:function(){return void 0===this.element.data("tocId")&&this.element.data("tocId",jQuery.ui.jig._generateId(this.widgetName)),this.element.data("tocId")},getPopMenuId:function(){return void 0===this.element.data("popMenuId")&&this.element.data("popMenuId",jQuery.ui.jig._generateId(this.widgetName)),this.element.data("popMenuId")},_removeGoto:function(){jQuery(".jig-ncbiinpagenav-goto-container").add("#"+this.getPopMenuId()).remove()},_removeTOC:function(){jQuery("jig-ncbiinpagenav-toc-container").add("#"+this.getTocId()).remove()},_inPageNavMenuResetCurrent:function(){jQuery(this._firstAnchor).ncbilinksmenu("getDestElement");var popperAttachedToWidgetParent=this.element;jQuery("#"+popperAttachedToWidgetParent.data("ncbiinpagenav").getPopMenuId()).find("a").show().end().find("."+popperAttachedToWidgetParent.ncbiinpagenav("option","currentHeadingClass")).remove()},_inPageNavMenuOpen:function(){var popper=jQuery(this._firstAnchor).ncbilinksmenu("getDestElement"),popper=jQuery(popper.data("attached-to")),popperAttachedToWidgetParent=this.element,triggerLinkHeadingText=popper.parents(".jig-ncbiinpagenav-goto-container").next().text(),popper=popperAttachedToWidgetParent.data("ncbiinpagenav").getPopMenuId(),popper=jQuery("#"+popper).find("a").filter(function(){return jQuery(this).text()==triggerLinkHeadingText}),popperAttachedToWidgetParent=popperAttachedToWidgetParent.ncbiinpagenav("option","currentHeadingClass"),popperAttachedToWidgetParent=(this._inPageNavMenuResetCurrent(),jQuery("<span/>").addClass(popperAttachedToWidgetParent).text(popper.text()));popper.hide().before(popperAttachedToWidgetParent),this._addScrollListener()},_inPageNavMenuClose:function(){this._removeScrollListener(),this._inPageNavMenuResetCurrent()},_scrollIntoView:function(){var elem,cnt=0,t=null,hashVal=window.location.hash.replace(".","\\.");hashVal&&(elem=jQuery(hashVal)).length&&!function testPosition(){var topVal=elem.position().top;t!=topVal?(window.scrollTo(0,topVal),t=topVal):++cnt<this.element.find(this.options.allHeadingLevels.join(", ")).length&&window.setInterval(testPosition,1)}()},_addScrollListener:function(){var that=this;this._scrollYStart=jQuery(window).scrollTop(),this._windowScrollFnc=function(evt){200<Math.abs(that._scrollYStart-jQuery(window).scrollTop())&&that._firstAnchor.ncbilinksmenu("close")},jQuery(window).on("scroll",this._windowScrollFnc)},_removeScrollListener:function(){jQuery(window).off("scroll",this._windowScrollFnc),this._windowScrollFnc=null}}),jQuery.ui.jig.widget("ui.ncbilocalnav",jQuery.ui.ncbimenu,{_create:function(){this.options.isSubMenuLimited=!0,jQuery.ui.ncbimenu.prototype._create.apply(this,arguments)},_addClasses:function(){this.element.addClass("ui-ncbilocalnav"),jQuery.ui.ncbimenu.prototype._addClasses.apply(this,arguments)},_destroyClasses:function(){this.element.removeClass("ui-ncbilocalnav"),jQuery.ui.ncbimenu.prototype._destroyClasses.apply(this,arguments)}}),!function($){$.ui.jig.widget("ui.ncbidialog",$.ui.dialog,{options:{autoOpen:!1,draggable:!1,isTitleVisible:!0,open:null,openEvent:"click",resizable:!1,destSelector:null,stdOKCancel:!1,stdOKText:"OK",stdCancelText:"Cancel"},_create:function(){"div"!==this.element[0].tagName.toLowerCase()?(this.isTrigger=!0,this._triggerNode=this.element):this.isTrigger=!1,this.isTrigger&&(this._ajaxable=this._ajaxable(this._triggerNode));var title,that,dialogNode=this.isTrigger?this.getDialogNode():this.element;this.element=dialogNode,this.isTrigger&&(that=this)._triggerNode[this.options.openEvent](function(e){e.preventDefault();$(e.target);that._ajaxable&&that._getContent(),that.element.dialog("open")}),dialogNode.data("jigncbidialogcreated")||((title=this.element.attr("title"))?this.element.data("title",title):title=this.element.data("title"),0===dialogNode.length?$.ui.jig._isConsole("error")&&console.error('ncbidialog: No matching dialog node found with selector "'+this.options.destSelector+'".'):(this._parseCallbacks(),this._overrideEvents(),dialogNode.dialog(this.options),this.options.isTitleVisible||dialogNode.prev(".ui-dialog-titlebar").addClass("ui-helper-hidden-accessible").css("position","absolute"),this._renderButtonMarkup(),this._doStdOKCancel(),title&&(that=this).element.bind("dialogopen",function(){that.element.dialog("option","title",title)}),dialogNode.data("jigncbidialogcreated",!0)))},getStdOKButton:function(){var ret=null;return ret=this.options.stdOKCancel?this._dialogNode.find("div.ui-dialog-buttonpane button.ui-ncbibutton-submit"):ret},_doStdOKCancel:function(){var buttonPane,okBtn,cancelBtn,that;this.options.stdOKCancel&&(buttonPane=jQuery('<div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"></div>'),okBtn=jQuery('<button class="ui-ncbibutton-submit">'+this.options.stdOKText+"</button>"),cancelBtn=jQuery('<button class="ui-ncbibutton-cancel">'+this.options.stdCancelText+"</button>"),okBtn.ncbibutton({color:"blue"}),cancelBtn.ncbibutton(),that=this,cancelBtn.click(function(){that._triggerNode.ncbidialog("close"),jQuery(this).trigger("ncbidialogcancelclick")}),okBtn.click(function(){jQuery(this).trigger("ncbidialogokclick")}),buttonPane.append(okBtn),buttonPane.append(cancelBtn),this.element.append(buttonPane))},_overrideEvents:function(){for(var that=this,baseNode=this.isTrigger?this._triggerNode:this.element,dialogEventOptions=["dialogopen","dialogbeforeclose","dialogfocus","dialogdragstart","dialogdrag","dialogdragstop","dialogresizestart","dialogresize","dialogresizestop","dialogclose"],i=0;i<dialogEventOptions.length;i++)!function(eventOption){that.element.bind(eventOption,function(){baseNode.trigger("ncbi"+eventOption)})}(dialogEventOptions[i])},_parseCallbacks:function(){for(var callbackOpts=["open","beforeClose","focus","dragStart","drag","dragStop","resizeStart","resize","resizeStop","close"],getFncFromStr=$.ui.jig._getFncFromStr,i=0;i<callbackOpts.length;i++){var callbackOpt=callbackOpts[i],suppliedOpt=this.options[callbackOpt];suppliedOpt&&(suppliedOpt=getFncFromStr(suppliedOpt),this.options[callbackOpt]=suppliedOpt)}},getDialogNode:function(){var href;return void 0===this._dialogNode&&((href=this._triggerNode.attr("href"))&&""!==href&&!this._ajaxable?(href=this._triggerNode.prop("hash"),this._dialogNode=$(href)):this._dialogNode=$(this.options.destSelector)),this._dialogNode},_renderButtonMarkup:function(){this._jigButtons=this.element.parent().find("button,input[type=submit]").addClass("ui-state-default ui-corner-all"),0!==this._jigButtons.length&&this._doButtonHover()},_doButtonHover:function(){this._jigButtons.hover(function(){var b=$(this);b.hasClass("ui-state-active")?(b.removeClass("ui-state-active"),b.removeClass("ui-state-hover")):(b.addClass("ui-state-active"),b.addClass("ui-state-hover"))})},_ajaxable:function(trigger){this._href=$.trim(trigger.attr("href"));trigger=this._href.replace(window.location.href,"");return-1===trigger.search(/^#/)&&""!==trigger},close:function(){return this.element.dialog.apply(this.element,["close"])},open:function(){return this.element.dialog.apply(this.element,["open"])},isOpen:function(){return this.element.dialog.apply(this.element,["isOpen"])},widget:function(){return this.element.dialog.apply(this.element,["widget"])},moveToTop:function(){this.getDialogNode().dialog("moveToTop")},option:function(){for(var params=["option"],i=0;i<arguments.length;i++)params.push(arguments[i]);return this.element.dialog.apply(this.element,params)},enable:function(){return this.element.dialog.apply(this.element,["enable"])},disable:function(){return this.element.dialog.apply(this.element,["disable"])},destroy:function(){this.element.dialog.apply(this.element,["destroy"]).show().removeClass("ui-dialog ui-widget ui-widget-content ui-corner-all").unbind(),this._triggerNode.unbind(this.options.openEvent)},_getContent:function(){var hrefArr=this._href.split("#"),hrefArr=1===hrefArr.length?hrefArr[0]:hrefArr[0]+" #"+hrefArr[1];this.element.load(hrefArr,function(){jQuery.ui.jig.scan()})}})}(jQuery),jQuery.ui.jig.widget("ui.ncbiexternallink",{selector:"body",options:{pop:"fit",domains:["apple.com","facebook.com","google.com","twitter.com","youtube.com"]},_otherElems:null,_create:function(){this._createMessage(),this._setPopper(),this._addDynamicLinkHandler()},_getReALL:function(){var domains=jQuery.map(this.options.domains,function(domain){return domain.replace(/\./g,"\\.")});return void 0!==this._reALL&&this._reALL?this._reALL:new RegExp("^(.{3,5}:)?//(([^/]+).)?("+domains.join("|")+")","i")},_addDynamicLinkHandler:function(){var that=this;jQuery("body").on("mouseover","a[href]",function(e){var e=jQuery(e.currentTarget),reALL=that._getReALL();e.closest("#footer").length||!reALL.test(e[0].href)||e.is(that._otherElems)||e.data("ncbipopper")||(that._createPopper(e,"",that._popperContent),that._setTarget(e),e.trigger("mouseover"))})},_findLinks:function(elem){var reALL=this._getReALL();return elem.find("a[href]").filter(function(){return reALL.test(this.href)&&!jQuery(this).closest("#footer").length})},_disclaimerHTML:'<div style="display: none;">External link. Please review our <a href="https://www.nlm.nih.gov/privacy.html">privacy policy</a>.</div>',_createMessage:function(){var appendElem=jQuery("div.grid").eq(0);0===appendElem.length&&(appendElem=jQuery(document.body).eq(0)),this._popperContent=jQuery(this._disclaimerHTML).appendTo(appendElem)},_setTarget:function(elems){elems.each(function(){this.target||(this.target="_blank")})},_createPopper:function(trigger,otherElems,popperContent){var arrowDir="top",triggerPosition="bottom center",destPosition="top center";"top"===this.options.pop?(arrowDir="bottom",triggerPosition="top center",destPosition="bottom center"):"fit"===this.options.pop?(arrowDir="left",destPosition=triggerPosition="middle auto"):"fitTop"===this.options.pop&&(arrowDir="left",destPosition=triggerPosition="auto center"),trigger.ncbipopper({multipleHandlesSelector:otherElems,openAtTarget:!0,destSelector:popperContent,isDestElementCloseClick:!1,openAnimation:"none",closeAnimation:"none",isTriggerElementCloseClick:!1,triggerPosition:triggerPosition,destPosition:destPosition,hasArrow:!0,arrowDirection:arrowDir})},_setPopper:function(){var externalLinks=this._findLinks(jQuery("body")),firstElem=this._firstElem=externalLinks.eq(0),otherElems=externalLinks.slice(1);this._otherElems=otherElems,this._createPopper(firstElem,otherElems,this._popperContent),this._setTarget(externalLinks),"undefined"!=typeof ncbi&&ncbi.sg&&ncbi.sg.scanLinks&&(firstElem=this._popperContent.find("a")[0],ncbi.sg.scanLinks(firstElem))},destroy:function(){this._firstElem.ncbipopper("destroy"),this._popperContent.remove()}}),$.ui.jig.widget("ui.ncbiexpander",{options:{openDelay:200,delayTimeout:400,animationSpeed:200,minHeight:"55px",auto:!0},_create:function(){"use strict";this._wrapperInner(),this._setHeightAndClass(),this.isExpandable&&(this._addNavigator(),this._setArrowDirection("closed"),this._hookUpEvents())},destroy:function(){var el=this.element,div=el.find("div.ui-ncbiexpander"),html=div.html();div.remove(),el.html(html),(1==this.options.auto?el.find("ui-expander-arrow-bar"):el.find("ui-expander-controllink")).remove()},_wrapperInner:function(){"use strict";this._wrapper=this.element.wrapInner("<div class='expanderWrapper'></div>").find(".expanderWrapper")},_setHeightAndClass:function(){"use strict";this._wrapper.addClass("ui-ncbiexpander").height(this.options.minHeight),this.isExpandable=this._wrapper[0].scrollHeight>this._wrapper.height(),this.isExpandable||this._wrapper.addClass("ui-ncbiexpander-simple").height("auto")},_hookUpEvents:function(){"use strict";var config,contentHeight,that=this;this.isExpandable&&(contentHeight=that._wrapper[0].scrollHeight,1==this.options.auto?(config={interval:this.options.openDelay,timeout:this.options.delayTimeout,over:function(){that._isOpen=!0,that._wrapper.stop().animate({height:contentHeight},that.options.animationSpeed,function(){that._setArrowDirection("open")})},out:function(){that._isOpen=!1,that._wrapper.stop().animate({height:that.options.minHeight},that.options.animationSpeed,function(){that._setArrowDirection("closed")})}},this.element.hoverIntent(config),this.element.mouseenter(function(){that._setIconBarStyle(!0)}).mouseleave(function(){that._isOpen||that._setIconBarStyle(!1)})):that._attachControlLinkEvents(that,contentHeight))},_attachControlLinkEvents:function(obj,contentHeight){var that=obj;this.link=jQuery(this.element).find(".ui-expander-moreless"),jQuery(this.link).on("click",function(e){e.preventDefault(),0==that._isOpen?(that._isOpen=!0,that._wrapper.stop().animate({height:contentHeight},that.options.animationSpeed),jQuery(this).text("...less").removeClass("ui-expander-more").addClass("ui-expander-less")):(that._isOpen=!1,that._wrapper.stop().animate({height:that.options.minHeight},that.options.animationSpeed),jQuery(this).text("...more").removeClass("ui-expander-less").addClass("ui-expander-more"))})},_addNavigator:function(){"use strict";0==this.options.auto&&this.isExpandable?this._addControlLink():this._addArrow()},_addControlLink:function(){"use strict";this._isOpen=!1,this._iconBar=jQuery('<span class="ui-expander-controllink ui-helper-clearfix"><a href="" class="controlanchor ui-expander-more ui-expander-moreless">...more</a></span>').appendTo(this.element)},_addArrow:function(){"use strict";this._iconBar=jQuery('<div class="ui-expander-arrow-bar"><div class="bar closed"><div class=""></div></div></div>').appendTo(this.element)},_setArrowDirection:function(dir){"use strict";var oppDir="open"===dir?"closed":"open";this._iconBar.find("div.bar").addClass(dir).removeClass(oppDir),this._setIconBarStyle("open"===dir)},_setIconBarStyle:function(add){"use strict";this._iconBar[add?"addClass":"removeClass"]("ui-expander-arrow-bar-active")}}),$.ui.jig.widget("ui.ncbitabs",jQuery.ui.tabs,{selector:"div.jig-ncbitabs, div.jig-tabs, div[data-jig=tabs], div[data-jig=ncbitabs]",orgCreate:jQuery.ui.tabs.prototype._create,orgTabify:jQuery.ui.tabs.prototype._tabify,orgLoad:jQuery.ui.tabs.prototype.load,_create:function(){var that=this,that=(this.allTab=this.getAllTab(),(isAllTab=0<this.allTab.length)&&jQuery(this.element.children("ul")[0]).find("a").each(function(){jQuery(this).data("ncbitab-origHref",jQuery(this).prop("href"))}),this.orgCreate(),isAllTab&&(this.allTabPanel=jQuery("#"+this.allTab.attr("href").substr(1)),this._hideAllTabPanel()),isAllTab&&(jQuery(this.element.find(".ui-tabs-nav > li")[this.options.active]).find("a")[0]==this.allTab[0]&&this._doAllTab(),this.allTab.on({click:function(){that._doAllTab()},focus:function(){that._doAllTab()},keypress:function(){that._doAllTab()}})),this._addRolesAndInitTabIndex(),this);jQuery(this.element.children("ul")[0]).find("a").not(that.allTab).bind("click.ncbitabs",function(){that.element.removeClass("ui-tabs-all-selected"),that.element.find(".ui-tabs-panel").removeClass("ui-tabs-panel-internal")})},destroy:function(){jQuery(this.element.children("ul")[0]).find("a").removeData("ncbitab-origHref"),jQuery(this.element).find(".ui-tabs-panel").removeClass("ui-tabs-panel-internal"),jQuery(this.element).removeClass("ui-tabs-all-selected"),jQuery(this.element.children("ul")[0]).find("a").unbind("click.ncbitabs"),jQuery.ui.tabs.prototype.destroy.apply(this,arguments),this._removeRolesAndTabIndex()},_hideAllTabPanel:function(){this.allTabPanel.hide()},_doAllTab:function(){var that=this;that.element.addClass("ui-tabs-all-selected"),that.element.find(".ui-tabs-panel").each(function(){var origHref,panel=jQuery(this);""!==jQuery.trim(panel.html())&&that.options.cache||void 0===(origHref=that.element.find(".ui-tabs-nav a[href=#"+panel.attr("id")+"]").data("ncbitab-origHref"))||-1!=origHref.search(/#.+$/)||jQuery.get(origHref,function(data){panel.html(data)}),panel.not(":last-child").addClass("ui-tabs-panel-internal"),panel.removeClass("ui-tabs-hide"),that._hideAllTabPanel(),panel.is(that.allTabPanel)||panel.show()})},_orgToggle:jQuery.ui.tabs.prototype._toggle,_toggle:function(event,eventData){return this.element.find(".ui-tabs-panel").hide(),this._orgToggle(event,eventData)},getAllTab:function(){return ret=null,this.element.children("ul").find("a").each(function(){var $this=jQuery(this);"all"===$this.text().toLowerCase()&&(ret=$this)}),ret=ret||this.element.find("a.ui-ncbitabs-all")},_tabify:function(param){this.orgTabify(param);var that=this;this.element.find("ul.ui-tabs-nav a").on("keydown click",function(e){function activate(n,collection){n=jQuery(n),(nDom=n[0]).tabIndex=0,nDom.focus(),collection&&jQuery(collection).each(function(){this!==nDom&&(this.tabIndex=-1)})}jQuery(e.target).focus();var e=e.keyCode,keyD=jQuery.ui.keyCode;e===keyD.RIGHT&&activate(that.load(that.getNextTabIndex())[0],that.anchors),e===keyD.LEFT&&activate(that.load(that.getPreviousTabIndex())[0],that.anchors)})},_addRolesAndInitTabIndex:function(){function setRole(element,role){var origRole=element.attr("role");origRole&&element.data("ncbitab-origRole",origRole),element.attr("role",role)}var list=this.element.children("ul").siblings("div").each(function(){setRole(jQuery(this),"tabpanel")}).end();setRole(list,"tablist"),list.children("li").each(function(){setRole(jQuery(this),"presentation")}).find("a").each(function(i){setRole(jQuery(this),"tab"),this.tabIndex=0<i?-1:0})},_removeRolesAndTabIndex:function(){function unsetRole(element){var origRole=element.data("ncbitab-origRole");origRole?element.attr("role",origRole):element.removeAttr("role")}var list=this.element.children("ul").siblings("div").each(function(){unsetRole(jQuery(this))}).end();unsetRole(list),list.children("li").each(function(){unsetRole(jQuery(this))}).find("a").each(function(){unsetRole(jQuery(this)),jQuery(this).removeAttr("tabIndex")})},select:function(index){this.options.active=index},getCurrentTabIndex:function(){var index=null;return this.element.find("ul.ui-tabs-nav").children("li").each(function(i){if(jQuery(this).hasClass("ui-tabs-selected"))return index=i,!1}),index},getNextTabIndex:function(){var anchors=this.anchors,curIndex=this.getCurrentTabIndex();return curIndex===anchors.length-1?0:curIndex+1},getPreviousTabIndex:function(){var anchors=this.anchors,curIndex=this.getCurrentTabIndex();return 0===curIndex?anchors.length-1:curIndex-1}}),$.ui.jig.widget("ui.ncbispinner",jQuery.ui.spinner,{}),jQuery.ui.jig.widget("ui.ncbishare",{options:{popup:!1,shareLabel:"Share",urlLabel:"Permalink",shareUrl:"",beforeAddShareParam:void 0},_getShareInLine:function(){return'<ul class="ui-ncbishare social-buttons inline_list"><li><button data-share="Facebook" title="Share on Facebook" class="share_facebook">Share on Facebook</button></li><li><button data-share="Twitter" title="Share on Twitter" class="share_twitter">Share on Twitter</button></li><li><button data-share="Google" title="Share on Google+" class="share_google">Share on Google+</button></li></ul>'},_getSharePopup:function(){return'<div style="display:none;" id="ncbi_share_box"> <label id="ncbi_share_label">Share</label>'+this._getShareInLine()+'<span class="clearfix"/><label for="ncbi_share_inp" id="ncbi_share_url_label">URL</label><input type="text" id="ncbi_share_inp"/></div>'},_shareFragment:$(),_create:function(){this.options.popup?(this._appendPopup(),this._attachPopper()):this._showWidget(),this._attachPinger(),this._createSocialButtonsObj(),this._attachEvents()},_showWidget:function(){this._shareFragment=jQuery(this._getShareInLine()),this.element.after(this._shareFragment).hide()},_appendPopup:function(){jQuery("#ncbi_share_box")[0]||(jQuery("body").children().last().after(this._getSharePopup()),this._shareFragment=jQuery("#ncbi_share_box"))},_attachPopper:function(){jQuery.ui.ncbipopper({destSelector:"#ncbi_share_box",closeEvent:"click",openEvent:"click",adjustFit:"autoAdjust",openAnimation:"none",addCloseButton:!0,hasArrow:!1,destPosition:"top left",triggerPosition:"bottom center",arrowDirection:"top"},this.element)},_attachPinger:function(){"undefined"!=typeof ncbi&&ncbi.sg&&ncbi.sg.scanLinks&&ncbi.sg.scanLinks(this.element.get())},_createSocialButtonsObj:function(){var socialButtons;void 0===this.__proto__._socialButtonsObj&&((socialButtons={}).shareServices={facebook:{postUrl:"https://www.facebook.com/sharer.php",shareParameters:{u:"shareURLPlaceholder"},width:655,height:430},twitter:{postUrl:"https://twitter.com/intent/tweet",shareParameters:{url:"shareURLPlaceholder",text:jQuery('meta[property="og:title"]').length?jQuery('meta[property="og:title"]').attr("content"):document.title,related:jQuery('meta[name="twitter:site"]').length?jQuery('meta[name="twitter:site"]').attr("content").substring(1):""},width:600,height:450},google:{postUrl:"https://plus.google.com/share",shareParameters:{url:"shareURLPlaceholder",hl:"en-US"},width:600,height:600},reddit:{postUrl:"https://reddit.com/submit",shareParameters:{url:"shareURLPlaceholder",hl:"en-US"},width:600,height:600}},socialButtons.socialShare=function(shareName,shareURL,node){var currOptions={},shareBox=node.closest("#ncbi_share_box"),currOptions=(shareBox[0]?shareBox.data("attachedTo"):node.closest(".social-buttons").prev()).ncbishare("option"),shareBox=socialButtons.buildUrl(shareName,shareURL,node,currOptions);currOptions.shorten,socialButtons.openShareWindow(shareName,shareBox)},socialButtons.shortenAndOpenShareWindow=function(shareName,postUrlTuple){for(var urlParamName,urlVal,paramsArr=postUrlTuple[1],len=paramsArr.length,urlInd=0,i=0;i<len;i++){var res=paramsArr[i].match(/^(u|url)=(.*)/);if(res){urlInd=i,urlParamName=res[1],urlVal=res[2];break}}var shortUrl,longUrl=decodeURIComponent(urlVal);$.ajax({url:"https://api.bit.ly/v3/shorten",dataType:"jsonp",timeout:5e3,async:!1,data:{longUrl:longUrl,apiKey:"?????",login:"????"}}).done(function(res){200==res.status_code&&(shortUrl=res.data.url,paramsArr[urlInd]=urlParamName+"="+encodeURIComponent(shortUrl))}).fail(function(e){console.warn("socialButtons.shorten.fail",e)}).always(function(){socialButtons.openShareWindow(shareName,postUrlTuple)})},socialButtons.openShareWindow=function(shareName,postUrlTuple){var options=socialButtons.shareServices[shareName],width=options.width||655,options=options.height||600,postUrlTuple=postUrlTuple[0]+socialButtons.paramChar(postUrlTuple[0])+postUrlTuple[1].join("&amp;");window.open(postUrlTuple,shareName+"Share","toolbar=0,status=0,height="+options+",width="+width+",scrollbars=yes,resizable=yes")},socialButtons.buildUrl=function(shareName,shareURL,node,currOptions){var options=socialButtons.shareServices[shareName],urlToShare=shareURL&&""!==shareURL&&"#"!==shareURL?shareURL:window.location.href.replace(/#.*/,""),parameters=[],shareURL=options.postUrl;return jQuery.each(options.shareParameters,function(paramKey,paramValue){"function"==typeof currOptions.beforeAddShareParam&&(paramValue=currOptions.beforeAddShareParam.call(null,shareName,paramKey,paramValue,node)),""!==(paramValue="url"!=paramKey&&"shareURLPlaceholder"!=paramValue?paramValue:"shareURLPlaceholder"==paramValue?urlToShare:paramValue)&&parameters.push(paramKey+"="+encodeURIComponent(paramValue))}),[shareURL,parameters]},socialButtons.paramChar=function(paramString){return-1!==paramString.indexOf("?")?"&amp;":"?"},this.__proto__._socialButtonsObj=socialButtons),this._socialButtonsObj=this.__proto__._socialButtonsObj},_attachEvents:function(){var shareBox,that=this;this._shareFragment.find("button[data-share]").on("click",function(e){e.preventDefault();var e=jQuery(this),shareURL="",shareURL=!0===that.options.popup?e.closest("#ncbi_share_box").find("#ncbi_share_inp").val():""!==(shareURL=that.options.shareUrl||that.element.prop("href"))&&"#"!==shareURL?shareURL:window.location.href;that._socialButtonsObj.socialShare(e.data("share").toLowerCase(),shareURL,e)}),this.element.on("ncbipopperopen",function(e){var self=jQuery(this),shareURL=""!==(shareURL=that.options.shareUrl||self.attr("href"))&&"#"!==shareURL?shareURL:window.location.href,txtInput=(jQuery("#ncbi_share_label").text(that.options.shareLabel),jQuery("#ncbi_share_url_label").text(that.options.urlLabel),jQuery("#ncbi_share_box button").attr("ref",self.attr("ref")+"&link_href="+shareURL),jQuery("#ncbi_share_box").data("attachedTo",self),jQuery("#ncbi_share_inp").val(shareURL));that.__proto__._isTouchDevice||window.setTimeout(function(){txtInput.select()},0)}),jQuery._data(window,"events")&&jQuery._data(window,"events").touchstart||(shareBox=jQuery("#ncbi_share_box"),jQuery(window).on("touchstart",function(e){that.__proto__._isTouchDevice=!0,jQuery(e.target).closest("#ncbi_share_box")[0]||shareBox.is(":visible")&&shareBox.data("attachedTo").ncbipopper("close")}))}}),$.ui.jig.widget("ui.ncbiselectmenu",jQuery.ui.selectmenu,{}),$.ui.jig.widget("ui.ncbislider",jQuery.ui.slider,{}),$.ui.jig.widget("ui.ncbihistogram",{options:{data:null,barWidth:5,barSpacing:1,useLogScale:!1,selected:null,sortData:!0,isNumeric:!0,convertYYYYMMtoYYYY:!0,textDefault:"",textSelected:"Selected",textHover:"Click to Select",textTooltip:" {label} - {count} items",destSelector:null,enableZeroCountSelection:!1},_create:function(){this._addClasses(),this._setUpData(),this._createTooltip(),this._setupPositionScroll(),this._addEvents(),this._setBarWidths()},_addClasses:function(){this.element.addClass("ui-ncbihistogram")},_formatDataFromHTMLSource:function(destSelector){var dataHolder=jQuery(destSelector),lis=dataHolder.find("li");if(0===lis.length)return console.warn("Could not locate any lis for the ncbihistogram. destSelector: "+destSelector),[];var year,years={},isYYYYMM=(this.options.isNumeric,this.options.convertYYYYMMtoYYYY),data=(lis.each(function(){var value=this.getAttribute("value"),value=isYYYYMM&&null!==value&&4<value.toString().length?value.toString().substr(0,4):value,prevVal=years[value],val=parseInt(this.innerHTML,10);void 0===prevVal?years[value]=val:years[value]+=val}),[]);for(year in years)data.push({textlabel:parseInt(year,10),count:years[year]});return dataHolder.remove(),data},_makeLists:function(){var addCommas,chartHeight,useLog,selectedYear,isNumeric,totalBarCount,textTooltip,data,openGroup,addGrouping,closeGrouping,createBar,out,maxCount,prevYear,dataUnsorted=this.options.data,destSelector=this.options.destSelector;return 0===(dataUnsorted=destSelector?this._formatDataFromHTMLSource(destSelector):dataUnsorted).length&&"undefined"!=typeof console?(console.warn("There is no data set for ncbihistogram. Length is zero."),console.info(this.element),this.element.hide(),!1):(addCommas=function(nStr){for(var nStr=(nStr+="").split("."),x1=nStr[0],nStr=1<nStr.length?"."+nStr[1]:"",rgx=/(\d+)(\d{3})/;rgx.test(x1);)x1=x1.replace(rgx,"$1,$2");return x1+nStr},chartHeight=this.element.find(".ui-ncbihistogram-display-area").height(),useLog=this.options.useLogScale,selectedYear=this.options.selected,isNumeric=this.options.isNumeric,totalBarCount=0,textTooltip=this.options.textTooltip,data=null,data=this.options.sortData?jQuery.merge([],dataUnsorted).sort(function(a,b){return a.textlabel===b.textlabel?0:a.textlabel>b.textlabel?1:-1}):dataUnsorted,openGroup=!1,addGrouping=function(decade){openGroup&&closeGrouping(),out.push("<li><h3>"+decade+"</h3><ol>"),openGroup=!0},closeGrouping=function(){out.push("</ol></li>")},createBar=function(year,count){totalBarCount++;var height=null,height=useLog?0===count?0:Math.ceil(chartHeight*Math.log(count)/Math.log(maxCount)):Math.ceil(chartHeight*count/maxCount),margin=chartHeight-(height=0<count&&height<3?3:height),count=addCommas(count.toString()),titleStr=textTooltip.replace(/\{label\}/gi,year).replace(/\{count\}/gi,count);out.push('<li><a href="#"'+(' title="'+titleStr+'"')+(' style="height:'+height+"px;margin-top:"+margin+'px"')+(' data-label="'+year+'"')+(' data-count="'+count+'"')+(selectedYear===year?' class="selected"':"")+">Year "+year+" - "+count+" items</a></li>")},out=[],maxCount=data[0].count,jQuery.map(data,function(val,ind){maxCount<val.count&&(maxCount=val.count)}),prevYear=null,jQuery.map(data,function(val,ind){var ind=data[ind],currentYear=ind.textlabel,ind=ind.count;isNumeric?(function(start,end,currentCount){for(var year=(start=null===start?end-1:start)+1;year<=end;year++)year%10!=0&&openGroup||addGrouping(10*Math.floor(year/10)),createBar(year,year===end?currentCount:0)}(prevYear,currentYear,ind),prevYear=currentYear):createBar(currentYear,ind)}),destSelector=' class="not-nested"',isNumeric&&(closeGrouping(),destSelector=""),'<ol style="width:'+totalBarCount*(this.options.barWidth+this.options.barSpacing)+'px" '+destSelector+">"+out.join("")+"</ol>")},_makeArrows:function(){var that=this;this._controlBar=jQuery('<div class="ui-ncbihistogram-controls"></div>'),this._arrow_right=jQuery("<div></div>").addClass("ui-ncbihistogram-right").html("Scroll right...").appendTo(this._controlBar).click(function(){that.moveRight()}),this._arrow_left=jQuery("<div></div>").addClass("ui-ncbihistogram-left").html("Scroll left...").appendTo(this._controlBar).click(function(){that.moveLeft()}),this._text_hint=jQuery("<div></div>").addClass("ui-ncbihistogram-text").html(this.options.textDefault).appendTo(this._controlBar),this._controlBar.appendTo(this.element),this._setText()},_createElements:function(){jQuery('<div class="ui-ncbihistogram-display-area"></div>').appendTo(this.element).html(this._makeLists()),this._makeArrows()},_setUpData:function(){this.options.data||this.options.destSelector?this._createElements():"undefined"!=typeof console&&console.error&&(console.error("No data source set for ncbihistogram"),console.info(this.element))},_setupPositionScroll:function(){var that;jQuery.ui.jig.hasOnloadFired?this._positionScroll():(that=this,jQuery(window).load(function(){that._positionScroll()}))},_positionScroll:function(){var parLeft,holderWidth,wrapper=this.element.find(".ui-ncbihistogram-display-area"),ol=this.element.find("ol").eq(0),ol=ol.width()>wrapper.width()?ol.outerWidth():0,selectedLink=this._getSelectedYear();1===selectedLink.length&&(parLeft=wrapper.offset().left,selectedLink=selectedLink.offset().left,wrapper.prop("scrollLeft"),holderWidth=wrapper.width(),ol=(selectedLink=selectedLink-parLeft)<0?holderWidth/2-selectedLink:selectedLink-holderWidth/2),wrapper.scrollLeft(ol),this._enableDisableArrows(wrapper.scrollLeft())},moveLeft:function(){this.moveScroll(-1)},moveRight:function(){this.moveScroll(1)},moveScroll:function(dir){var wrapper=this.element.find(".ui-ncbihistogram-display-area"),wrapWidth=wrapper.width(),olWidth=this.element.find("ol").width(),scrollDist=Math.ceil(olWidth/3);if(olWidth<=wrapWidth)return!1;scrollDist<100?scrollDist=100:wrapWidth<scrollDist&&(scrollDist=wrapWidth);olWidth=wrapper.scrollLeft()+dir*scrollDist;olWidth<0&&(olWidth=0),"undefined"!=typeof ncbi&&ncbi.sg&&ncbi.sg.ping({jsevent:"histogramScroll",direction:1===dir?"right":"left",startPosition:wrapper.scrollLeft(),endPosition:olWidth,scrollDist:scrollDist,wrapWidth:wrapWidth}),wrapper.animate({scrollLeft:olWidth+"px"},300),this._enableDisableArrows(olWidth)},_enableDisableArrows:function(scrollLeft){var wrapWid=this.element.find(".ui-ncbihistogram-display-area").width(),wrapWid=this.element.find("ol").eq(0).width()-1<=scrollLeft+wrapWid?"addClass":"removeClass";this._arrow_left[0===scrollLeft?"addClass":"removeClass"]("ui-ncbihistogram-left-disabled"),this._arrow_right[wrapWid]("ui-ncbihistogram-right-disabled")},_addEvents:function(){var that=this;this.element.on("mouseleave",function(evt){that._hideTooltips()}).on("mouseover",function(evt){that._positionTooltip(evt)}).find(this.options.isNumeric?"ol ol li":"li").on("click",function(evt){that._makeSelection(evt,this)})},_makeSelection:function(evt,domLi){var triggerAction,link=jQuery(domLi).find("a"),val=(evt.preventDefault(),link.data("label")||link.attr("data-label")),cnt=link.data("count")||link.attr("data-count");0===parseInt(cnt,10)?this._zeroNotify(val):(link.toggleClass("selected"),triggerAction=link.hasClass("selected")?"selectionmade":"selectionremoved",val=link.data("label")||link.attr("data-label"),cnt=link.data("count")||link.attr("data-count"),domLi&&"LI"===domLi.tagName&&"undefined"!=typeof ncbi&&ncbi.sg&&ncbi.sg.ping(link[0],evt,"click",{histogramclick:!0,barLabel:val,barCount:cnt,triggerAction:triggerAction}),this._trigger(triggerAction,null,[{value:val,count:cnt}]),domLi="selectionmade"===triggerAction?val:null,this._trigger("change",null,[{value:domLi,count:"selectionmade"===triggerAction?cnt:null}]),this._undoSelections(link[0]),this._setText())},_undoSelections:function(activeLink){this._getSelectedYear().not(activeLink).removeClass("selected")},_getSelectedYear:function(){return this.element.find("a.selected")},getSelectedValue:function(){var link=this._getSelectedYear();return 0===link.length?null:{value:link.data("label")||link.attr("data-label"),count:link.data("count")||link.attr("data-count")}},setSelectedValue:function(label){var foundItem=!1;this.element.find("li a").each(function(){var anchor=jQuery(this);if(anchor.data("label")==label)return foundItem=!0,anchor.click(),!1}),foundItem&&(this.element.find(".ui-ncbihistogram-display-area").scrollLeft(0),this._positionScroll())},_setText:function(lbl){var selectedLink=this._getSelectedYear(),text=this.options.textDefault;lbl?text=lbl:0<selectedLink.length&&(text=this.options.textSelected+" "+selectedLink.prop("title")),this._text_hint.html(text)},_setBarWidths:function(){var anchors,wrapper=this.element.find(".ui-ncbihistogram-display-area"),ol=this.element.find("div>ol"),wrapperWidth=wrapper.width();wrapperWidth>ol.width()&&(anchors=ol.find("a"),wrapper=Math.floor(wrapper.width()/anchors.length*2)/2,anchors.css({width:wrapper-1+"px","margin-right":"1px"}).last().css("margin-right","0px"),wrapper=Math.ceil(wrapperWidth-wrapper*anchors.length-1)/2,ol.width(wrapperWidth-1).css("padding-left",wrapper+"px"))},_createTooltip:function(){var appendElem=jQuery(".grid").eq(0);0===appendElem.length&&(appendElem=jQuery(document.body)),this._tooltip_total=jQuery('<div class="ui-ncbihistogram-tooltip"></div>').appendTo(appendElem)},_positionTooltip:function(evt){evt=jQuery(evt.target||evt.srcElement),evt=1===evt.length&&"LI"===evt[0].nodeName?evt.find("a"):evt;if(1===evt.length&&this._tooltip_total){var cnt=evt.data("count"),lbl=evt.data("label");if(void 0===lbl)this._tooltip_total.hide();else try{this._tooltip_total.show().html(lbl+": "+cnt).position({my:"right top",of:evt.parent(),at:"left top",collision:"fit"})}catch(e){this._tooltip_total.hide()}}},_hideTooltips:function(){this._tooltip_total.hide().html("")},_zeroNotify:function(lbl){var that=this;this._setText("No items found for "+lbl.toString()),this._text_hint.stop().delay(1e3).fadeOut(300,function(){that._setText()}).fadeIn(300)}}),$.ui.jig.widget("ui.ncbiactivevalidation",{options:{destElement:null,delay:400,validationFunction:null,validatingMsg:null,errorBorder:!0},_create:function(){this._addEvents(),this._addClasses(),0<this.element.val().length&&this.runCheck(!0)},runCheck:function(force){var validatingMsg;this._removeTimer(),0===this.element.val().length?this.displayMessage(null,""):this.lastValue!==this.element.val()&&((validatingMsg=this.options.validatingMsg)?this.displayMessage("checking",validatingMsg):this.displayMessage(null,""),force?this._callValidation():this._setTimer())},_removeTimer:function(){this._validationTimer&&window.clearTimeout(this._validationTimer)},_setTimer:function(){var that=this,delay=this.options.delay;this._validationTimer=window.setTimeout(function(){that._callValidation()},delay)},_callValidation:function(){if(this.lastValue=this.element.val(),0===this.lastValue.length)this.displayMessage(null,"");else if(validationFunction=this.options.validationFunction){if("string"==typeof validationFunction){var validationFunction=jQuery.ui.jig._getFncFromStr(validationFunction),that=this;if(!validationFunction){var reloadCnt=(this.count||0)+1;if(!(100<(this.count=reloadCnt)))return void window.setTimeout(function(){that._callValidation()},100);console.warn("Validation Function not find "+this.options.validationFunction),validationFunction=function(){this.displayMessage(null,"")}}this.options.validationFunction=validationFunction}validationFunction.call(this)}else console.error("Validation Function not set for ncbiactivevalidation")},_keyUp:function(){this.runCheck()},_paste:function(){this.runCheck()},_blur:function(){this.runCheck(!0)},_addEvents:function(){var that=this;this._keyupFnc=function(){that._keyUp()},this._pasteFnc=function(){that._paste()},this._blurFnc=function(){that._blur()},this.element.on("keyup",this._keyupFnc).on("paste",this._pasteFnc).on("blur",this._blurFnc)},_addClasses:function(){var destElement=this.options.destElement,outElem=jQuery(destElement);destElement||console.error("destElement is not set for ncbiactivevalidation"),outElem.addClass("ncbiactivevalidation_msg")},_removeClasses:function(){var destElement=this.options.destElement,destElement=jQuery(destElement);destElement.removeClass("ncbiactivevalidation_msg"),this._lastTypeClass&&destElement.removeClass(this._lastTypeClass)},_removeEvents:function(){this.element.off("keyup",this._keyupFnc).off("paste",this._pasteFnc).off("blur",this._blurFnc)},destroy:function(){this._removeTimer(),this._removeEvents(),this._removeClasses()},displayMessage:function(type,msgTxt){this._trigger("result","x",{type:type,message:msgTxt});var destElement=this.options.destElement,destElement=jQuery(destElement),cssClass=type&&0<type.length?"ncbiactivevalidation_msg_"+type:null;destElement.html(msgTxt),cssClass&&destElement.addClass(cssClass),this._lastTypeClass&&this._lastTypeClass!==cssClass&&destElement.removeClass(this._lastTypeClass),this._lastTypeClass=cssClass,this._last=type,this.options.errorBorder&&("valid"==type?this.element.removeClass("ncbiactivevalidation_el_error"):"error"==type&&this.element.addClass("ncbiactivevalidation_el_error"))},getValidationStatus:function(){return this._last||null}}),$.ui.jig.widget("ui.ncbitooltip",jQuery.ui.tooltip,{}),$.ui.jig.widget("ui.ncbielastictextarea",{_create:function(){autosize(this.element)}});